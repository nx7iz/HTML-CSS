(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1284:function(e,t,n){"use strict";n.r(t),n.d(t,"Finalize",(function(){return at}));var a=n(0),o=n.n(a),i=n(910),r=n.n(i),s=n(112),l=n(6),c=n(874),u=n(240),m=n(62),p=n.n(m),d=n(1),f=n(248),b=n(245),g=n.n(b),v=n(4),h=function(e){return o.a.createElement("div",{className:"modal-body"},o.a.createElement(g.a,Object(v.X)(e,e.state.formatSelection)))},S=function(e){return o.a.createElement("div",{className:"modal-body"},o.a.createElement("span",{className:"modal-title"},BLDR.Localization.resumeOptionsPopupHeading),o.a.createElement("div",{className:"emailprintdownload-links"},o.a.createElement("a",{onClick:e.openDownloadFormatPopup,className:"epdlink downloadlink active"},o.a.createElement(l.fb,null),BLDR.Localization.downloadText),o.a.createElement("a",{onClick:e.onPrintClick,className:"epdlink printlink"},o.a.createElement(l.Cb,null),BLDR.Localization.printText),BLDR.featureSets.publishResume&&o.a.createElement("a",{onClick:e.updateStateForDocumentPublish,className:"epdlink emaillink",role:"button"},o.a.createElement(l.lc,null),BLDR.Localization.common_Publish),o.a.createElement("a",{onClick:e.openEmailPopup,className:"epdlink emaillink"},o.a.createElement(l.ib,null),BLDR.Localization.emailText)))},k=n(91),D=n.n(k);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=y(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){return o.a.createElement("div",{className:"email-popup-body"},o.a.createElement(D.a,Object(v.db)(e,w(w({},e.state.emailTo),{},{autoFocus:window.BLDR.featureSets.isFunnelImprovements}))),o.a.createElement(D.a,Object(v.db)(e,e.state.emailFrom)),o.a.createElement(D.a,Object(v.db)(e,e.state.emailSubject)),o.a.createElement("div",{className:"email-popup-body-body form-lg form-fields"},o.a.createElement("span",null,BLDR.Localization.emailBodyLabetText),o.a.createElement("textarea",{name:"emailBody",className:"email-body form-lg form-fields",onChange:e.txtOnChange,value:e.state.emailBody,placeholder:BLDR.Localization.emailBodyPlaceholder})))},T=function(e){return o.a.createElement("div",{className:"email-success-popup-body"},o.a.createElement("div",{className:"check-div"},o.a.createElement(l.gb,null),"  "),o.a.createElement("div",{className:"email-popup-success-title title"},o.a.createElement("h2",null,BLDR.Localization.emailSentText)),o.a.createElement("p",{className:"success-text"},o.a.createElement("span",null,BLDR.Localization.emailSuccessMessageText)),o.a.createElement("button",{className:"close-btn",onClick:e.closeEmailSentPopup},BLDR.Localization.closeText))},L=n(2),N=n(1283);function P(e,t){var n="";e.length>1&&(n=e.find((function(e){return e.styleTypeCD==t})).value);return n}var F=n(68);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,i,r,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function z(e){var t=[],n=[L.TypeCodes.styleTypeCD.pageSize,L.TypeCodes.styleTypeCD.headingFontSize],i=[L.TypeCodes.styleTypeCD.fontSize];BLDR.NonSupportedFormatting&&BLDR.NonSupportedFormatting[e.skinCD]&&(t=BLDR.NonSupportedFormatting[e.skinCD]);var r=[],s=e.sliders;e.fs_revampFinalizeMob&&(s=Object(v.Xb)(s,"code","FTFC"));var c=s.map((function(a,s){var l,c,u="";if(t.findIndex((function(e){return e==a.code}))>-1)u="";else if(a.code==L.TypeCodes.styleTypeCD.fontFace){var m=a.label;e.fs_revampFinalizeMob&&(m=BLDR.Localization.finalizeRevamp_mob_select_font),u=o.a.createElement("li",{className:"form-inline slider-item select-fonts-wrap",key:s},o.a.createElement(g.a,{id:"selectfonts",labelName:m,name:"selectfonts",defaultValue:e.currentFont.value,newUI:!0,onChange:e.onFontClick,options:(l=BLDR.formattingFonts||[],c=[],l.sort().forEach((function(e){c.push({value:e,label:e,style:{fontFamily:e}})})),c),customClass:"select-fonts",type:"fonts",scopedClass:e.scopedClass,hideValidationIcons:!0,hideIsValidClass:!BLDR.formattingFonts||!BLDR.formattingFonts.includes(e.currentFont?e.currentFont.value:""),isSearchable:!e.fs_revampFinalizeMob}))}else if(n.indexOf(a.code)>-1){var p,d=a.optionLabel?a.optionLabel:[];null==a||null===(p=a.optionLabelRange)||void 0===p||p.forEach((function(e){return d.push({value:e,label:e,type:a.code})})),u=o.a.createElement("li",{className:"form-inline slider-item select-fonts-wrap",key:s},o.a.createElement("div",{className:"slider-title"},a.label),o.a.createElement(g.a,{id:a.code,name:a.code,defaultValue:P(e.docStyles,a.code).toLowerCase(),newUI:!0,onChange:e.onFormattingChange,optionLabel:d}))}else if(i.indexOf(a.code)>-1)if(a.code==L.TypeCodes.styleTypeCD.fontSize){var f=o.a.createElement("ul",{className:"font-size-options"},o.a.createElement("li",{id:"smallFormatting",className:"font-size-item small ".concat(e.formattingType&&"small"==e.formattingType.toLowerCase()?"active":""),onClick:function(t){return e.handleChangeFormatting(t,"Small",null,null,!0)}},o.a.createElement("span",{className:"font-icon"},"A"),o.a.createElement("p",{className:"font-text"},BLDR.Localization.smallText)),o.a.createElement("li",{id:"defaultFormatting",className:"font-size-item normal ".concat(e.formattingType?("normal"==e.formattingType.toLowerCase()||"default"==e.formattingType.toLowerCase())&&"active":""),onClick:function(t){return e.handleChangeFormatting(t,"Normal",null,null,!0)}},o.a.createElement("span",{className:"font-icon"},"A"),o.a.createElement("p",{className:"font-text"},BLDR.Localization.defaultText)),o.a.createElement("li",{id:"largeFormatting",className:"font-size-item large ".concat(e.formattingType&&"large"==e.formattingType.toLowerCase()?"active":""),onClick:function(t){return e.handleChangeFormatting(t,"Large",null,null,!0)}},o.a.createElement("span",{className:"font-icon"},"A"),o.a.createElement("p",{className:"font-text"},BLDR.Localization.largeText)));r.unshift(f)}else r.push(u);else{var b=a.labelsNumber,v=parseInt(P(e.docStyles,a.code)),h=a.code==L.TypeCodes.styleTypeCD.headingFontSize||a.code==L.TypeCodes.styleTypeCD.fontSize?a.label+"<span class='slider-viewsize'>"+v+" pt</span>":a.label;u=o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"form-inline slider-item"+(b?" has-label":""),key:a.code},o.a.createElement("div",{className:"slider-title",dangerouslySetInnerHTML:{__html:h}}),o.a.createElement("div",{className:"slider-line ".concat(a.code),id:a.code},o.a.createElement(N.a,{ariaLabel:a.label,className:"formatting-slider",marks:b?Object.keys(b):[parseInt(a.min),parseInt(a.max)],markClassName:"example-mark",min:parseInt(a.min),value:v,max:parseInt(a.max),step:parseInt(a.step),thumbClassName:"example-thumb",trackClassName:"example-track",renderThumb:function(e,t){return o.a.createElement("div",e,t.valueNow)},onChange:function(t){return e.handleChange(a.code,a.label,t,a.eventName,e.local_this)},onAfterChange:function(t){return e.handleChangeComplete(a.code,t,a.eventName,e.local_this)}}))))}return u})),u=B(Object(a.useState)(!1),2),m=u[0],p=u[1],d=Object(a.useRef)(null);Object(a.useEffect)((function(){if(e.fs_revampFinalizeMob){var t=d.current.firstElementChild.offsetHeight;d.current.scrollTo({top:t,behavior:"smooth"})}}),[m]);var f=B(Object(a.useState)(!1),2),b=f[0],h=f[1];return o.a.createElement("div",{className:"formatting-inner",ref:d,id:"formattingInner"},o.a.createElement("div",{className:"fonts-setting-wrap"},o.a.createElement("h3",{className:"format-option-head"},BLDR.Localization.formatSettingsLabel),r),o.a.createElement("div",{id:"advfontsSettingWrap",className:"advfonts-setting-wrap ".concat(e.fs_revampFinalizeMob&&m?"open":"")},o.a.createElement("h3",{id:"advSettingClick",className:"format-option-head ".concat(m?"active":""),onClick:function(){if(BLDR.featureSets.finalizePageRewamp||e.fs_revampFinalizeMob){var t=m?"close":"open";t+=" more font settings",Object(F.a)("clicked",e.fs_revampFinalizeMob?"personalize":"formatting menu",t,"finalize",e.fs_revampFinalizeMob?"edit formating":null)}p(!m)}},BLDR.Localization.finalizeRevamp_advancedSettingsLabelV2,o.a.createElement("span",{className:"icon-wrap"},m&&!e.fs_revampFinalizeMob?o.a.createElement(l.ab,null):o.a.createElement(l.T,null))),o.a.createElement("div",{className:"formats-wrap ".concat(m?"active":"")},o.a.createElement("ul",{className:"formatting-list advancedSetting"},c),o.a.createElement("button",{type:"button",className:"reset-formatting-btn",onClick:e.resetFormatting},o.a.createElement(l.Ub,null),BLDR.Localization.finalizeRevamp_reset_LabelV2))),e.showPublishTab&&o.a.createElement("div",{className:"advfonts-setting-wrap publish-resume-wrap"},o.a.createElement("div",{className:"format-option-head ".concat(b?"active":""),onClick:function(){h(!b)},id:"publishTab"},o.a.createElement("h3",{className:"publish-online-heading"},BLDR.Localization.publish_tab_publish_resume_online,o.a.createElement("span",{className:"publish-online-new-tag"},BLDR.Localization.publish_tab_new_text," ")),o.a.createElement("span",{className:"icon-wrap"},b?o.a.createElement(l.ab,null):o.a.createElement(l.T,null))),o.a.createElement("div",{className:"formats-wrap ".concat(b?"active":"")},o.a.createElement("p",{className:"publish-online-text"},BLDR.Localization.publish_tab_create_a_sharable_url," "),o.a.createElement("button",{className:"button get-sharable-link button-default",onClick:e.updateStateForDocumentPublish,id:"publishTabCta"},BLDR.Localization.publish_tab_get_your_shareable_link,o.a.createElement(l.lc,null)))))}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,A(a.key),a)}}function U(e,t,n){return t=M(t),function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],M(e).constructor):t.apply(e,n))}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=_(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}var H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(n=U(this,t,[e]),"checkStyleOptions",(function(e){var t=[];return n.props.hideStyleOptions&&n.props.hideStyleOptions.length>0&&e&&e.length>0?(e.forEach((function(e){-1==n.props.hideStyleOptions.indexOf(e.code)&&t.push(e)})),t):e})),I(n,"handleChange",(function(e,t,a,o,i){var r=Object.assign([],n.props.docStyles),s=r.find((function(t){return t.styleTypeCD==e}));a!=s.value&&(i.clickOption=(a>s.value?"increase ":"decrease ")+o),s.value=a||0==a?a.toString():null,n.state.sliderStart?n.props.onSliderChanging(r):n.props.onFormattingChange(n.props.docStyles,!0)})),I(n,"handleChangeStart",(function(){n.setState({sliderStart:!0})})),I(n,"handleChangeComplete",(function(e,t,a,o){(BLDR.featureSets.finalizePageRewamp||n.props.fs_revampFinalizeMob)&&Object(F.a)("clicked",n.props.fs_revampFinalizeMob?"personalize":"formatting menu",o.clickOption,"finalize",n.props.fs_revampFinalizeMob?"edit formating":null),n.setState({sliderStart:!1}),n.props.onFormattingChange(n.props.docStyles,!1)})),I(n,"handleFontClick",(function(e){var t=Object.assign([],n.props.docStyles),a=t.find((function(e){return e.styleTypeCD==d.Ac.FTFC}));a.value=e.value,(BLDR.featureSets.finalizePageRewamp||n.props.fs_revampFinalizeMob)&&Object(F.a)("clicked",n.props.fs_revampFinalizeMob?"personalize":"formatting menu",(a.value?a.value.toString():"")+" font","finalize",n.props.fs_revampFinalizeMob?"edit formating":null),n.props.onFontClick(t)})),I(n,"resetFormatting",(function(e){e&&e.preventDefault(),n.props.resetFormatting(null,null,"reset formatting")})),I(n,"onFormattingChange",(function(e){e.type==L.TypeCodes.styleTypeCD.pageSize?"a4"==e.value?n.props.updatePaperSizeStyleInDocument("A4",BLDR.Localization.a4Size_lbl):n.props.updatePaperSizeStyleInDocument("Letter",BLDR.Localization.letterSize_lbl):n.props.onFormattingChange(n.props.docStyles,!1)})),I(n,"toggleAdvancedMenu",(function(){document.querySelector(".fs-formatting-options-wrap")&&document.querySelector(".fs-formatting-options-wrap").classList.remove("active")})),n.state={confirmRestore:!1,isAdvancedMenu:!1},n.sliders=d.zc,n.sliders=n.checkStyleOptions(n.sliders),n.clickOption="",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props&&this.props.docStyles&&this.props.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.FTFC}));return o.a.createElement(z,{showFinalizeV3:this.props.showFinalizeV3,closePreviewTemplateRefine:this.props.formatingTemplate,sliders:this.sliders,currentFont:e&&1==e.length?e[0]:"",handleChange:this.handleChange,handleChangeComplete:this.handleChangeComplete,onFontClick:this.handleFontClick,docStyles:this.props.docStyles,resetFormatting:this.resetFormatting,scopedClass:this.props.scopedClass,skinCD:this.props.skinCD,showFinalizeV2:this.props.showFinalizeV2,onFormattingChange:this.onFormattingChange,toggleAdvancedMenu:this.toggleAdvancedMenu,isAdvancedMenu:this.state.isAdvancedMenu,handleChangeFormatting:this.props.handleChangeFormatting,formattingType:this.props.formattingType,local_this:this,showPublishTab:this.props.showPublishTab,updateStateForDocumentPublish:this.props.updateStateForDocumentPublish,fs_revampFinalizeMob:this.props.fs_revampFinalizeMob})}}])&&x(n.prototype,a),i&&x(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(a.Component),V=n(794);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=G(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,i,r,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Q=Object(V.a)((function(e){var t=$(Object(a.useState)(),2),n=t[0],i=t[1],r=$(Object(a.useState)(!1),2),s=r[0],c=r[1],u=$(Object(a.useState)(!1),2),m=u[0],f=u[1],b=$(Object(a.useState)(!1),2),g=b[0],h=b[1],S=$(Object(a.useState)(!0),2),k=S[0],y=S[1],C=BLDR.UserClaims.user_uid,w=Object(v.dc)(e.documentId,C,d.Gb),E=$(Object(a.useState)({}),2),R=E[0],T=E[1],N=$(Object(a.useState)(!1),2),P=N[0],B=N[1],O=Object(v.S)()+w;Object(a.useEffect)((function(){e.documentActions.GetDocument(C,e.documentId).then((function(e){e?(c(!0),0==Object.keys(R).length&&T(e),Object(v.J)(e,d.N.PublishResume)?(BLDR.TrackEvents(d.ib.Notification,W(W(W({},d.bb.Activity,"viewed"),d.bb.Notification_Name,"resume live popup"),d.bb.Page_Name,"finalize")),y(!0),i(d.Tb.Publish)):(BLDR.TrackEvents(d.ib.Notification,W(W(W({},d.bb.Activity,"viewed"),d.bb.Notification_Name,"publish resume popup"),d.bb.Page_Name,"finalize")),i(d.Tb.Information))):c(!1)}))}),[]);var z=function(t,n){t&&t.preventDefault(),h(!0),BLDR.TrackEvents(d.ib.Notification,W(W(W(W({},d.bb.Activity,"clicked"),d.bb.Cta_Name,"publish"),d.bb.Notification_Name,n||"publish resume popup"),d.bb.Page_Name,"finalize")),R&&(Object(v.J)(R,d.N.PublishResume)?(i(d.Tb.Publish),y(!0)):(L.CommonHelper.addDocumentPreference(R,d.N.PublishResume,"1"),e.updateDocumentForResumePublish(C,R).then((function(e){e&&(BLDR.TrackEvents(d.ib.Notification,W(W(W({},d.bb.Activity,"viewed"),d.bb.Notification_Name,"resume live popup"),d.bb.Page_Name,"finalize")),T(e),f(!0),i(d.Tb.Publish),y(!0),h(!1),setTimeout((function(){f(!1)}),2e3))}))),Object(F.f)("published",O))},_=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.stopPropagation(),BLDR.TrackEvents(d.ib.Notification,W(W(W(W({},d.bb.Activity,"clicked"),d.bb.Cta_Name,a?"close popup":n===d.Tb.Information?"cancel":"close"),d.bb.Notification_Name,n===d.Tb.Information?"publish resume popup":"resume live popup"),d.bb.Page_Name,"finalize")),e.updateStateForDocumentPublish(t,!0)},x=function(e){e&&e.preventDefault(),BLDR.TrackEvents(d.ib.Notification,W(W(W(W({},d.bb.Activity,"clicked"),d.bb.Cta_Name,"open in browser"),d.bb.Notification_Name,"resume live popup"),d.bb.Page_Name,"finalize")),window.open(w)};return o.a.createElement(o.a.Fragment,null,s&&o.a.createElement(p.a,{isOpen:!0,shouldCloseOnOverlayClick:!1,hasHeader:!1,hasFooter:!1,cssClass:{btnPrimary:"button button-default",btnSecondary:"button button-primary button-delete",modalDialog:"modal-publish-resume"}},o.a.createElement("div",{className:"modal-bg publish-resume-modal"},o.a.createElement("div",{className:"publish-resume-popup popup-default"},o.a.createElement("div",{className:"popup-box"},o.a.createElement("button",{className:"close-popup-btn",onClick:function(e){return _(e,!0)}},o.a.createElement(l.o,{iconClass:"icon-close"})),n===d.Tb.Information&&o.a.createElement(o.a.Fragment,null,BLDR.IsMobileDevice()?o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/export-popup-bg-mobile.png"),alt:"export-popup-bg"}):o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/export-popup-bg.png"),alt:"export-popup-bg"}),o.a.createElement("div",{className:"popup-content"},o.a.createElement("h3",{className:"popup-title"},BLDR.Localization.publish_resume_online_text),o.a.createElement("p",{className:"popup-subtitle"},BLDR.Localization.publish_resume_online_para)),o.a.createElement("div",{className:"popup-button-wrap"},o.a.createElement("button",{className:"button button-default",onClick:function(e){return _(e)}},BLDR.Localization.common_Cancel),o.a.createElement("button",{className:"button button-primary \n                         ".concat(g?"disable":""),onClick:function(e){return z(e,"publish resume popup")}},BLDR.Localization.common_Publish))),n===d.Tb.Publish&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"popup-content share-resume-box"},o.a.createElement("h3",{className:"popup-title"},k?BLDR.Localization.share_live_resume:BLDR.Localization.publish_your_resume),k&&m&&o.a.createElement("div",{className:"success-label"},o.a.createElement(l.u,null),o.a.createElement("h5",{className:"success-head"},BLDR.Localization.your_resume_published)),o.a.createElement("p",{className:"popup-subtitle"},BLDR.Localization.copy_the_direct_link),o.a.createElement("div",{className:"url-link ".concat(k?"":"disable")},o.a.createElement(D.a,{inputType:J(J({},e.inputType),{},{value:O,id:""}),autoFocus:!0,isDisabledTextbox:!0}),P?o.a.createElement("button",{className:"button button-success link-btn"},o.a.createElement(l.l,null),BLDR.Localization.link_copied):o.a.createElement("button",{className:"button link-btn button-primary",onClick:function(e){return function(e){e.preventDefault(),B(!0),BLDR.TrackEvents(d.ib.Notification,W(W(W(W({},d.bb.Activity,"clicked"),d.bb.Cta_Name,"copy link"),d.bb.Notification_Name,"resume live popup"),d.bb.Page_Name,"finalize")),navigator&&navigator.clipboard&&navigator.clipboard.writeText&&window.document.hasFocus()?navigator.clipboard.writeText(O):Object(v.s)(O),setTimeout((function(){B(!1)}),2e3)}(e)}},o.a.createElement(l.fc,null)," ",BLDR.Localization.copy_link)),o.a.createElement("button",{className:"button button-default ".concat(k?"":"disable"),onClick:function(e){return x(e)}},BLDR.Localization.open_in_browser," ",o.a.createElement(l.lc,null))),o.a.createElement("div",{className:"popup-button-wrap"},o.a.createElement("button",{className:"button button-default",onClick:function(e){return _(e)}},BLDR.Localization.common_Close),o.a.createElement("button",{className:"button \n                    ".concat(g?"disable":k?"button-default":"button-primary"),onClick:function(t){return k?(n=t,a=d.N,n&&n.preventDefault(),BLDR.TrackEvents(d.ib.Notification,W(W(W(W({},d.bb.Activity,"clicked"),d.bb.Cta_Name,"unpublish"),d.bb.Notification_Name,"resume live popup"),d.bb.Page_Name,"finalize")),void(R&&(Object(v.J)(R,a.PublishResume)&&(R.preferences=R.preferences.filter((function(e){return e.docPreferenceTypeCD!=a.PublishResume})),h(!0),e.updateDocumentForResumePublish(C,R).then((function(e){h(!1),e&&(T(e),y(!1))}))),Object(F.f)("unpublished",O)))):z(t,"resume live popup");var n,a}},k?BLDR.Localization.common_Unpublish:BLDR.Localization.common_Publish))))))))})),Z=n(155),X=n(70);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=K(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ie(){return(ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var re=function(e,t,n){var a=null;switch(e){case d.Rb.resumePreview:a=le(t,!0,n);break;case d.Rb.downloadFormat:a=o.a.createElement(h,t);break;case d.Rb.mobileResumeOptions:a=o.a.createElement(S,t);break;case d.Rb.email:a=o.a.createElement(R,t);break;case d.Rb.emailSent:a=o.a.createElement(T,t)}return a};function se(e){return e.fs_EditableEnlargeResume?function(e){var t=BLDR.UserClaims&&"Guest"!=BLDR.UserClaims.role,n=re(d.Rb.resumePreview,e,!0),a=4==e.state.counterForTour||5==e.state.counterForTour;return o.a.createElement("div",{className:"builder-end-panel-panel"},o.a.createElement("div",{className:"open-sidebar builder-end-panel-header"},o.a.createElement(s.a,{toggleNav:e.toggleSidenav,hideHamburgerIcon:!0,hideLoginIcon:!t,showColorFormattingOptions:!1,selectedColor:e.skinColor,isExpFinalizePageIconsRevampVariant:e.isExpFinalizePageIconsRevampVariant,formattingOptionSelected:e.formattingOptionSelected,onColorClick:e.onSkinColorClick,onFormattingOptionClick:e.onFormattingOptionClick,onDownloadClick:e.openDownloadFormatPopup,onEmailClick:e.openEmailPopup,onPrintClick:e.onPrintClick,isFinalizePage:!0,updateStateForDocumentPublish:e.updateStateForDocumentPublish,hideEmailprintdownSection:!1,hideEmailButton:!1,hidePrintButton:!1,hideDownloadButton:!1,showSaveAndContinueButton:!0,onSaveAndContClick:e.onNextClick,headerBannerText:e.headerBannerText,setUpsellBannerDisplayDocPref:e.setUpsellBannerDisplayDocPref})),o.a.createElement("div",{className:"finalize-revamp-wrapper"},o.a.createElement("div",{className:"sidenav-wrap"},o.a.createElement(u.a,ie({},e,{isFinalize:!0,showAsModal:!0,toggleNav:e.toggleSidenav,ref:function(t){return e.assignRef("sidebar",t)},fs_EditableEnlargeResume:!0}))),o.a.createElement("div",{className:"preview-formatting-wrap"},o.a.createElement("div",{className:"templates-formating-wrap"},3==e.expFinalizePageIconsRevampVariant&&o.a.createElement("div",{className:"finalize-action-panel"},o.a.createElement("div",{className:"emailprintdownload-links"},o.a.createElement("a",{className:"epdlink downloadlink",onClick:e.openDownloadFormatPopup,role:"button",id:"btnDownloadCTA"},o.a.createElement(l.eb,null),BLDR.Localization.downloadText),o.a.createElement("a",{className:"epdlink emaillink",onClick:e.openEmailPopup,role:"button",id:"btnEmailCTA"},o.a.createElement(l.hb,null),BLDR.Localization.emailText),o.a.createElement("a",{className:"epdlink printlink",onClick:e.onPrintClick,role:"button",id:"btnPrintCTA"},o.a.createElement(l.Bb,null),BLDR.Localization.printText)),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"btn-links"},o.a.createElement("button",{className:"button button-primary save-cta",onClick:e.onNextClick,id:"btnSave"},BLDR.Localization.save_And_Continue_Text,o.a.createElement(l.W,null)))),4==e.expFinalizePageIconsRevampVariant&&o.a.createElement("div",{className:"finalize-action-panel"},o.a.createElement("div",{className:"emailprintdownload-links"},o.a.createElement("a",{className:"epdlink emaillink",onClick:e.openEmailPopup,role:"button",id:"btnEmailCTA"},o.a.createElement(l.hb,null),BLDR.Localization.emailText),o.a.createElement("a",{className:"epdlink printlink",onClick:e.onPrintClick,role:"button",id:"btnPrintCTA"},o.a.createElement(l.Bb,null),BLDR.Localization.printText),o.a.createElement("a",{className:"epdlink emaillink",role:"button",onClick:e.updateStateForDocumentPublish,id:"btnPublishCTA"},o.a.createElement(l.qb,null),BLDR.Localization.common_Publish)),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"btn-links"},o.a.createElement("button",{className:"button button-default download-cta",onClick:e.openDownloadFormatPopup,id:"btnDownload"},o.a.createElement(l.eb,null),BLDR.Localization.downloadText),o.a.createElement("button",{className:"button button-primary save-cta",onClick:e.onNextClick,id:"btnSave"},BLDR.Localization.save_And_Continue_Text))),5==e.expFinalizePageIconsRevampVariant&&o.a.createElement("div",{className:"finalize-action-panel"},o.a.createElement("div",{className:"btn-links"},o.a.createElement("button",{className:"button button-primary save-cta",onClick:e.onNextClick,id:"btnSave"},BLDR.Localization.save_And_Continue_Text,o.a.createElement(l.W,null))),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"emailprintdownload-links"},o.a.createElement("a",{className:"epdlink downloadlink",onClick:e.openDownloadFormatPopup,role:"button",id:"btnDownloadCTA"},o.a.createElement(l.eb,null),BLDR.Localization.downloadText),o.a.createElement("a",{className:"epdlink emaillink",onClick:e.openEmailPopup,role:"button",id:"btnEmailCTA"},o.a.createElement(l.hb,null),BLDR.Localization.emailText),o.a.createElement("a",{className:"epdlink printlink",onClick:e.onPrintClick,role:"button",id:"btnPrintCTA"},o.a.createElement(l.Bb,null),BLDR.Localization.printText))),6==e.expFinalizePageIconsRevampVariant&&o.a.createElement("div",{className:"finalize-action-panel"},o.a.createElement("div",{className:"emailprintdownload-links"},o.a.createElement("a",{className:"epdlink downloadlink",onClick:e.openDownloadFormatPopup,role:"button",id:"btnDownloadCTA"},o.a.createElement(l.eb,null),BLDR.Localization.downloadText),o.a.createElement("a",{className:"epdlink emaillink",onClick:e.openEmailPopup,role:"button",id:"btnEmailCTA"},o.a.createElement(l.hb,null),BLDR.Localization.emailText),o.a.createElement("a",{className:"epdlink printlink",onClick:e.onPrintClick,role:"button",id:"btnPrintCTA"},o.a.createElement(l.Bb,null),BLDR.Localization.printText)),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"btn-links"},o.a.createElement("button",{className:"button button-primary save-cta",id:"btnSave",onClick:e.onNextClick},BLDR.Localization.save_And_Continue_Text,o.a.createElement(l.W,null)))),o.a.createElement("div",{className:"tab-inner"},o.a.createElement("div",{className:"tabs-list"},o.a.createElement("div",{id:"templatesTab",className:"tab-btn"+(e.state.showTemplateTab?" active":""),onClick:function(t){e.toggleTemplatesColorsAndFormattingTab(t,!1,!1)}},!e.state.showTemplateTab||a?o.a.createElement(l.kb,null):o.a.createElement(l.lb,null),BLDR.Localization.finalizeRevamp_templates_tab),o.a.createElement("div",{id:"formattingTab",className:"tab-btn"+(e.state.showFormatingTab?" active":""),onClick:function(t){e.toggleTemplatesColorsAndFormattingTab(t,!0,!1)}},e.state.showFormatingTab||a?o.a.createElement(l.N,null):o.a.createElement(l.M,null),BLDR.Localization.finalizeRevamp_formatting_tab)),o.a.createElement("div",{className:"tab-content-wrap"},o.a.createElement("div",{className:"tab-content template-tab-cont ".concat(e.state.showTemplateTab?"active":"")},o.a.createElement("div",{className:"skins-col-wrap"},o.a.createElement("div",{className:"skins-col"},e.state.skins&&e.state.skins.length>0&&o.a.createElement(fe,{skinColor:e.skinColor,document:e.document,onClickTemplate:e.onClickTemplate,onHoverTemplate:e.onHoverTemplate,onHoverOut:e.onHoverOut,skins:e.state.skins,selectedSkin:e.state.selectedSkin})))),o.a.createElement("div",{className:"tab-content formatting-tab-cont ".concat(e.state.showFormatingTab?"active":"")},o.a.createElement("div",{className:"color-block",onMouseLeave:function(t){e.resetHoverState(t)}},o.a.createElement("label",{className:"block-label color-label"},BLDR.Localization.finalizeRevamp_colors_label),o.a.createElement(Z.a,{hideResetButton:!1,colorItems:d.E,isFinalizePage:!0,multiChooseColorSelector:v.Jb()?d.Db:d.Cb,selectedColor:e.skinColor,onColorClick:e.onSkinColorClick,onColorMouseEnter:e.onColorHover,Fs_PantoneColorOfTheYear:BLDR.featureSets.pantoneColorOfTheYear})),o.a.createElement("div",{className:"formating-block"},o.a.createElement(H,{docStyles:e.document.docStyles,onSliderChanging:e.onSliderChanging,onFormattingChange:e.onFormattingChange,onFontClick:e.onFontClick,handleChangeFormatting:e.handleChangeFormatting,formattingType:e.formattingOptionSelected,resetFormatting:e.resetFormatting,hideStyleOptions:["VMRG","HMRG","PIND"],showPublishTab:e.showPublishTab,updateStateForDocumentPublish:e.updateStateForDocumentPublish})))))),o.a.createElement("div",{className:"preview-wrap \n            ".concat(BLDR.featureSets.PaperSize?"preview-paper-size":"preview-full-width")},o.a.createElement("div",{className:"doc-actions-wrap"},o.a.createElement("div",{className:"doc-name-wrap"},0==e.state.docNameEdtMode&&o.a.createElement("div",{className:"doc-name-edit"},o.a.createElement("span",{className:"doc-name",title:e.state.noEditableTitle},e.state.noEditableTitle),o.a.createElement("span",{id:"btnEditDocName",className:"edit-btn",onClick:function(t){e.titleLabelOnClickHandler(t)}},o.a.createElement(l.zb,null))),1==e.state.docNameEdtMode&&o.a.createElement("div",{className:"doc-name-edit"},o.a.createElement("input",{autoFocus:!0,onFocus:function(e){return e.target.select()},maxLength:"150",type:"text",value:e.state.editableTitle,onChange:function(t){e.docNameChangeHandler(t)},className:"doc-name-input"}),o.a.createElement("div",{className:"edit-action-wrap"},o.a.createElement("button",{id:"btnDocNameSave",onClick:function(t){e.saveDocNameHandler(t)},className:"btn-icon btn-save"},o.a.createElement(l.k,null)),o.a.createElement("button",{id:"btnDocNameCancel",onClick:function(t){e.cancelDocNameHandler(t)},className:"btn-icon btn-cancel"},o.a.createElement(l.ab,null))))),6==e.expFinalizePageIconsRevampVariant&&o.a.createElement("button",{className:"button button-default publish-btn",id:"btnPublish",onClick:e.updateStateForDocumentPublish},"Publish",o.a.createElement(l.Db,null)),BLDR.featureSets.PaperSize&&function(e){return o.a.createElement("div",{className:"more-action-wrap",onMouseLeave:function(t){return e.togglePaperSizeAction(t,!1)}},o.a.createElement("div",{id:"btnPaperSize",className:"dropdown-preview-action",role:"dropdown",onMouseEnter:function(t){e.togglePaperSizeAction(t,!0)}},o.a.createElement("button",{className:"dropdown-btn  ".concat(e.state.showPaperSizeOption?"active":"")},o.a.createElement("span",{className:"dropdown-label"},BLDR.Localization.PaperSize),o.a.createElement("strong",null,e.state.selectedPaperSize)," ",o.a.createElement(l.T,null))),e.state.showPaperSizeOption&&o.a.createElement("div",{className:"action-list-wrap"},o.a.createElement("ul",{className:"more-action-list"},o.a.createElement("li",{className:"more-action-item",id:"btnA4PaperSize",onClick:function(t){return e.ChangePageSize(t,"A4")}},o.a.createElement("span",{className:"item-text"},o.a.createElement("strong",null,BLDR.Localization.paper_A4)," ",BLDR.Localization.paper_size_A4)),o.a.createElement("li",{className:"more-action-item",id:"btnLetterPaperSize",onClick:function(t){return e.ChangePageSize(t,"Letter")}},o.a.createElement("span",{className:"item-text"},o.a.createElement("strong",null,BLDR.Localization.paper_letter)," ",BLDR.Localization.paper_size_letter)))))}(e)),n))),function(e){return e.state.openGuideTourBanner?o.a.createElement(p.a,{isOpen:!0,closeModal:function(t){return e.closeGuideTourFinalize(t,0==e.state.counterForTour?"no thanks":null)},shouldCloseOnOverlayClick:0==e.state.counterForTour,hasHeader:!1,cssClass:{modalDialog:e.state.modalClass?e.state.modalClass:"modal-guided-tour"}},o.a.createElement("span",{className:"close-icon",onClick:function(t){return e.closeGuideTourFinalize(t,0==e.state.counterForTour?"no thanks":null)}},o.a.createElement(l.ab,null)),o.a.createElement("div",{className:"modal-body ".concat(0==e.state.counterForTour?"":"d-none")},o.a.createElement("div",{className:"anim-wrap"},o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour/confetti-1.svg"),alt:"confetti",className:"confetti confetti-1"}),o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour/confetti-2.svg"),alt:"confetti",className:"confetti confetti-2"}),o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour/girl-anim.svg"),alt:"girl-anim",className:"girl-anim"}),o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour/seat-anim.svg"),alt:"seat-anim",className:"seat-anim"}),o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour/guided-blob.svg"),alt:"guided-blob",className:"guided-blob"})),o.a.createElement("div",{className:"modal-body-content"},o.a.createElement("h4",{className:"modal-title"},BLDR.Localization.finalizeRevamp_guided_begin_head),o.a.createElement("p",{className:"modal-text",dangerouslySetInnerHTML:{__html:BLDR.Localization.finalizeRevamp_guided_begin_para}}),o.a.createElement("div",{className:"btn-wrap"},o.a.createElement("button",{type:"button",className:"button button-default",onClick:function(t){return e.closeGuideTourFinalize(t,"no thanks")}},BLDR.Localization.finalizeRevamp_NoThanksMessage),o.a.createElement("button",{type:"button",className:"button button-primary",onClick:function(t){return e.onStartGuideTour(t,"start the guided tour")}},BLDR.Localization.finalizeRevamp_StartGuideTour)))),o.a.createElement("div",{className:"steps-body ".concat(e.state.counterForTour>0?"":"d-none")},o.a.createElement("div",{className:"step-content"},6==e.state.counterForTour&&4==e.expFinalizePageIconsRevampVariant?o.a.createElement("h4",{className:"modal-title"},e.state.counterForTour>0?X.p[6].heading:""):o.a.createElement("h4",{className:"modal-title"},e.state.counterForTour>0?X.p[e.state.counterForTour-1].heading:""),o.a.createElement("p",{className:"modal-text",dangerouslySetInnerHTML:{__html:e.state.counterForTour>0?X.p[e.state.counterForTour-1].subHeading:""}})),o.a.createElement("div",{className:"step-btn-ftr"},o.a.createElement("p",{className:"step-info"},"Step ".concat(e.state.counterForTour," of 6")),o.a.createElement("div",{className:"step-btn-wrap"},e.state.counterForTour>1?o.a.createElement("button",{type:"button",className:"button button-default",onClick:function(){return e.onClickGuideTour(!1,!0)}},BLDR.Localization.finalizeRevamp_previousText):null,e.state.counterForTour<6?o.a.createElement("button",{type:"button",className:"button button-primary",onClick:function(){e.onClickGuideTour(!0,!1)}},BLDR.Localization.finalizeRevamp_NextText):null,6==e.state.counterForTour?o.a.createElement("button",{type:"button",className:"button button-primary",onClick:function(t){e.closeGuideTourFinalize(t,"done")}},BLDR.Localization.finalizeRevamp_DoneText):null)))):o.a.createElement(o.a.Fragment,null)}(e),e.state.showPopup&&o.a.createElement(p.a,ie({isOpen:!0},e.getPopupProps(e.state.popupName,e)),re(e.state.popupName,e)),e.state.showDocumentPublishPopup&&o.a.createElement(Q,{updateStateForDocumentPublish:e.updateStateForDocumentPublish,documentId:e.document.id,documentActions:e.documentActions,updateDocumentForResumePublish:e.updateDocumentForResumePublish}))}(e):function(e){var t=BLDR.UserClaims&&"Guest"!=BLDR.UserClaims.role,n=e.displayDesktopView?me:ue,a=e.displayDesktopView?[{breakpoint:1200,settings:{slidesToShow:1}}]:[{breakpoint:768,settings:{arrows:!1}}],i={centerMode:!0,centerPadding:e.displayDesktopView?"90px":"30px",dots:!1,slidesToScroll:1,arrows:!0,infinite:!1,slidesToShow:e.displayDesktopView?3:1,focusOnSelect:!0,swipeToSlide:!0,variableWidth:!e.displayDesktopView,nextArrow:o.a.createElement(c.a,null),prevArrow:o.a.createElement(c.b,null),responsive:a,beforeChange:function(t,n){e.beforeChange(t,n)}};return o.a.createElement("div",{className:"builder-end-panel-panel"},o.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-panel-header")},o.a.createElement(s.a,{toggleNav:e.toggleSidenav,hideHamburgerIcon:!0,hideLoginIcon:!t,showColorFormattingOptions:!0,selectedColor:e.skinColor,formattingOptionSelected:e.formattingOptionSelected,onColorClick:e.onSkinColorClick,onFormattingOptionClick:e.onFormattingOptionClick,onDownloadClick:e.openDownloadFormatPopup,onEmailClick:e.openEmailPopup,onPrintClick:e.onPrintClick,isFinalizePage:!0,isExpFinalizePageIconsRevampVariant:e.isExpFinalizePageIconsRevampVariant,updateStateForDocumentPublish:e.updateStateForDocumentPublish,headerBannerText:e.headerBannerText,setUpsellBannerDisplayDocPref:e.setUpsellBannerDisplayDocPref})),o.a.createElement(u.a,ie({},e,{isFinalize:!0,showAsModal:!0,toggleNav:e.toggleSidenav,ref:function(t){return e.assignRef("sidebar",t)},fs_EditableEnlargeResume:!1,toggleClass:e.state.showNav?"open":"closed",renderModalItemProps:e,showToolTip:!BLDR.IsMobileDevice()&&e.state.showEditMyResumeToolTip,renderToolTipHtml:ce,onToolTipClose:e.onEditMyResumeToolTipClose,renderModalItem:BLDR.IsMobileDevice()||BLDR.isIPAD()||!e.state.showNav?void 0:le})),function(e){return e.state.openCongratulatoryPopup?o.a.createElement(p.a,{isOpen:!0,closeModal:function(){return e.closePopupFinalize("close")},shouldCloseOnOverlayClick:!0,hasHeader:!1,cssClass:{modalDialog:"modal-congratulatory"}},o.a.createElement("span",{className:"close-icon",onClick:function(){return e.closePopupFinalize("close")}},o.a.createElement(l.ab,null)),o.a.createElement("div",{className:"modal-body"},o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/confetti-congratulatory-modal.svg"),alt:"confetti",className:"confetti-img"}),o.a.createElement("div",{className:"modal-img-wrap"},o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/").concat(BLDR.Portal.portalCd,"/congratulatory-resume-img.svg"),alt:"resume-img",width:"215",height:"162"})),o.a.createElement("div",{className:"modal-body-content"},o.a.createElement("h4",{className:"modal-title"},e.firstName?BLDR.Localization.greatJobMessage_with_name.replace("<--firstName--\x3e",e.firstName):BLDR.Localization.greatJobMessage_without_name),o.a.createElement("p",{className:"modal-text"},BLDR.Localization.congratulatoryFinishFinalStep),o.a.createElement("button",{type:"button",className:"button button-primary",onClick:function(){return e.closePopupFinalize("continue")}},BLDR.Localization.completeFinalStep)))):o.a.createElement(o.a.Fragment,null)}(e),o.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-slider-panel")},!e.displayDesktopView&&o.a.createElement("h1",{className:"finalize-page-title"},BLDR.Localization.finalizeHeadingText),o.a.createElement("div",{className:"builder-slider"},o.a.createElement(r.a,ie({ref:function(t){return e.assignRef("slider",t)}},i,{className:"finalize-slick"}),e.state.skins&&e.state.skins.length>0&&n(e)))),e.state.showPopup&&o.a.createElement(p.a,ie({isOpen:!0},e.getPopupProps(e.state.popupName,e)),re(e.state.popupName,e)),o.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-footer")},o.a.createElement("button",{className:"button button-default",onClick:e.toggleSidenav},BLDR.Localization.edit_Resume),o.a.createElement("button",{className:"button button-primary",onClick:e.onNextClick},BLDR.Localization.save_And_Continue_Text)),e.state.showDocumentPublishPopup&&o.a.createElement(Q,{updateStateForDocumentPublish:e.updateStateForDocumentPublish,documentId:e.document.id,documentActions:e.documentActions,updateDocumentForResumePublish:e.updateDocumentForResumePublish}))}(e)}function le(e,t,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,ie({},e,{hideCrossIcon:t,onCrossIconClick:t?null:e.closeResumePreviewPopup,fs_EditableEnlargeResume:n,setHighlightedResumeSection:n?e.setHighlightedResumeSection:null,setHighlightedSidebarSection:n?e.setHighlightedSidebarSection:null,highlightedResumeSection:n?e.highlightedResumeSection:null,setHighlightedResumeSectionName:n?e.setHighlightedResumeSectionName:null,highlightedResumeSectionName:n?e.highlightedResumeSectionName:null,document:n?e.state.skinHovered?e.hoverStateDocument:e.document:null})))}function ce(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,BLDR.Localization.editMyResumeToolTipHeading),o.a.createElement("p",null,BLDR.Localization.editMyResumeToolTipBody))}function ue(e){var t=e.state.skins,n=e.state.selectedSkin;return t.map((function(t,a){return o.a.createElement("div",{className:"skin-wrapper skincd-".concat(t.skinCD),key:a,"data-index":a+1,"data-skinid":t.skinCD,"data-skinname":t.name,"data-skindefaultname":t.skindefaultname},o.a.createElement("div",{className:"skin-template"},o.a.createElement("div",{className:"skin-title"},t.name),o.a.createElement("div",{className:"template-label"},o.a.createElement("div",{className:"label-wrapper"},o.a.createElement("span",{className:"label-prefix"},BLDR.Localization.availableText),o.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),o.a.createElement("div",{className:"skin-image-prev",onClick:t.skinCD!=n||!t.html&&!t.rendererProps?null:e.openResumePreviewPopup},BLDR.IsMobileDevice()?o.a.createElement(l.nc,{iconClass:"icon-preview"}):"",t.skinCD!=n?o.a.createElement(l.oc,null):o.a.createElement(o.a.Fragment,null,t.html&&o.a.createElement("div",{className:"skin-container ".concat(e.state.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),e.state.showLoader&&o.a.createElement("div",{className:"loading-skin"},o.a.createElement("div",{className:"loading-skin-icon"},o.a.createElement(l.ub,null)))))))}))}function me(e){var t=ae(e.state.skins),n=e.state.selectedSkin;return t.push({}),t.push({}),t.map((function(t,a){return a<=e.state.skins.length-1?o.a.createElement("div",{className:"skin-wrapper skincd-".concat(t.skinCD),key:a,"data-index":a+1,"data-skinid":t.skinCD,"data-skinname":t.name,"data-skindefaultname":t.skindefaultname},o.a.createElement("div",{className:"skin-template"},o.a.createElement("div",{className:"skin-title"},t.name),o.a.createElement("div",{className:"template-label"},o.a.createElement("div",{className:"label-wrapper"},o.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),o.a.createElement("div",{className:"skin-image-prev"},o.a.createElement("div",{className:"skin-ctnr-overlay",onClick:t.skinCD!=n||!t.html&&!t.rendererProps?null:e.openResumePreviewPopup}),o.a.createElement("span",{className:"icon-zoom"}," ",o.a.createElement(l.nc,null)),o.a.createElement(o.a.Fragment,null,t.html&&o.a.createElement("div",{className:"skin-container ".concat(t.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),t.showLoader&&o.a.createElement("div",{className:"loading-skin"},o.a.createElement("div",{className:"loading-skin-icon"},o.a.createElement(l.ub,null))))))):o.a.createElement("div",{key:a})}))}function pe(e){var t=e.skins,n=e.selectedSkin,a=e.skinColor,i=e.document,r=e.onClickTemplate,s=e.onHoverTemplate,l=e.onHoverOut,c=ae(t),u=n,m=a;return c.map((function(e,n){if(n<=t.length-1){var a=v.oc(i,e.skinCD,!1);if(null!=m||null!=m){a=v.Ub(a,d.Ac.SDCL,m,BLDR.getTemplateFromSkin);var p=m?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;a=v.Ub(a,d.Ac.FTCL,p,BLDR.getTemplateFromSkin)}return o.a.createElement("div",{className:"skin-wrapper skincd-".concat(e.skinCD," \n         ").concat(e.skinCD==u?"template-selected":""),onClick:function(){r(e.skinCD,!0,m,c,!0)},onMouseEnter:function(){return s(e.skinCD,!0,m,c)},onMouseLeave:function(){return l(u,!0,m,c)},key:n,"data-index":n+1,"data-skinid":e.skinCD,"data-skinname":e.name,"data-skindefaultname":e.skindefaultname},o.a.createElement("div",{className:"skin-template"},o.a.createElement("div",{className:"skin-image-prev"},o.a.createElement("div",{className:"skin-ctnr-overlay"}),o.a.createElement(o.a.Fragment,null,(b={document:te(te({},a),{},{skinCD:e.skinCD})},o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,ie({},b,{hideCrossIcon:!0,useRenderer:!0,document:b.document}))))))))}return o.a.createElement("div",{key:n});var b}))}function de(e,t){return e.selectedSkin==t.selectedSkin&&e.skins==t.skins}var fe=o.a.memo(pe,de);var be=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"".concat(e.showPersonalizationPanel?"":"modal-backdrop")}),o.a.createElement("div",{className:"panel-wrapper-mob ".concat(e.showCollapsedView?"":"collapsed"," \n        ").concat(e.showPersonalizationPanel?"personalize-panel":"")},o.a.createElement("button",{className:"panel-close-btn",id:"btnPanelClose",onClick:function(t){!function(t){e.closePanel&&"function"==typeof e.closePanel&&(e.closePanel(t,!1),Object(F.a)("clicked",e.clickSectionText?e.clickSectionText:null,"close","finalize",e.subSectionText?e.subSectionText:null))}(t)}},o.a.createElement(l.ab,null)),e.children))},ge=n(246);function ve(){return(ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function he(e){var t=e.skins,n=e.selectedSkin,a=e.selectedSkinColor,i=e.onClickTemplate;return t.map((function(e,r){var s=Object(ge.b)(e.skinCD,a,null,null,!0,!1,r,null,null,null);return o.a.createElement("div",{className:"skincd-".concat(e.skinCD," skin-item\n            ").concat(e.skinCD==n?"template-selected":""),key:r,"data-index":r+1,"data-skinid":e.skinCD,"data-skinname":e.name,"data-skindefaultname":e.skindefaultname},o.a.createElement("div",{className:"skin-wrapper",onClick:function(){i(e.skinCD,!0,a,t,!1)}},s),o.a.createElement("p",{className:"skin-name"},e.name))}))}var Se=function(e,t,n,a,i,r,s,c){return c?o.a.createElement("div",{className:"finalize-ftr-mob main-ftr-mob"},o.a.createElement("div",{className:"ftr-options"},o.a.createElement("button",{className:"ftr-item-btn color-pink edit-cont-btn",onClick:function(t){return e(t)},id:"btnEditContent"},o.a.createElement("span",{className:"ftr-icon-wrap"},o.a.createElement(l.yb,null)),o.a.createElement("p",{className:"ftr-item-text"},BLDR.Localization.finalizeRevamp_mob_edit_content)),o.a.createElement("button",{className:"ftr-item-btn color-orange personalize-btn",onClick:function(e){return t(e,!0)},id:"btnPersonalize"},o.a.createElement("span",{className:"ftr-icon-wrap"},o.a.createElement(l.M,null)),o.a.createElement("p",{className:"ftr-item-text"},BLDR.Localization.finalizeRevamp_mob_personalize))),o.a.createElement("button",{className:"button button-primary get-rsm-btn",onClick:n,id:"btnGetResume"},BLDR.Localization.finalizeRevamp_mob_get_my_resume)):o.a.createElement("div",{className:"finalize-ftr-mob"},o.a.createElement("div",{className:"ftr-options"},o.a.createElement("button",{className:"ftr-item-btn color-purple ".concat(i?"active":""),onClick:function(e){return a(e,!1,!1)},id:"btnTemplates"},o.a.createElement("span",{className:"ftr-icon-wrap"},o.a.createElement(l.mb,null)),o.a.createElement("p",{className:"ftr-item-text"},BLDR.Localization.finalizeRevamp_templates_tab)),o.a.createElement("button",{className:"ftr-item-btn color-blue ".concat(r?"active":""),onClick:function(e){return a(e,!1,!0)},id:"btnColors"},o.a.createElement("span",{className:"ftr-icon-wrap"},o.a.createElement(l.xb,null)),o.a.createElement("p",{className:"ftr-item-text"},BLDR.Localization.finalizeRevamp_colors_label)),o.a.createElement("button",{className:"ftr-item-btn color-green ".concat(s?"active":""),onClick:function(e){return a(e,!0,!1)},id:"btnFormatting"},o.a.createElement("span",{className:"ftr-icon-wrap"},o.a.createElement(l.ob,null)),o.a.createElement("p",{className:"ftr-item-text"},BLDR.Localization.finalizeRevamp_formatting_tab))))};function ke(e,t){return e.selectedSkin==t.selectedSkin&&e.selectedSkinColor==t.selectedSkinColor&&e.skins==t.skins}var De=o.a.memo(he,ke),ye=function(e){var t,n,a,i,r="",s=null,c="",m=null;e.state.showTemplateTab?(r=BLDR.Localization.finalizeRevamp_templates_tab,s=o.a.createElement(l.mb,null),c="color-purple",t=e.skinColor,n=e.onClickTemplate,a=e.state.skins,i=e.state.selectedSkin,m=o.a.createElement("div",{className:"skin-slider-mob"},a&&a.length>0&&o.a.createElement(De,{selectedSkinColor:t,onClickTemplate:n,skins:a,selectedSkin:i}))):e.state.showFullColorPalette?(r=BLDR.Localization.finalizeRevamp_colors_label,s=o.a.createElement(l.xb,null),c="color-blue",m=function(e){return o.a.createElement("div",{className:"color-block-mob"},o.a.createElement(Z.a,{hideResetButton:!1,colorItems:d.E,isFinalizePage:!0,multiChooseColorSelector:Object(v.Jb)()?d.Db:d.Cb,selectedColor:e.skinColor,onColorClick:e.onSkinColorClick,Fs_PantoneColorOfTheYear:BLDR.featureSets.pantoneColorOfTheYear}))}(e)):e.state.showFormatingTab&&(r=BLDR.Localization.finalizeRevamp_formatting_tab,s=o.a.createElement(l.ob,null),c="color-green",m=function(e){var t=[d.Ac.VMRG,d.Ac.HMRG,d.Ac.PIND];return o.a.createElement("div",{className:"formating-block"},o.a.createElement(H,{docStyles:e.document.docStyles,onSliderChanging:e.onSliderChanging,onFormattingChange:e.onFormattingChange,onFontClick:e.onFontClick,handleChangeFormatting:e.handleChangeFormatting,formattingType:e.formattingOptionSelected,resetFormatting:e.resetFormatting,hideStyleOptions:t,fs_revampFinalizeMob:e.fs_revampFinalizeMob}))}(e));var p=e.toggleSidenav,f=e.togglePersonalizationPanel,b=e.onNextClick,g=e.toggleTemplatesColorsAndFormattingTab,h=e.state,S=h.showTemplateTab,k=h.showFullColorPalette,D=h.showFormatingTab;return e.state.showPersonalizationPanel?o.a.createElement(be,{closePanel:e.togglePersonalizationPanel,showPersonalizationPanel:e.state.showPersonalizationPanel,showCollapsedView:!e.state.showCollapsedView,clickSectionText:"personalize",subSectionText:e.state.showTemplateTab?"edit templates":e.state.showFullColorPalette?"edit color":"edit formatting"},function(e,t,n,a){return o.a.createElement("div",{className:"ftr-panel-header"},o.a.createElement("button",{className:"toggle-personalize",id:"btnTogglePersonalize",onClick:function(t){return e.togglePanelCollapsedView(t)}},e.state.showCollapsedView?o.a.createElement(l.Ab,null):o.a.createElement(l.vb,null)),o.a.createElement("h3",{className:"panel-hdr-wrap ".concat(a)},o.a.createElement("span",{className:"ftr-icon-wrap"},n),t))}(e,r,s,c),o.a.createElement("div",{className:"personalize-cont-wrap"},m),!e.state.showCollapsedView&&Se(p,f,b,g,S,k,D,!1)):e.state.showNav?o.a.createElement(be,{closePanel:e.toggleSidenav,showCollapsedView:!0,clickSectionText:"edit content",subSectionText:e.state.showPopup?null:"add selected sections"},o.a.createElement(u.a,ve({},e,{isFinalize:!0,showAsModal:!0,ref:function(t){return e.assignRef("sidebar",t)},fs_revampFinalizeMob:!0}))):e.state.showPopup&&e.state.popupName==d.Rb.mobileResumeOptions?o.a.createElement(be,{closePanel:e.getPopupProps(e.state.popupName).closeModal,showCollapsedView:!0,clickSectionText:"get my resume"},o.a.createElement("div",{className:"get-resume-options"},o.a.createElement("button",{onClick:e.onPrintClick,className:"button button-default print-btn",id:"btnPrintMob"},o.a.createElement("span",{className:"icon-wrap"},o.a.createElement(l.Bb,null)),BLDR.Localization.printText),BLDR.featureSets.publishResume&&o.a.createElement("button",{onClick:e.updateStateForDocumentPublish,className:"button button-default publish-btn",id:"btnPublishMob"},o.a.createElement("span",{className:"icon-wrap"},o.a.createElement(l.lc,null)),BLDR.Localization.common_Publish),o.a.createElement("button",{onClick:e.openEmailPopup,className:"button button-default email-btn",id:"btnEmailMob"},o.a.createElement("span",{className:"icon-wrap"},o.a.createElement(l.hb,null)),BLDR.Localization.emailText),o.a.createElement("button",{onClick:e.openDownloadFormatPopup,className:"button button-primary download-btn",id:"btnDownloadMob"},o.a.createElement("span",{className:"icon-wrap"},o.a.createElement(l.eb,null)),BLDR.Localization.downloadText))):void 0};function Ce(e){var t=e.state.skins.find((function(t){return t.skinCD===e.state.selectedSkin})),n=e.toggleSidenav,a=e.togglePersonalizationPanel,i=e.onNextClick,r=e.toggleTemplatesColorsAndFormattingTab,s=e.state,c=s.showTemplateTab,u=s.showFullColorPalette,m=s.showFormatingTab;return o.a.createElement("div",{className:"builder-end-panel-panel"},o.a.createElement("header",{className:"finalize-hdr"},o.a.createElement("div",{className:"nav-col"},o.a.createElement("button",{className:"menu-mob",id:"btnMenuMob",onClick:function(t){return e.toggleSidenav(t)}},o.a.createElement(l.tb,null))),o.a.createElement("h4",{className:"page-title"},BLDR.Localization.finalizeText),o.a.createElement("div",{className:"switch-checkbox theme-switch"},o.a.createElement("label",{className:"switch ".concat(e.isDarkMode?"switch-toggled":"")},o.a.createElement("input",{className:"switch-input",onChange:function(t){return e.handleThemeToggle(t)},type:"checkbox",id:"themeToggleCheckbox"}),o.a.createElement("span",{className:"slider-btn"},o.a.createElement("span",{className:"icon-wrap"},o.a.createElement(l.Rb,null)),o.a.createElement("span",{className:"icon-wrap"},o.a.createElement(l.wb,null)))))),o.a.createElement("div",{className:"main-skin-prev skin-wrapper"},o.a.createElement("div",{className:"skin-container"},o.a.createElement(f.a,ve({},e,{hideCrossIcon:!0,useRenderer:!0,document:e.document,fs_revampFinalizeMob:e.fs_revampFinalizeMob}))),o.a.createElement("div",{className:"name-format-wrap"},o.a.createElement("h4",{className:"template-name"},t.skindefaultname),o.a.createElement("span",{className:"format-type"},BLDR.Localization.resumeFormatText))),e.state.showPopup&&e.state.popupName!=d.Rb.mobileResumeOptions&&o.a.createElement(p.a,ve({isOpen:!0},e.getPopupProps(e.state.popupName,e)),function(e,t){var n=null;switch(e){case d.Rb.downloadFormat:n=o.a.createElement(h,t);break;case d.Rb.email:n=o.a.createElement(R,t);break;case d.Rb.emailSent:n=o.a.createElement(T,t)}return n}(e.state.popupName,e)),!e.state.showPersonalizationPanel&&Se(n,a,i,r,c,u,m,!0),e.state.showDocumentPublishPopup&&o.a.createElement(Q,{updateStateForDocumentPublish:e.updateStateForDocumentPublish,documentId:e.document.id,documentActions:e.documentActions,updateDocumentForResumePublish:e.updateDocumentForResumePublish}),e.state.openGuideTourBanner&&e.state.counterForTour>0&&function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"guided-mob-overlay modal-backdrop"}),o.a.createElement("button",{className:"guided-close-btn",id:"btnGuidedClose",onClick:function(t){return e.closeGuideTourFinalize(t,"close")}},o.a.createElement(l.ab,null)),o.a.createElement("div",{className:"guided-step-btn-wrap prev-next-btn"},e.state.counterForTour>1?o.a.createElement("button",{className:"button prev-btn",id:"btnGuidedPrev",onClick:function(){return e.onClickGuideTour(!1,!0)}},o.a.createElement(l.U,null)," ",BLDR.Localization.finalizeRevamp_previousText):null,e.state.counterForTour<9?o.a.createElement("button",{className:"button next-btn",id:"btnGuidedNext",onClick:function(){e.onClickGuideTour(!0,!1)}},BLDR.Localization.finalizeRevamp_NextText," ",o.a.createElement(l.W,null)):null,9==e.state.counterForTour?o.a.createElement("button",{className:"button next-btn",id:"btnGuidedDone",onClick:function(t){e.closeGuideTourFinalize(t,"done")}},BLDR.Localization.finalizeRevamp_DoneText):null),o.a.createElement("p",{className:"guided-text"},X.q[e.state.counterForTour-1]))}(e),ye(e),e.state.openGuideTourBanner&&0==e.state.counterForTour&&function(e){return o.a.createElement(p.a,{isOpen:!0,hasHeader:!1,cssClass:{modalDialog:"modal-guided-tour-mob"}},o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"img-wrap"},o.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour-mob/guided-img-mob.svg"),alt:"guided tour",className:"guided-img-mob"})),o.a.createElement("div",{className:"modal-body-content"},o.a.createElement("h4",{className:"modal-title"},e.firstName?BLDR.Localization.guided_tour_popup_title_with_name.replace("<--firstName--\x3e",e.firstName):BLDR.Localization.guided_tour_popup_title_without_name),o.a.createElement("p",{className:"modal-text",dangerouslySetInnerHTML:{__html:BLDR.Localization.guided_tour_popup_text}}),o.a.createElement("div",{className:"btn-wrap"},o.a.createElement("button",{type:"button",className:"button button-default",onClick:function(t){return e.closeGuideTourFinalize(t,"no thanks")}},BLDR.Localization.finalizeRevamp_NoThanksMessage),o.a.createElement("button",{type:"button",className:"button button-primary",onClick:function(t){return e.onStartGuideTour(t,"start the guided tour")}},BLDR.Localization.finalizeRevamp_mob_yes_please)))))}(e))}var we=n(67),Ee=n(90),Re=n.n(Ee),Te=n(8),Le=n(39);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ne(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=JSON.parse(JSON.stringify(e));if(r=Object(v.oc)(r,t,o),!o){var s=ze(r,t,a,i);r=L.DocumentHelper.updateDocumentWithDocStyles(r,s)}if(n){r=Object(v.Ub)(r,d.Ac.SDCL,n,BLDR.getTemplateFromSkin);var l=n?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;r=Object(v.Ub)(r,d.Ac.FTCL,l,BLDR.getTemplateFromSkin)}return r}var ze=function(e,t,n,a){var o=JSON.parse(JSON.stringify(e)),i=o.docStyles,r=d.vc.find((function(e){return e.SkinCd==t}))[n],s=function(e){var t=i.find((function(t){return t.styleTypeCD==e}));(e!=L.TypeCodes.styleTypeCD.lineSpacing||a)&&t&&(t.value=r[e])};for(var l in r)s(l);if(n==d.wc.default||n==d.wc.normal){var c=L.DocumentHelper.updateDocumentSkinandStyles(o,t,BLDR.getTemplateFromSkin),u=a?[L.TypeCodes.styleTypeCD.lineSpacing,L.TypeCodes.styleTypeCD.headingFontSize,L.TypeCodes.styleTypeCD.fontSize,L.TypeCodes.styleTypeCD.lineWeight]:[L.TypeCodes.styleTypeCD.headingFontSize,L.TypeCodes.styleTypeCD.fontSize,L.TypeCodes.styleTypeCD.lineWeight];i=i.map((function(e){return u.includes(e.styleTypeCD)&&c.docStyles.find((function(t){return t.styleTypeCD==e.styleTypeCD}))?c.docStyles.find((function(t){return t.styleTypeCD==e.styleTypeCD})):e}))}return i},_e=function(e,t,n){var a=xe(e);return{ratingValueCount:5,Definition_Tips:BLDR.Definition_Tips,document:a,EmptyProfilePic:BLDR.Paths.ResourcePath+"images/sampleSkinImageSquare_New.png",getTemplateFromSkin:BLDR.getTemplateFromSkin,isGraduationYearUpdate:!0,isPreviewOnly:!0,Localization:BLDR.Localization,onEdit:null,openDeleteSectionsPopup:null,portalCd:BLDR.PortalSettings.ConfigurePortalCd,randomNum:BLDR.randomPhotoNumber,removeDependencyNodes:!0,reOrderCityStateZip:!1,showMZipField:!1,showNBHDField:!1,previewZipPrefix:!1,reorderSections:!0,skipDocumentScaling:!1,showDefaultText:!0,showLinksInResumeHeading:!1,skinCD:t,scopedClass:null,removeElementsFromTemplate:!1,showMPFRNewFields:!1,addColonSpace:!1,is0YOE_OtherExperience:!1,tabIndexforResumeRenderer:"0",useLiteRenderer:!0,getSvg:BLDR.getSVG,TrackEvent:null,docDataInfoDateFormat:null,randomSignNum:null,documentScale:1,enableHover:!1,showSideBar:!1,isDragMove:!1,navigateToSectionPage:null,isPreviewState:!0,addAnotherParagraph:null,updateSectionName:null,isMultiColumnSkin:BLDR.isMultiColumnSkin(t),sidebarview:!0,parentClass:n,showLoader:!1,finalizePage:!1,singleColumnSkinsWithPhotoSupport:d.tc}},xe=function(e){if(e){var t=JSON.parse(JSON.stringify(e));return t&&t.sections&&(t.sections=t.sections.filter((function(e){return e.sectionTypeCD!==L.TypeCodes.sectionTypeCd.Reference&&e.paragraphs.map((function(t,n){t.docDatas.filter((function(e){return""!=e.charValue})).length<1&&(e.paragraphs.splice(n,1),e.paragraphs=e.paragraphs.map((function(e,t){return e.index=t+1,e})))})),e.paragraphs&&0!==e.paragraphs.length}))),t}return e},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=e.map((function(e){var i=Oe(t,e.skinCD,n,a,!1,o),r=_e(i,e.skinCD);return e.showLoader=!1,Fe(Fe({},e),{},{rendererProps:r})}));return i},Me=function(e,t){return e.map((function(e){var n=_e(t,e.skinCD);return Fe(Fe({},e),{},{rendererProps:n})}))},je=function(){setTimeout((function(){var e=document.querySelector("#document, .document"),t=document.querySelector(".svg-skin"),n=document.querySelector(".svg-skin > div");if(e&&t){var a=t.offsetWidth/e.offsetWidth;setTimeout((function(){if(n||t){var o=e.offsetHeight*a;t.style.height="".concat(o,"px"),n.style.height="".concat(o,"px")}}),200)}}),10)},Ie=n(38),Ae=n(92);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,i,r,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||$e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Qe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tt(a.key),a)}}function Ze(e,t,n){return t=Xe(t),function(e,t){if(t&&("object"==He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xe(e).constructor):t.apply(e,n))}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function et(e,t,n){return(t=tt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e){var t=function(e,t){if("object"!=He(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=He(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==He(t)?t:t+""}var nt=n(355),at=function(e){function t(e,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),et(a=Ze(this,t,[e,n]),"assignRef",(function(e,t){null!=t&&(a.refObj[e]=t)})),et(a,"updateSkinArrayOnClick",(function(e,t){var n=We(e);a.setState({skins:n,selectedSkin:t},(function(){if(!a.fs_EditableEnlargeResume)for(var e=0;e<n.length;e++)a.setResumeDimensionInCarouselLoad(n[e].skinCD,e)}))})),et(a,"paperSelectedValue",(function(){var e=v.I(a.props.document.docStyles,d.Ac.PGSZ);return d.Ab[e]})),et(a,"checkThemeState",(function(){a.state.isDarkMode?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")})),et(a,"handleThemeToggle",(function(e){var t=e.target.checked;a.setState({isDarkMode:t},(function(){a.checkThemeState(),Object(F.a)("clicked",null,a.state.isDarkMode?"enable dark mode":"disable dark mode","finalize")})),a.props.userActions.SaveUserPreference(a.user.UserUID,d.q.DarkThemeEnabled,t?1:0,BLDR.PortalSettings.ConfigurePortalCd)})),et(a,"setTemplatesPreviewDimension",(function(){var e=We(document.querySelectorAll(".skin-wrapper"));a.isFinalizeRevampMob&&e.shift(),e.forEach((function(e){v.sb(e)}))})),et(a,"saveGuideTourPopUp",(function(){a.isFinalizeRevampMob?a.props.userActions.SaveUserPreference(a.user.UserUID,d.q.GuideTourFinalizeMobile,"1",BLDR.PortalSettings.ConfigurePortalCd):a.props.userActions.SaveUserPreference(a.user.UserUID,d.q.GuideTourPopupfinalize,"1",BLDR.PortalSettings.ConfigurePortalCd)})),et(a,"livepreviewsetting",(function(e){a.displayDesktopView?!a.fs_EditableEnlargeResume&&a.setMultipleDesktopTemplates(e,!0):a.setMobileTemplate(e,!0)})),et(a,"handleNextBackGuidedTourMobile",(function(){3==a.finalizeRevampMobExpVariant&&(a.state.counterForTour>1&&a.state.counterForTour<5?a.showEditMode(!0):a.showEditMode(!1),a.state.counterForTour>5&&a.state.counterForTour<=9?(a.setState({showPersonalizationPanel:!0}),a.state.counterForTour<8&&a.setState({showTemplateTab:!0,showFullColorPalette:!1,showFormatingTab:!1}),8==a.state.counterForTour&&a.setState({showTemplateTab:!1,showFullColorPalette:!0,showFormatingTab:!1}),9==a.state.counterForTour&&a.setState({showTemplateTab:!1,showFullColorPalette:!1,showFormatingTab:!0})):a.setState({showPersonalizationPanel:!1,showFormatingTab:!1,showTemplateTab:!1,showCollapsedView:!1,showFullColorPalette:!1}))})),et(a,"onClickGuideTour",(function(e,t){e&&a.setState((function(e){return{counterForTour:e.counterForTour+1}}),(function(){a.handleNextBackGuidedTourMobile()})),t&&a.setState((function(e){return{counterForTour:e.counterForTour-1}}),(function(){a.handleNextBackGuidedTourMobile()}));var n=3===a.finalizeRevampMobExpVariant?d.tb:d.sb,o=n[a.state.counterForTour],i=null;((i=e?n[a.state.counterForTour+1]:n[a.state.counterForTour-1])||o)&&(Object(F.c)("viewed",null,i,"finalize"),Object(F.c)("clicked",e?"next":"previous",o,"finalize")),a.isFinalizeRevampMob||setTimeout((function(){var e=document.querySelector(".preview-rendered .SECTION_CNTC .edit-btn-wrap"),t=document.querySelector(".modal-guided-steps");if(e&&t&&3==a.state.counterForTour){var n=e.getBoundingClientRect(),o=n.top,i=n.left;t.style.cssText="top: ".concat(o-20,"px; left: ").concat(i+100,"px; transform: unset")}else document.querySelector(".modal-guided-steps").removeAttribute("style");5==a.state.counterForTour?document.querySelector(".formating-block").scrollIntoView(!1):4==a.state.counterForTour&&a.isFinalizePageIconRevampVariants?document.querySelector(".color-block").scrollIntoView(!1):window.scrollTo(0,0)}))})),et(a,"closeGuideTourFinalize",(function(e,t){e.stopPropagation();var n=a.isFinalizeRevampMob?v.ib(d.q.GuideTourFinalizeMobile):v.ib(d.q.GuideTourPopupfinalize);if("done"==t){var o=3===a.finalizeRevampMobExpVariant?d.tb:d.sb;Object(F.c)("clicked","next",o[a.state.counterForTour],"finalize")}else if(t){var i=t;BLDR.TrackEvents(d.ib.popup,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Notification_Name,"congrats popup"),d.bb.Page_Name,"finalize"),d.bb.Click_Option,i?i.toLowerCase():null),BLDR.UserClaims.user_uid,v.Ib())}n||a.saveGuideTourPopUp(),a.setState({openGuideTourBanner:!a.state.openGuideTourBanner}),a.state.counterForTour>0&&window.document.body.classList.remove(a.GuideTourArr[a.state.counterForTour-1]),3==a.finalizeRevampMobExpVariant&&(a.showEditMode(!1),a.setState({showPersonalizationPanel:!1,showFormatingTab:!1,showTemplateTab:!1,showCollapsedView:!1,showFullColorPalette:!1}))})),et(a,"onStartGuideTour",(function(e,t){if(e.stopPropagation(),t){var n=t;BLDR.TrackEvents(d.ib.popup,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Notification_Name,"congrats popup"),d.bb.Page_Name,"finalize"),d.bb.Click_Option,n?n.toLowerCase():null),BLDR.UserClaims.user_uid,v.Ib())}a.setState({counterForTour:1}),Object(F.c)("viewed",null,a.isFinalizeRevampMob?"edit content":"choose template","finalize")})),et(a,"saveDocPreferenceOfCongratulatoryPopup",(function(){if(0==(v.J(a.props.document,d.N.CongratulatoryPopupFinalize)||0)){a.setState({openCongratulatoryPopup:!a.state.openCongratulatoryPopup});var e=JSON.parse(JSON.stringify(a.props.document));L.CommonHelper.addDocumentPreference(e,d.N.CongratulatoryPopupFinalize,"1"),a.props.documentActions.UpdateDocument(a.user.UserUID,e).then((function(){a.props.documentActions.loadDocument(e),BLDR.TrackEvents(d.ib.popup,et(et(et({},d.bb.Activity,"viewed"),d.bb.Notification_Name,"congrats popup"),d.bb.Page_Name,"finalize"),BLDR.UserClaims.user_uid,v.Ib())}))}})),et(a,"closePopupFinalize",(function(e){a.setState({openCongratulatoryPopup:!a.state.openCongratulatoryPopup});var t=e;BLDR.TrackEvents(d.ib.popup,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Notification_Name,"congrats popup"),d.bb.Page_Name,"finalize"),d.bb.Click_Option,t?t.toLowerCase():null),BLDR.UserClaims.user_uid,v.Ib())})),et(a,"DeletephotoSection",(function(e){var t=Je({},e),n=t.sections.find((function(e){return e.sectionTypeCD==L.TypeCodes.sectionTypeCd.Photo}));return n&&(e=L.DocumentHelper.removeSection(t,n.id)),e})),et(a,"setResumePreviewDimension",(function(e,t,n){setTimeout((function(){var o=t||document.querySelector(a.docSelectorQueryString),i=e||document.querySelector(".skin-container"),r=document.querySelector(".cancel-handler .template-preview"),s=0;s="MLO4"==a.state.selectedSkin?50:"MLO5"==a.state.selectedSkin?6:"MLN4"==a.state.selectedSkin?20:0,o&&i&&(a.setState(n||a.isFinalizeRevampMob?{showPreviewLoader:!1}:{showLoader:!1},(function(){var e=i.offsetWidth/o.offsetWidth;o.style.transform="scale(".concat(e,")"),o.style.transformOrigin="0 0",a.signatureSection&&o.classList.add("signature-doc"),a.ppdtSection&&o.classList.add("signature-ppdt-doc");o.querySelector(".signature-ppdt .disclaim")&&o.querySelector(".signature-ppdt").parentNode&&(o.querySelector(".signature-ppdt").parentNode.style.paddingBottom=o.querySelector(".signature-ppdt").offsetHeight+35+"px")})),setTimeout((function(){if(r){var e=o.offsetHeight*(i.offsetWidth/o.offsetWidth);r.style.height="".concat(e+s,"px")}}),500))}),300)})),et(a,"setResumePreviewPopupDimension",(function(e,t){setTimeout((function(){var n=t||document.querySelector(a.docSelectorQueryString),o=e||document.querySelector(".skin-container"),i=document.querySelector(".cancel-handler .template-preview"),r=0;n&&o&&(r="MLO4"==a.state.selectedSkin?50:"MLO5"==a.state.selectedSkin?6:"MLN4"==a.state.selectedSkin?20:0,a.setState({showPreviewLoader:!1},(function(){var e=o.offsetWidth/n.offsetWidth;n.style.transform="scale(".concat(e,")"),n.style.transformOrigin="0 0",a.signatureSection&&n.classList.add("signature-doc"),a.ppdtSection&&n.classList.add("signature-ppdt-doc");n.querySelector(".signature-ppdt .disclaim")&&n.querySelector(".signature-ppdt").parentNode&&(n.querySelector(".signature-ppdt").parentNode.style.paddingBottom=n.querySelector(".signature-ppdt").offsetHeight+35+"px"),setTimeout((function(){if(i){var e=n.offsetHeight*(o.offsetWidth/n.offsetWidth);i.style.height="".concat(e+r,"px")}}),1)})))}),1)})),et(a,"handleTemplatesRevisit",(function(){if(a.prevSelectedSkinCdRef.current)if(0!==a.state.skins.findIndex((function(e){return e.skinCD===a.state.selectedSkin}))){var e=a.moveSkinToFirst(a.state.skins,a.state.selectedSkin);a.setState({skins:e},(function(){a.setTemplatesPreviewDimension()}))}else a.setTemplatesPreviewDimension();a.setTemplatesPreviewDimension()})),et(a,"fireDesignUserTarits",(function(){if(a.state.selectedSkin){var e=et({},d.mc["template id"],a.state.selectedSkin),t=a.state.skins.find((function(e){return e.skinCD==a.state.selectedSkin}));t&&t.skindefaultname&&(e[d.mc["template name"]]=t.skindefaultname),t&&t.name&&(e[d.mc["template localized name"]]=t.name),BLDR.TrackEvents(d.ib.IDENTIFY,e,BLDR.UserClaims.user_uid,v.Ib())}})),et(a,"getSkinsObject",(function(e){var t=[],n=BLDR.Skins;if(n&&n.length>0)if((a.fs_EditableEnlargeResume||a.isFinalizeRevampMob)&&e){var o=n.filter((function(t){return t.skinCD==e}));t.push({skinCD:o[0].skinCD,html:"",name:o[0].name,skindefaultname:o[0].skindefaultname?o[0].skindefaultname:o.name,showLoader:!0,imageURL:o[0].imageURL}),n.map((function(n){n.skinCD!=e&&t.push({skinCD:n.skinCD,html:"",name:n.name,skindefaultname:n.skindefaultname?n.skindefaultname:n.name,showLoader:!0,imageURL:n.imageURL})}))}else n.map((function(e){t.push({skinCD:e.skinCD,html:"",name:e.name,skindefaultname:e.skindefaultname?e.skindefaultname:e.name,showLoader:!0,imageURL:e.imageURL})}));return t})),et(a,"toggleSidenav",(function(e){if(a.isFinalizeRevampMob&&!a.state.showNav){var t=v.vb(e.target,"menu-mob");Object(F.a)("clicked",null,t?"clicked menu":"edit content","finalize")}else BLDR.UserClaims&&BLDR.UserClaims.user_uid&&!a.state.showNav&&(a.fireDesignUserTarits(),BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"edit resume"),BLDR.UserClaims.user_uid,v.Ib()));if(a.props.commonActions.SetCommonSetting(d.nc.fromFinalize,!0),a.state.showNav){if(e&&e.target)if(v.vb(e.target,"svg-skin"))return;a.isFinalizeRevampMob?a.showEditMode(!a.state.showNav):a.showCarouselMode()}else a.isFinalizeRevampMob?a.showEditMode(!a.state.showNav):a.showEditMode()})),et(a,"getDocStylesObj",(function(e){var t=null;if(e&&e.docStyles){var n=a.getSelectedFormattingOption(),o=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.FTFC})),i=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.FTSZ})),r=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.SDCL})),s=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.SSPC})),l=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.PSPC})),c=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.LNSP})),u=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.VMRG})),m=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.HMRG})),p=e.docStyles.filter((function(e){return e.styleTypeCD==d.Ac.PIND}));t={fontName:o&&o.length>0?o[0].value:"",fontStyle:n||"",fontSize:i&&i.length>0?i[0].value:"",templateColor:r&&r.length>0?r[0].value:"",sectionSpacing:s&&s.length>0?s[0].value:"",paragraphSpacing:l&&l.length>0?l[0].value:"",lineSpacing:c&&c.length>0?c[0].value:"",topAndBottomMargin:u&&u.length>0?u[0].value:"",sideMargin:m&&m.length>0?m[0].value:"",paragraphIndent:p&&p.length>0?p[0].value:""}}return t})),et(a,"fireFormattingEvent",(function(e){var t=a.getDocStylesObj(e);t&&(delete t.topAndBottomMargin,delete t.sideMargin,delete t.paragraphIndent),Object(Ie.b)(t)})),et(a,"onNextClick",(function(e){var t;a.fireDesignUserTarits(),e.preventDefault(),BLDR.featureSets.closeAlertPopup&&window.removeEventListener("beforeunload",v.rb),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&!a.isFinalizeRevampMob&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"next"),BLDR.UserClaims.user_uid,v.Ib());var n=null===(t=window.document)||void 0===t?void 0:t.querySelectorAll(".skin-wrapper"),o=Array.from(n).find((function(e){return e&&e.dataset&&e.dataset.skinid===a.state.selectedSkin}));if(o&&o.dataset&&o.dataset.index&&o.dataset.skinid&&o.dataset.skinname){var i={builderType:"resumes",screenName:"finalize",displayPosition:o.dataset.index,templateName:o.dataset.skindefaultname,templateLocName:o.dataset.skinname,templateId:o.dataset.skinid,templateColor:a.getTemplateColorForTracking(a.state.selectedColor),templateCategory:"all"};L.CommonHelper.isNullOrWhitespace(a.experienceLevel)||(i.experienceLevel=d.Zb[a.experienceLevel.toLowerCase().replace(/\s/g,"")]),Object(Ie.l)(i),a.fs_EditableEnlargeResume&&a.fireFormattingEvent(a.props.document)}if(BLDR.IsMobileDevice())a.openResumeOptionsPopup();else if(BLDR.createCookie("useraction","saveAndNext"),null!=a.props[d.nc.isPremium]&&null!=a.props[d.nc.isPremium]){var r="";"guest"==a.user.Role.toLowerCase()?(r=Te.c[d.Gb.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id),a.props.history.push(r)):(r=a.props[d.nc.isPremium]?BLDR.Paths.BaseUrl:BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id,setTimeout((function(){BLDR.isRGNCO&&!a.props[d.nc.isPremium]?BLDR.dataHandler(r):window.location.href=r}),10))}})),et(a,"beforeChange",(function(e,t){if(a.state.skins[t]){var n=a.state.skins[t].skinCD,o=a.state.skins.findIndex((function(e){return e.skinCD==a.state.selectedSkin})),i=a.getSelectedFormattingOption(),r=!1;a.displayDesktopView||e==t||i===d.wc.default||(r=!0),setTimeout((function(){a.setState({selectedSkin:n}),v.uc(n,a.state.selectedColor,a.props.document.id),"undefined"!=typeof GeniMetrics&&GeniMetrics&&GeniMetrics.sendTemplateClickEvent&&GeniMetrics.sendTemplateClickEvent(n),r&&a.setState({skins:Re()(a.state.skins,et({},o,{$merge:{html:""}}))})}),100)}})),et(a,"openResumePreviewPopup",(function(e){e&&e.stopPropagation(),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"open resume  preview"),BLDR.UserClaims.user_uid,v.Ib()),a.setState({showPopup:!0,popupName:d.Rb.resumePreview,showPreviewLoader:!0},(function(){setTimeout((function(){var e=document.querySelector(".svg-skin"),t=document.querySelector(".svg-skin #document, .svg-skin .document")?document.querySelector(".svg-skin #document, .svg-skin .document"):null;a.setResumePreviewDimension(e,t,!0)}),10)}))})),et(a,"closeResumePreviewPopup",(function(){BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"close resume preview"),BLDR.UserClaims.user_uid,v.Ib()),a.setState({showPopup:!1,popupName:""}),a.props.commonActions.RemoveSettingName(d.nc.showSideNav)})),et(a,"setMobileTemplate",(function(e){a.setState({showLoader:!0});var t=a.state.skins.findIndex((function(t){return t.skinCD==e})),n=a.state.skins[t].html,o=JSON.parse(JSON.stringify(a.props.document)),i=a.getColorForColorSelector(),r=a.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var t=a.isFinalizeRevampMob?o:v.oc(o,e);t=v.Ub(t,d.Ac.SDCL,i,BLDR.getTemplateFromSkin);var s=i?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;t=v.Ub(t,d.Ac.FTCL,s,BLDR.getTemplateFromSkin),a.isFinalizeRevampMob||(t=a.updateDocumentWithFormatOptions(t,e,r)),a.isFinalizeRevampMob||n&&""!=n?(a.props.documentActions.UpdateDocument(a.user.UserUID,t),a.setState({selectedSkin:e},(function(){setTimeout((function(){a.setResumePreviewDimension()}),1)}))):a.updateDocumentAndGetLatestHtml(t)}))})),et(a,"setMultipleDesktopTemplates",(function(e,t,n,o,i,r){var s=a.state.skins.findIndex((function(t){return t.skinCD==e}));if(!n||null==o&&null==o?!i||null==r&&null==r?a.setDesktopTemplate(e,t):a.setDesktopTemplateWithFormattingOption(e,r):a.setDesktopTemplateWithSkinColor(e,o),!a.fs_EditableEnlargeResume){for(var l=s>=2?s-2:0,c=s>=2?s+2>BLDR.Skins.length-1?BLDR.Skins.length-1:s+2:4,u=l;u<=c;u++)s!=u&&(!n||null==o&&null==o?!i||null==r&&null==r?a.setDesktopTemplate(BLDR.Skins[u].skinCD,t):a.setDesktopTemplateWithFormattingOption(BLDR.Skins[u].skinCD,r):a.setDesktopTemplateWithSkinColor(BLDR.Skins[u].skinCD,o));setTimeout((function(){var e=We(BLDR.Skins);e.splice(l,c-l+1);var s,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$e(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(u.s();!(s=u.n()).done;){var m=s.value;!n||null==o&&null==o?!i||null==r&&null==r?a.setDesktopTemplate(m.skinCD,t):a.setDesktopTemplateWithFormattingOption(m.skinCD,r):a.setDesktopTemplateWithSkinColor(m.skinCD,o)}}catch(e){u.e(e)}finally{u.f()}}),3e3)}window.addEventListener("resize",a.rescaleVisibleSkins)})),et(a,"setRendererDesktopTemplates",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a.state.skins,i=a.state.selectedColor,r=a.state.formattingType,s=JSON.parse(JSON.stringify(a.props.document)),l=a.state.selectedSkin,c={skins:o=Ue(o,s,i,r,n)};t&&(c={skins:o=Me(o,t)}),a.state.showNav&&(c.showPreviewLoader=!0),a.setState(Je({},c),(function(){if(t)a.props.documentActions.UpdateDocument(a.user.UserUID,t);else{var c=Oe(s,l,i,r,!1,n);e&&l&&a.props.documentActions.UpdateDocument(a.user.UserUID,c)}if(a.fs_EditableEnlargeResume||o.forEach((function(e,t){a.setResumeDimensionInCarouselRenderer(e.skinCD,t)})),a.state.showNav){var u=window.document.querySelector(".svg-skin"),m=window.document.querySelector(".svg-skin #document, .svg-skin .document")?window.document.querySelector(".svg-skin #document, .svg-skin .document"):null;a.setResumePreviewPopupDimension(u,m,!0)}}))})),et(a,"setDesktopTemplate",(function(e,t){var n=a.state.skins.findIndex((function(t){return t.skinCD==e})),o=n<0?"":a.state.skins[n].html,i=JSON.parse(JSON.stringify(a.props.document)),r=a.getColorForColorSelector(),s=a.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var l=v.oc(i,e);l=a.updateDocumentWithFormatOptions(l,e,s,t),l=v.Ub(l,d.Ac.SDCL,r,BLDR.getTemplateFromSkin);var c=r?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;if(l=v.Ub(l,d.Ac.FTCL,c,BLDR.getTemplateFromSkin),BLDR.finalizeTestBed.active&&(a.props.documentActions.UpdateDocument(a.user.UserUID,l),o=""),o&&""!=o){a.props.documentActions.UpdateDocument(a.user.UserUID,l);var u="",m="";a.state.skins&&a.state.skins.length>0&&(n-1>-1&&(u=a.state.skins[n-1].skinCD),n+1<a.state.skins.length&&(m=a.state.skins[n+1].skinCD)),a.setState({selectedSkin:e},(function(){setTimeout((function(){if(a.setResumeDimensionInCarousel(e,n),!L.CommonHelper.isNullOrWhitespace(u)){var t=n;0,a.setResumeDimensionInCarousel(u,t-1)}if(!L.CommonHelper.isNullOrWhitespace(m)){var o=n;0,a.setResumeDimensionInCarousel(m,o+1)}}),1)}))}else a.getLatestHtmlFromDocument(l)}))})),et(a,"setDesktopTemplateWithSkinColor",(function(e,t){var n=JSON.parse(JSON.stringify(a.props.document)),o=a.getSelectedFormattingOption();if(n=v.oc(n,e),o!==d.wc.default){var i=a.getFormatOptionDocStyles(n,e,o,!!a.fs_EditableEnlargeResume);n=L.DocumentHelper.updateDocumentWithDocStyles(n,i)}n=v.Ub(n,d.Ac.SDCL,t,BLDR.getTemplateFromSkin);var r=t?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;n=v.Ub(n,d.Ac.FTCL,r,BLDR.getTemplateFromSkin),e===a.state.selectedSkin&&a.props.documentActions.UpdateDocument(a.user.UserUID,n),a.fs_EditableEnlargeResume||a.getLatestHtmlFromDocument(n)})),et(a,"setDesktopTemplateWithFormattingOption",(function(e,t){var n=JSON.parse(JSON.stringify(a.props.document));n=a.updateDocumentWithFormatOptions(n,e,t),e===a.state.selectedSkin&&a.props.documentActions.UpdateDocument(a.user.UserUID,n),a.getLatestHtmlFromDocument(n)})),et(a,"updateDocumentForResumePublish",(function(e,t){var n=JSON.parse(JSON.stringify(a.props.document));return n.preferences=t.preferences,a.props.documentActions.UpdateDocument(e,n)})),et(a,"rescaleVisibleSkins",(function(){var e=a.state.selectedSkin,t=a.state.skins.findIndex((function(t){return t.skinCD==e}));a.setResumeDimensionInCarousel(e,t);for(var n=t>=2?t-2:0,o=t>=2?t+2>BLDR.Skins.length-1?BLDR.Skins.length-1:t+2:4,i=n;i<=o;i++)t!=i&&a.setResumeDimensionInCarousel(BLDR.Skins[i].skinCD,i)})),et(a,"setSelectedSkinRevamp",(function(e){a.setState({selectedSkin:e,openGuideTourBanner:!0})})),et(a,"getTemplateColorForTracking",(function(e){var t="",n=d.E;BLDR.featureSets.multiColorTemplate&&(v.Jb()?Object.keys(d.Db).forEach((function(e){n.push.apply(n,We(d.Db[e]))})):Object.keys(d.Cb).forEach((function(e){n.push.apply(n,We(d.Cb[e]))})));var a=n.findIndex((function(t){return t.value===e}));return a>=0&&(t=n[a].key),t})),et(a,"bindViewPortWatcher",(function(e,t){var n,o=window.document.querySelector(".".concat(e)),i=null===(n=window.document)||void 0===n?void 0:n.querySelectorAll(".".concat(t));i&&i.forEach((function(e){nt(e,{container:o,offset:-50},(function(e){if(e&&e.dataset&&e.dataset.index&&e.dataset.skinid&&e.dataset.skinname){var t={builderType:"resumes",screenName:"finalize",displayPosition:e.dataset.index,templateName:e.dataset.skindefaultname,templateLocName:e.dataset.skinname,templateId:e.dataset.skinid,templateColor:a.getTemplateColorForTracking(a.state.selectedColor),templateCategory:"all"};L.CommonHelper.isNullOrWhitespace(a.experienceLevel)||(t.experienceLevel=d.Zb[a.experienceLevel.toLowerCase().replace(/\s/g,"")]),Object(Ie.m)(t)}}))}))})),et(a,"setResumeDimensionInCarouselRenderer",(function(e,t){var n=window.document.querySelector(".skn-"+e.toLowerCase()),o=document.querySelector("div[data-skinid=".concat(e,"] .skin-container"));if(n&&o){var i=Re()(a.state.skins,et({},t,{$merge:{showLoader:!1}}));a.setState({skins:i},(function(){var e=o.offsetWidth/n.offsetWidth;n.style.transform="scale(".concat(e,")"),n.style.transformOrigin="0 0",a.signatureSection&&n.classList.add("signature-doc")}))}})),et(a,"setResumeDimensionInCarousel",(function(e,t){var n=window.document.querySelector(".skincd-"+e),o=null==n?void 0:n.querySelector(a.docSelectorQueryString),i=null==n?void 0:n.querySelector(".skin-container");setTimeout((function(){var e=o||document.querySelector(a.docSelectorQueryString),n=i||document.querySelector(".skin-container");if(e&&n){var r=Re()(a.state.skins,et({},t,{$merge:{showLoader:!1}}));a.setState({skins:r},(function(){var t=n.offsetWidth/e.offsetWidth;e.style.transform="scale(".concat(t,")"),e.style.transformOrigin="0 0",a.signatureSection&&e.classList.add("signature-doc"),a.ppdtSection&&e.classList.add("signature-ppdt-doc");e.querySelector(".signature-ppdt .disclaim")&&e.querySelector(".signature-ppdt").parentNode&&(e.querySelector(".signature-ppdt").parentNode.style.paddingBottom=e.querySelector(".signature-ppdt").offsetHeight+25+"px")}))}}),50)})),et(a,"setResumeDimensionInCarouselLoad",(function(e,t){var n=window.document.querySelector(".skincd-"+e),o=null==n?void 0:n.querySelector(a.docSelectorQueryString),i=null==n?void 0:n.querySelector(".skin-container"),r=o||document.querySelector(a.docSelectorQueryString),s=i||document.querySelector(".skin-container");if(r&&s){var l=Re()(a.state.skins,et({},t,{$merge:{showLoader:!1}}));a.setState({skins:l},(function(){var e=s.offsetWidth/r.offsetWidth;r.style.transform="scale(".concat(e,")"),r.style.transformOrigin="0 0",a.signatureSection&&r.classList.add("signature-doc"),a.ppdtSection&&r.classList.add("signature-ppdt-doc");r.querySelector(".signature-ppdt .disclaim")&&r.querySelector(".signature-ppdt").parentNode&&(r.querySelector(".signature-ppdt").parentNode.style.paddingBottom=r.querySelector(".signature-ppdt").offsetHeight+25+"px")}))}})),et(a,"getNameFromDocument",(function(e){var t="";if(e&&e.sections){var n=L.CommonHelper.getSectionByCD(e.sections,L.TypeCodes.sectionTypeCd.Name);null!=n&&null!=n.paragraphs&&n.paragraphs.length>0&&n.paragraphs[0].docDatas&&n.paragraphs[0].docDatas.length>0&&(t=L.CommonHelper.getCharValue(n.paragraphs[0].docDatas,L.TypeCodes.fieldCd.FirstName))}return t})),et(a,"saveLatestJobTitlePreference",(function(e){var t="";if(e&&e.sections){var n=L.CommonHelper.getSectionByCD(e.sections,L.TypeCodes.sectionTypeCd.Experience);null!=n&&null!=n.paragraphs&&n.paragraphs.length>0&&n.paragraphs[0].docDatas&&n.paragraphs[0].docDatas.length>0&&(t=L.CommonHelper.getCharValue(n.paragraphs[0].docDatas,L.TypeCodes.fieldCd.JobTitle))}L.CommonHelper.isNullOrWhitespace(t)||a.props.userActions.SaveUserPreference(a.user.UserUID,d.q.PreferenceJobtitle,t,BLDR.PortalSettings.ConfigurePortalCd)})),et(a,"saveJobLocationUserPreference",(function(e){var t=L.CommonHelper.getSectionByCD(e.sections,L.TypeCodes.sectionTypeCd.Contact);if(t){var n=v.N(t);L.CommonHelper.isNullOrWhitespace(n)||a.props.userActions.SaveUserPreference(a.props.document.userId,d.q.PreferenceJobLocation,n,BLDR.PortalSettings.ConfigurePortalCd)}})),et(a,"triggerColorSelectorEvent",(function(e){var t=d.F;BLDR.featureSets.multiColorTemplate&&(t=v.Jb()?d.pb().multiColorSelectorColorsWithResetV2:d.pb().multiColorSelectorColorsWithReset);var n=t.find((function(t){return t.value.toLowerCase()==(e&&e.toLowerCase())}));!n&&BLDR.featureSets.pantoneColorOfTheYear&&(n=e&&e.toLowerCase()===d.i.value.toLowerCase()?d.i:null),n&&n.key&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.ib.COLOR_PICKER,et(et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Cta_Name,"reset"===n.key.toLowerCase()?"default":n.key.toLowerCase()),d.bb.Click_Section,a.isFinalizeRevampMob?"personalize":null),d.bb.Sub_Section,a.isFinalizeRevampMob?"edit color":null),BLDR.UserClaims.user_uid,v.Ib())})),et(a,"onColorHover",(function(e){if(e){e.preventDefault();var t=a.state.selectedSkin,n=e.currentTarget.getAttribute("data-color"),o=JSON.parse(JSON.stringify(a.hoverStateDocument));if(o=v.oc(o,t),null!=n||null!=n){o=v.Ub(o,d.Ac.SDCL,n,BLDR.getTemplateFromSkin);var i=n?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;o=v.Ub(o,d.Ac.FTCL,i,BLDR.getTemplateFromSkin)}a.hoverStateDocument=o,a.setState({enableHoverState:!0,skinHovered:t})}})),et(a,"resetHoverState",(function(e){if(e){e.preventDefault(),a.OrigSelectedColor="";var t=a.state.selectedSkin,n=a.state.selectedColor,o=JSON.parse(JSON.stringify(a.props.document));if(o=v.oc(o,t),null!=n||null!=n){o=v.Ub(o,d.Ac.SDCL,n,BLDR.getTemplateFromSkin);var i=n?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;o=v.Ub(o,d.Ac.FTCL,i,BLDR.getTemplateFromSkin)}a.hoverStateDocument=JSON.parse(JSON.stringify(o)),a.setState({showHoverPreview:!1,skinHovered:null})}})),et(a,"onSkinColorClick",(function(e){if(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(null!=t&&a.triggerColorSelectorEvent(t),a.getColorForColorSelector()!=t){for(var n=JSON.parse(JSON.stringify(a.props.document)),o=JSON.parse(JSON.stringify(a.state.skins)),i=0;i<o.length;i++)L.CommonHelper.isNullOrWhitespace(o[i].html)||(o=Re()(o,et({},i,{$merge:{html:""}})));a.setState({showLoader:!0,skins:o,selectedColor:t}),n=v.Ub(n,d.Ac.SDCL,t,BLDR.getTemplateFromSkin);var r=t?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;n=v.Ub(n,d.Ac.FTCL,r,BLDR.getTemplateFromSkin),a.isFinalizeRevampMob?a.props.documentActions.UpdateDocument(a.user.UserUID,n):a.fs_EditableEnlargeResume||a.updateDocumentAndGetLatestHtml(n),v.uc(a.state.selectedSkin,t,a.props.document.id)}}})),et(a,"onMultipleSkinsColorClick",(function(e){if(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(null!=t&&a.triggerColorSelectorEvent(t),a.getColorForColorSelector()!=t){var n=JSON.parse(JSON.stringify(a.state.skins));if(!a.fs_EditableEnlargeResume)for(var o=0;o<n.length;o++)L.CommonHelper.isNullOrWhitespace(n[o].html)||(n=Re()(n,et({},o,{$merge:{html:"",showLoader:!0}})));a.setState({skins:n,showPreviewLoader:!0,selectedColor:t}),a.setMultipleDesktopTemplates(a.state.selectedSkin,!1,!0,t),v.uc(a.state.selectedSkin,t,a.props.document.id)}}})),et(a,"onEditMyResumeToolTipClose",(function(){a.setState({showEditMyResumeToolTip:!1})})),et(a,"onFormattingOptionClick",(function(e,t){if(e&&(e.stopPropagation(),e.preventDefault()),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&t&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,t.toLowerCase()+" formatting"),BLDR.UserClaims.user_uid,v.Ib()),t!==a.getSelectedFormattingOption()){a.setState({showLoader:!0});var n=a.updateDocumentWithFormatOptions(a.props.document,a.state.selectedSkin,t);a.updateDocumentAndGetLatestHtml(n)}})),et(a,"onMultipleSkinsFormattingOptionClick",(function(e,t){if(e&&(e.stopPropagation(),e.preventDefault()),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&t&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,t.toLowerCase()+" formatting"),BLDR.UserClaims.user_uid,v.Ib()),t!==a.getSelectedFormattingOption()){var n=JSON.parse(JSON.stringify(a.state.skins));if(!a.fs_EditableEnlargeResume)for(var o=0;o<n.length;o++)L.CommonHelper.isNullOrWhitespace(n[o].html)||(n=Re()(n,et({},o,{$merge:{html:"",showLoader:!0}})));a.setState({skins:n,showPreviewLoader:!0}),a.setMultipleDesktopTemplates(a.state.selectedSkin,!1,!1,null,!0,t)}})),et(a,"updateDocumentWithFormatOptions",(function(e,t,n,o){var i=JSON.parse(JSON.stringify(e));if(null==n&&(n=d.wc.default),d.vc.find((function(e){return e.SkinCd==t}))){if(n===d.wc.default||a.state.selectedSkin!=t){var r=a.getColorForColorSelector();if(i=v.oc(i,t),!L.CommonHelper.isNullOrWhitespace(r)){i=v.Ub(i,d.Ac.SDCL,r,BLDR.getTemplateFromSkin);var s=r?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;i=v.Ub(i,d.Ac.FTCL,s,BLDR.getTemplateFromSkin)}}if(n!==d.wc.default){var l=a.getFormatOptionDocStyles(i,t,n,o);i=L.DocumentHelper.updateDocumentWithDocStyles(i,l)}}return i})),et(a,"getFormatOptionDocStyles",(function(e,t,n,o){var i=JSON.parse(JSON.stringify(e)).docStyles,r=d.vc.find((function(e){return e.SkinCd==t}))[n],s=function(e){var t=!0;(o&&a.fs_EditableEnlargeResume&&e==d.Ac.LNSP&&(t=!1),t)&&(i.find((function(t){return t.styleTypeCD==e})).value=r[e])};for(var l in r)s(l);return i})),et(a,"updateDocumentAndGetLatestHtml",(function(e){var t=e.skinCD,n="",o=a.state.skins.findIndex((function(e){return e.skinCD==t})),i=a.state.skins[o].name,r=a.state.skins[o].imageURL,s=a.state.skins[o].skindefaultname;!1===BLDR.featureSets.photoUpload&&(e=a.DeletephotoSection(e)),a.props.documentActions.UpdateDocument(a.user.UserUID,e).then((function(e){if(e&&e.id){var l={userId:a.user.UserUID,documentId:e.id,portalId:BLDR.Portal.portalId,fileType:"oRIG"};a.props.documentActions.getHtml(l).then((function(e){if(e){var l=(new DOMParser).parseFromString(e,"text/html");l&&l.querySelector(a.docSelectorQueryString)&&l.querySelector(a.docSelectorQueryString).className&&l.querySelector(a.docSelectorQueryString).className.indexOf(t.toLowerCase())>-1&&(n=e);var c=Re()(a.state.skins,et({},o,{$set:{skinCD:t,html:n,name:i,imageURL:r,skindefaultname:s}}));a.setState({skins:c},(function(){setTimeout((function(){if(a.setResumePreviewDimension(),a.state.showNav){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document, .svg-skin .document")?window.document.querySelector(".svg-skin #document, .svg-skin .document"):null;a.setResumePreviewDimension(e,t,!0)}if(a.fs_EditableEnlargeResume){var n=window.document.querySelector(".svg-skin"),o=window.document.querySelector(".svg-skin #document, .svg-skin .document")?window.document.querySelector(".svg-skin #document, .svg-skin .document"):null;a.setResumePreviewDimension(n,o,!0)}}),1)}))}}))}}))})),et(a,"getLatestHtmlFromDocument",(function(e){var t="",n=e.skinCD,o=a.state.skins.findIndex((function(e){return e.skinCD==n})),i=a.state.skins[o].name,r=a.state.skins[o].imageURL,s=a.state.skins[o].skindefaultname;!1===BLDR.featureSets.photoUpload&&(e=a.DeletephotoSection(e)),a.state.selectedSkin,a.props.documentActions.getDocumentHtml(e,!1).then((function(e){if(e){var l=(new DOMParser).parseFromString(e,"text/html"),c=l&&l.querySelector(a.docSelectorQueryString);t=c&&c.className&&c.className.indexOf(n.toLowerCase())>-1?e:"";var u=Re()(a.state.skins,et({},o,{$merge:{skinCD:n,html:t,name:i,imageURL:r,skindefaultname:s}}));a.setState({skins:u},(function(){setTimeout((function(){if(a.setResumeDimensionInCarousel(n,o),a.state.showNav&&n===a.state.selectedSkin){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document, .svg-skin .document")?window.document.querySelector(".svg-skin #document, .svg-skin .document"):null;a.setResumePreviewDimension(e,t,!0)}}),1)}))}}))})),et(a,"getColorForColorSelector",(function(){var e=v.I(a.props.document.docStyles,d.Ac.SDCL);if(!L.CommonHelper.isNullOrWhitespace(e)){var t=[];BLDR.featureSets.multiColorTemplate&&(v.Jb()?Object.keys(d.Db).forEach((function(e,n){t.push.apply(t,We(d.Db[e]))})):Object.keys(d.Cb).forEach((function(e,n){t.push.apply(t,We(d.Cb[e]))})));var n=BLDR.featureSets.multiColorTemplate?t:d.E;BLDR.featureSets.pantoneColorOfTheYear&&n.push(d.i),n.some((function(t){return t.value.toLowerCase()==e.toLowerCase()}))||(e="")}return e})),et(a,"getSelectedFormattingOption",(function(){var e=a.props.document.skinCD,t=d.wc.default,n=JSON.parse(JSON.stringify(a.props.document.docStyles)),o=d.vc.find((function(t){return t.SkinCd==e}));return o&&o[d.wc.small]&&v.n(o[d.wc.small],n,!0,!(!a.fs_EditableEnlargeResume&&!a.isFinalizeRevampMob))?t=d.wc.small:o&&o[d.wc.large]&&v.n(o[d.wc.large],n,!0,!(!a.fs_EditableEnlargeResume&&!a.isFinalizeRevampMob))&&(t=d.wc.large),t})),et(a,"onSelectClick",(function(e){e&&e.value&&a.setState({formatSelection:Je(Je({},a.state.formatSelection),{},{value:e.value})})})),et(a,"txtOnChange",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailSubject":a.setState({emailSubject:Je(Je({},a.state.emailSubject),{},{value:t})});break;case"emailBody":a.setState({emailBody:t});break;case"emailTo":a.setState({emailTo:Je(Je({},a.state.emailTo),{},{value:t})});break;case"emailFrom":a.setState({emailFrom:Je(Je({},a.state.emailFrom),{},{value:t})})}}})),et(a,"txtOnBlur",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailTo":a.validateEmailTo(t);break;case"emailFrom":a.validateEmailFrom(t)}}})),et(a,"validateEmailFrom",(function(e){var t=v.Wc(e,BLDR.Localization.emailToFromErrorMessage,BLDR.Localization.emailCorrectFormatErrorMessage);return a.setState({emailFrom:Je(Je({},a.state.emailFrom),{},{value:e,isValid:t.isValid,showError:!t.isValid,errorMessage:t.errorMessage})}),t.isValid})),et(a,"validateEmailTo",(function(e){var t=!0,n="";L.CommonHelper.isNullOrWhitespace(e)?(t=!1,n=BLDR.Localization.emailToFromErrorMessage):(e.split(",").map((function(e){v.Wc(e.trim()).isValid||(t=!1)})),t||(n=BLDR.Localization.emailCorrectFormatErrorMessage));return a.setState({emailTo:Je(Je({},a.state.emailTo),{},{value:e,isValid:t,showError:!t,errorMessage:n})}),t})),et(a,"openDownloadFormatPopup",(function(e){if(e&&e.stopPropagation(),BLDR.UserClaims&&BLDR.UserClaims.user_uid){a.fireDesignUserTarits();var t=BLDR.IsMobileDevice()&&!a.isFinalizeRevampMob?"resume or email/print  download modal":"finalize";BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,t),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"resume download"),BLDR.UserClaims.user_uid,v.Ib()),BLDR.PortalExperiments.expDownloadFunnelV3&&Object(Ae.a)(BLDR.PortalExperiments.expDownloadFunnelV3),BLDR.featureSets.downloadFunnel?a.props.history.push("".concat(Te.c[d.Gb.downloadFunnel])):(BLDR.TrackEvents(d.ib.Notification,et(et(et({},d.bb.Activity,"viewed"),d.bb.Notification_Name,"download resume finalize modal"),d.bb.Page_Name,"finalize"),BLDR.UserClaims.user_uid,v.Ib()),a.setState({showPopup:!0,popupName:d.Rb.downloadFormat,formatSelection:Je(Je({},a.state.formatSelection),{},{value:d.fc.pdf})}))}})),et(a,"closeDownloadFormatPopup",(function(e,t){e&&e.stopPropagation(),e&&e.target&&e.target.innerText&&"download"===e.target.innerText.toLowerCase()||BLDR.UserClaims&&BLDR.UserClaims.user_uid&&t&&BLDR.TrackEvents(d.ib.Notification,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Notification_Name,"download resume finalize modal"),d.bb.Page_Name,"finalize"),d.bb.Cta_Name,t),BLDR.UserClaims.user_uid,v.Ib()),a.setState({showPopup:!1,popupName:"",formatSelection:Je(Je({},a.state.formatSelection),{},{value:d.fc.pdf})})})),et(a,"onDownloadConfirmClick",(function(e){e&&e.stopPropagation(),BLDR.featureSets.closeAlertPopup&&window.removeEventListener("beforeunload",v.rb),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.ib.Notification,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Notification_Name,"download resume finalize modal"),d.bb.Page_Name,"finalize"),d.bb.Cta_Name,"download"),BLDR.UserClaims.user_uid,v.Ib()),a.closeDownloadFormatPopup(e);var t=a.state.formatSelection.value;if(t){var n="";n="docx"==t?"word format":t+" format",BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.ib.Notification,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Notification_Name,"download resume finalize modal"),d.bb.Page_Name,"finalize"),d.bb.Cta_Name,"downloaded resume "+n),BLDR.UserClaims.user_uid,v.Ib())}var o=a.user.Role.toLowerCase();L.CommonHelper.isNullOrWhitespace(t)||(t===d.fc.text?a.downloadResume(d.fc.text,!1,"guest"==o):"guest"==o?(v.yc(a.props.document.id,d.Dc.download,t),a.props.history.push(Te.c[d.Gb.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id))):a.props[d.nc.isPremium]?a.downloadResume(t,!1):(v.yc(a.props.document.id,d.Dc.download,t),setTimeout((function(){BLDR.isRGNCO?BLDR.dataHandler(BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id):window.location.href=BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id}),10))),a.isFinalizeRevampMob&&a.fireFormattingEvent(a.props.document)})),et(a,"downloadResume",(function(e,t,n){var o=a.user.UserUID,i=a.props.document.id,r="".concat(L.CommonHelper.isNullOrWhitespace(a.props.document.name)?BLDR.Localization.resume_Label:a.props.document.name,".").concat(e.toUpperCase()),s=BLDR.Portal.portalId,l=BLDR.styleSheetName;if(BLDR.isMultiColumnSkin(a.state.selectedSkin)&&(l=BLDR.multiColumnStyleSheetName),e===d.fc.text)if(n){var c={userId:a.user.UserUID,documentId:i,portalId:BLDR.Portal.portalId,fileType:"oRIG",isText:!0};a.props.documentActions.getHtml(c).then((function(e){e&&v.Yb(r,e)}))}else a.props.documentActions.DownloadDocument(o,i,s,"txt","eXPT","RBtoText",!0,!1).then((function(e){if(e){var t=new URL(e);t.searchParams.set("sendDownloadEvent",!1),window.location.href=t.toString()}}));else if(t){var u=v.ac("",800,640,"location=No,scrollbars=Yes,toolbar=No,resizable=No,directories=No,status=No,menubar=No,hotkeys=No,center=Yes",!1);a.props.documentActions.DownloadDocument(o,i,s,"pdf","eXPT",l,!0,!0).then((function(e){e&&(u.location=e)}))}else a.props.documentActions.DownloadDocument(o,i,s,e,"eXPT",l,!0,!1).then((function(e){if(e){var t=new URL(e);t.searchParams.set("sendDownloadEvent",!1),window.location.href=t.toString()}}))})),et(a,"openResumeOptionsPopup",(function(){a.isFinalizeRevampMob?Object(F.a)("clicked",null,"get my resume","finalize"):BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et({},d.bb.Activity,"viewed"),d.bb.Page_Name,"resume or email/print  download modal"),d.bb.Document_Type,"resumes"),BLDR.UserClaims.user_uid,v.Ib()),a.setState({showPopup:!0,popupName:d.Rb.mobileResumeOptions})})),et(a,"closeResumeOptionsPopup",(function(e){e&&e.stopPropagation(),e&&e.target&&e.target.innerText&&"print"===e.target.innerText.toLowerCase()||BLDR.UserClaims&&BLDR.UserClaims.user_uid&&!a.isFinalizeRevampMob&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"resume or email/print  download modal"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"closed resume or email download modal"),BLDR.UserClaims.user_uid,v.Ib()),a.setState({showPopup:!1,popupName:""})})),et(a,"openEmailPopup",(function(e){if(e&&e.stopPropagation(),BLDR.featureSets.closeAlertPopup&&window.removeEventListener("beforeunload",v.rb),BLDR.UserClaims&&BLDR.UserClaims.user_uid){a.fireDesignUserTarits();var t=BLDR.IsMobileDevice()&&!a.isFinalizeRevampMob?"resume or email/print  download modal":"finalize";BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,t),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"email resume"),BLDR.UserClaims.user_uid,v.Ib())}"guest"==a.user.Role.toLowerCase()?(v.yc(a.props.document.id,d.Dc.email),a.props.history.push(Te.c[d.Gb.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id))):a.props[d.nc.isPremium]?a.setState({showPopup:!0,popupName:d.Rb.email,emailTo:d.V,emailFrom:Je(Je({},d.T),{},{value:v.gb(),isValid:!0}),emailSubject:d.U,emailBody:""}):(v.yc(a.props.document.id,d.Dc.email),setTimeout((function(){BLDR.isRGNCO?BLDR.dataHandler(BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id):window.location.href=BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id}),10))})),et(a,"closeEmailPopup",(function(){a.setState({showPopup:!1,popupName:"",emailTo:d.V,emailFrom:d.T,emailSubject:d.U,emailBody:""})})),et(a,"onEmailConfirmClick",(function(e){e&&e.stopPropagation(),a.isFinalizeRevampMob&&a.fireFormattingEvent(a.props.document);var t=a.validateEmailFrom(a.state.emailFrom.value),n=a.validateEmailTo(a.state.emailTo.value);t&&n&&(a.closeEmailPopup(),a.openEmailSentPopup(),a.sendEmail())})),et(a,"sendEmail",(function(){var e,t=BLDR.styleSheetName;BLDR.isMultiColumnSkin(a.state.selectedSkin)&&(t=BLDR.multiColumnStyleSheetName),BLDR.isRG?e="\n    <h1 style='color:#ff5e44;font-size:22px;font-weight:300;font-family:Google Sans;line-height:0px;'>\n    resume<b style='font-weight:800;'>genius</b></h1><p style='color:gray;'>The world's smartest resume builder</p>":BLDR.isRC?e="\n      <h1 style='color:#2184ff;font-size:40px;font-weight:100;font-family: sans-serif;line-height:0px;'>\n      <b style='font-weight:800;'>Resume</b>Companion</h1><p style='color:gray;'></p>":BLDR.isCVG?e="\n    <h1 style='color:#f96d1b;font-size:40px;font-weight:100;font-family: sans-serif;line-height:0px;'>\n    CV<b style='font-weight:800;'>Genius</b></h1><p style='color:gray;'>The world's smartest cv builder</p>":BLDR.isEUPortal&&(e="\n      <h1 style='color:#f96d1b;font-size:40px;font-weight:100;font-family: sans-serif;line-height:0px;'>\n      CV<b style='font-weight:800;'>Genius</b></h1><p style='color:gray;'>The world's smartest cv builder</p>");var n=e+(L.CommonHelper.isNullOrWhitespace(a.state.emailBody)?"":a.state.emailBody),o=L.CommonHelper.isNullOrWhitespace(a.state.emailSubject.value)?BLDR.Localization.noSubjectText:a.state.emailSubject.value,i=L.CommonHelper.isNullOrWhitespace(a.state.emailFrom.value)?v.gb(a.props.document):a.state.emailFrom.value,r=a.state.emailTo.value,s=BLDR.featureSets.downloadDocumentByLink,l={documentId:a.props.document.id,userId:a.user.UserUID,portalId:BLDR.Portal.portalId,displayName:i,styleSheetName:t,frmEmail:i,fileFormatType:"PDF",toEmail:r,subject:o,mailBody:n,emailName:"EmailResume",subType:s?d.A["Email Resume Link"]:""},c={};s&&(c.attachmentType="link",c.sendSegmentEvent=!0),a.props.documentActions.EmailDocument(l,c)})),et(a,"openEmailSentPopup",(function(){a.setState({showPopup:!0,popupName:d.Rb.emailSent})})),et(a,"closeEmailSentPopup",(function(){a.setState({showPopup:!1,popupName:""})})),et(a,"onPrintClick",(function(e){if(e&&e.stopPropagation(),BLDR.featureSets.closeAlertPopup&&window.removeEventListener("beforeunload",v.rb),BLDR.UserClaims&&BLDR.UserClaims.user_uid){a.fireDesignUserTarits();var t=BLDR.IsMobileDevice()&&!a.isFinalizeRevampMob?"resume or email/print  download modal":"finalize";BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,t),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"print resume"),BLDR.UserClaims.user_uid,v.Ib())}a.closeResumeOptionsPopup(e),"guest"==a.user.Role.toLowerCase()?(v.yc(a.props.document.id,d.Dc.print,d.fc.pdf),a.props.history.push(Te.c[d.Gb.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id))):a.props[d.nc.isPremium]?a.downloadResume(d.fc.pdf,!1):(v.yc(a.props.document.id,d.Dc.print,d.fc.pdf),setTimeout((function(){BLDR.isRGNCO?BLDR.dataHandler(BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id):window.location.href=BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id}),10)),a.isFinalizeRevampMob&&a.fireFormattingEvent(a.props.document)})),et(a,"getPopupProps",(function(e){var t=Je({},d.Sb[e]);switch(e){case d.Rb.resumePreview:t.closeModal=a.closeResumePreviewPopup;break;case d.Rb.downloadFormat:t.onPrimaryClick=function(){return a.closeDownloadFormatPopup(null,"cancel")},t.onSecondaryClick=a.onDownloadConfirmClick,t.closeModal=function(){return a.closeDownloadFormatPopup(null,"close")};break;case d.Rb.mobileResumeOptions:t.closeModal=a.closeResumeOptionsPopup;break;case d.Rb.email:t.onPrimaryClick=a.closeEmailPopup,t.onSecondaryClick=a.onEmailConfirmClick,t.closeModal=a.closeEmailPopup;break;case d.Rb.emailSent:t.closeModal=a.closeEmailSentPopup}return t})),et(a,"setSelectedTemplate_TestBed",(function(e){var t=BLDR.getDomainObject();if(a.state.skins.findIndex((function(t){return t.skinCD==e}))<0){var n=a.state.skins;n.push({skinCD:e,html:"",name:e,showLoader:!0,imageURL:"https://qa."+t.domainMain+"."+t.domainExt+"/skinblob/SkinImages/"+e+".png"}),a.setState({skins:n})}setTimeout((function(){a.displayDesktopView?a.setDesktopTemplate(e):a.setMobileTemplate(e);var t=a.state.skins.findIndex((function(t){return t.skinCD==e}));t>=0&&a.refObj&&a.refObj.slider&&a.refObj.slider.slickGoTo(t,!0),setTimeout((function(){a.openResumePreviewPopup()}),10)}),10)})),et(a,"redirectToConfirmation",(function(e){a.props.history.push(e)})),et(a,"closeSignInPopup",(function(){a.setState({signUpPop:!1})})),et(a,"initialiseScreenCaptureListeners",(function(){BLDR.addScreenShotTrackers&&(document.addEventListener("keyup",v.Bc),document.addEventListener("keydown",v.Dc),document.addEventListener("contextmenu",v.mb),document.addEventListener("visibilitychange",v.tb()),window.addEventListener("resize",v.qb),a.screenShotObserver=new MutationObserver(v.nb),a.screenShotObserver.observe(document.documentElement,{childList:!0,subtree:!0}),window.onblur=v.ob,window.onfocus=v.pb,document.addEventListener("scroll",v.ic),document.addEventListener("pointerup",v.hc))})),et(a,"removeScreenCaptureListeners",(function(){var e;BLDR.addScreenShotTrackers&&(document.removeEventListener("keyup",v.Bc),document.removeEventListener("keydown",v.Dc),document.removeEventListener("contextmenu",v.mb),null===(e=a.screenShotObserver)||void 0===e||e.disconnect(),window.onblur=null,window.onfocus=null,document.removeEventListener("scroll",v.ic),document.removeEventListener("pointerup",v.hc))})),et(a,"onFormattingChange",(function(e,t){var n=L.DocumentHelper.updateDocumentWithDocStyles(JSON.parse(JSON.stringify(a.props.document)),e);a.context.setDocument(v.x(n)),a.isFinalizeRevampMob?t||(a.props.documentActions.UpdateDocument(a.user.UserUID,n),je()):(a.fs_EditableEnlargeResume||a.props.documentActions.UpdateDocument(a.user.UserUID,n),t||a.fs_EditableEnlargeResume||a.setRendererDesktopTemplates(!t,n),!t&&a.fs_EditableEnlargeResume&&a.props.documentActions.UpdateDocument(a.user.UserUID,n))})),et(a,"onFontClick",(function(e){var t=L.DocumentHelper.updateDocumentWithDocStyles(JSON.parse(JSON.stringify(a.props.document)),e);if(a.context.setDocument(v.x(t)),a.props.documentActions.UpdateDocument(a.user.UserUID,t).then((function(){a.props.documentActions.loadDocument(t)})),a.isFinalizeRevampMob||a.setRendererDesktopTemplates(!0,t),a.isFinalizeRevampMob){var n=document.getElementById("formattingInner"),o=document.getElementById("advfontsSettingWrap");n&&o&&(n.scrollTop=o.offsetTop-65)}})),et(a,"handleChangeFormatting",(function(e,t){e&&e.stopPropagation(),a.fs_EditableEnlargeResume&&Object(F.a)("clicked","formatting menu",(t?t.toLowerCase():"")+" formatting option","finalize"),a.isFinalizeRevampMob&&Object(F.a)("clicked","personalize",(t?t.toLowerCase():"")+" formatting option","finalize","edit formating"),a.onLivePreviewFormattingOptionClick(e,t)})),et(a,"onLivePreviewFormattingOptionClick",(function(e,t){e&&(e.stopPropagation(),e.preventDefault()),a.setState({formattingType:t},(function(){if(a.fs_EditableEnlargeResume)a.setRendererDesktopTemplates(!0,!1,!0);else if(a.isFinalizeRevampMob){var e=JSON.parse(JSON.stringify(a.props.document)),t=a.state,n=t.selectedColor,o=t.formattingType;e=Oe(e,t.selectedSkin,n,o,!1,!0),a.props.documentActions.UpdateDocument(a.user.UserUID,e),je()}}))})),et(a,"resetFormatting",(function(){(a.fs_EditableEnlargeResume||a.isFinalizeRevampMob)&&Object(F.a)("clicked",a.isFinalizeRevampMob?"personalize":"formatting menu","reset to default","finalize",a.isFinalizeRevampMob?"edit formating":null);var e=Oe(JSON.parse(JSON.stringify(a.props.document)),a.state.selectedSkin,a.getColorForColorSelector(),a.state.formattingType,!0);a.fs_EditableEnlargeResume?a.setRendererDesktopTemplates(!0,e):a.isFinalizeRevampMob&&(a.props.documentActions.UpdateDocument(a.user.UserUID,e),je())})),et(a,"updateStateForDocumentPublish",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];BLDR.featureSets.closeAlertPopup&&window.removeEventListener("beforeunload",v.rb),t?a.setState({showDocumentPublishPopup:!1}):(Object(F.a)("clicked",null,"publish","finalize"),"guest"==a.user.Role.toLowerCase()?a.props.history.push(Te.c[d.Gb.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id)):a.props[d.nc.isPremium]?(document.getElementById("page-loader").classList.remove("d-none"),setTimeout((function(){document.getElementById("page-loader").classList.add("d-none")}),800),BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,"publish"),BLDR.UserClaims.user_uid,v.Ib()),a.setState({showDocumentPublishPopup:!0,showPopup:!1})):setTimeout((function(){BLDR.isRGNCO?BLDR.dataHandler(BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id):window.location.href=BLDR.Paths.SellPageUrl+"?docid="+a.props.document.id}),10)),a.isFinalizeRevampMob&&a.fireFormattingEvent(a.props.document)})),et(a,"toggleTemplatesColorsAndFormattingTab",(function(e,t,n){e.stopPropagation(),a.isFinalizeRevampMob||BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),d.bb.Cta_Name,t?"formatting menu":"templates menu"),BLDR.UserClaims.user_uid,v.Ib()),t?a.setState({showFormatingTab:!0,showTemplateTab:!1,showFullColorPalette:!1},(function(){a.isFinalizeRevampMob&&Object(F.a)("clicked","personalize","edit formatting","finalize")})):n?a.setState({showFullColorPalette:!0,showTemplateTab:!1,showFormatingTab:!1},(function(){a.isFinalizeRevampMob&&Object(F.a)("clicked","personalize","edit color","finalize")})):a.setState({showTemplateTab:!0,showFormatingTab:!1,showFullColorPalette:!1},(function(){a.isFinalizeRevampMob&&Object(F.a)("clicked","personalize","edit templates","finalize")}))})),et(a,"titleLabelOnClickHandler",(function(){Object(F.a)("clicked",null,"edit cv name","finalize"),a.setState({docNameEdtMode:!0})})),et(a,"docNameChangeHandler",(function(e){a.setState({editableTitle:a.getEditableTitle(e.target.value),noEditableTitle:a.getNonEditableTitle(e.target.value)})})),et(a,"saveDocNameHandler",(function(e){var t=a.props.document.name;null!=a.state.editableTitle&&null!=a.state.editableTitle&&a.state.editableTitle.trim().length>0&&(t=a.state.editableTitle),a.props.document.name!=t&&a.renameResumeHandler(e,a.user.UserUID,a.props.document.id,t),a.setState({docNameEdtMode:!1,editableTitle:a.getEditableTitle(t),noEditableTitle:a.getNonEditableTitle(t)})})),et(a,"cancelDocNameHandler",(function(e){var t=a.props.document.name;a.setState({docNameEdtMode:!1,editableTitle:a.getEditableTitle(t),noEditableTitle:a.getNonEditableTitle(t)})})),et(a,"renameResumeHandler",(function(e,t,n,o){e.stopPropagation();var i=a;a.props.documentActions.renameUserResume(t,n,a.props.document,o).then((function(e){i.props.documentActions.UpdateDocument(a.user.UserUID,i.props.document,!0)}))})),et(a,"moveSkinToFirst",(function(e,t){var n=We(BLDR.Skins),o=a.isFinalizeRevampMob?a.prevSelectedSkinCdRef.current:a.state.selectedSkin,i=n.findIndex((function(e){return e.id===o})),r=We(e),s=r[0];r.shift(),r.splice(i,0,s);var l=r.findIndex((function(e){return e.skinCD===t}));if(-1!==l){var c=Ge(r.splice(l,1),1)[0];r.unshift(c)}return r})),et(a,"onClickTemplate",(function(e,t,n,o,i){if(i){var r=a.moveSkinToFirst(o,e);a.updateSkinArrayOnClick(r,e),window.scrollTo(0,0),document.querySelector(".tab-content-wrap .skins-col").scrollTo(0,0)}a.isFinalizeRevampMob&&(a.prevSelectedSkinCdRef.current=a.state.selectedSkin,a.setState({selectedSkin:e},(function(){var e;je();var t=null===(e=window.document)||void 0===e?void 0:e.querySelectorAll(".skin-slider-mob .skin-item"),n=Array.from(t).find((function(e){return e&&e.dataset&&e.dataset.skinid===a.state.selectedSkin}));if(n&&n.dataset&&n.dataset.index&&n.dataset.skinid&&n.dataset.skinname){var o={builderType:"resumes",screenName:"finalize",displayPosition:n.dataset.index,templateName:n.dataset.skindefaultname,templateLocName:n.dataset.skinname,templateId:n.dataset.skinid,templateColor:a.getTemplateColorForTracking(a.state.selectedColor),templateCategory:"all"};L.CommonHelper.isNullOrWhitespace(a.experienceLevel)||(o.experienceLevel=d.Zb[a.experienceLevel.toLowerCase().replace(/\s/g,"")]),Object(Ie.l)(o)}})));var s=JSON.parse(JSON.stringify(a.props.document));if(v.uc(e,n,s&&s.id),s.skinCD=e,s=v.oc(s,e),t&&(null!=n||null!=n)){s=v.Ub(s,d.Ac.SDCL,n,BLDR.getTemplateFromSkin);var l=n?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;s=v.Ub(s,d.Ac.FTCL,l,BLDR.getTemplateFromSkin)}a.context.setDocument(v.x(s)),s&&a.props.documentActions.UpdateDocument(a.user.UserUID,s)})),et(a,"onHoverTemplate",(function(e,t,n){var o=JSON.parse(JSON.stringify(a.props.document));if(o){if(o.skinCD=e,o=v.oc(o,e),t&&(null!=n||null!=n)){o=v.Ub(o,d.Ac.SDCL,n,BLDR.getTemplateFromSkin);var i=n?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;o=v.Ub(o,d.Ac.FTCL,i,BLDR.getTemplateFromSkin)}a.hoverStateDocument=o,a.setState({skinHovered:e})}})),et(a,"onHoverOut",(function(){a.setState({skinHovered:null})})),et(a,"toggelColorPaletteDisplay",(function(e,t){e.stopPropagation(),a.setState({showFullColorPalette:t})})),et(a,"togglePaperSizeAction",(function(e,t){e.stopPropagation(),a.setState({showPaperSizeOption:t})})),et(a,"ChangePageSize",(function(e,t){e.preventDefault(),a.setState({showPaperSizeOption:!1,selectedPaperSize:d.Ab[t]});var n=JSON.parse(JSON.stringify(a.props.document));n=v.Ub(n,d.Ac.PGSZ,t,BLDR.getTemplateFromSkin),a.props.documentActions.UpdateDocument(a.user.UserUID,n)})),et(a,"updateSectionName",(function(e,t,n){if(!L.CommonHelper.isNullOrWhitespace(t)){var o=JSON.parse(JSON.stringify(a.props.document.sections)),i=o.findIndex((function(t){return t.id==e}));if(i>=0){var r=v.T(n);switch(r){case d.Gb.contact:r="contact";break;case d.Gb.careerObjective:r="professional summary";break;case d.Gb.additionalSkills:r="skills";break;case d.Gb.custom:r=o[i].name}BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et(et({},d.bb.Activity,"clicked"),d.bb.Page_Name,"finalize"),d.bb.Click_Option,r?"edit ".concat(r):null),d.bb["content value"],t.toLowerCase()),BLDR.UserClaims.user_uid,v.Ib()),t&&(o=Re()(o,et({},i,{name:{$set:t}})));var s=JSON.parse(JSON.stringify(a.props.document));s.sections=JSON.parse(JSON.stringify(o)),a.props.documentActions.UpdateDocument(a.user.UserUID,s)}}})),et(a,"onRenameSectionClick",(function(e,t){e&&e.stopPropagation(),a.setState({renameSection:!0,activeSectionId:t})})),et(a,"cancelSectionName",(function(){a.setState({renameSection:!1,activeSectionId:null})})),et(a,"togglePersonalizationPanel",(function(e,t){e.stopPropagation(),a.state.showPersonalizationPanel?document.removeEventListener("click",a.handleOutsidePanelClick,!1):document.addEventListener("click",a.handleOutsidePanelClick,!1),a.setState({showPersonalizationPanel:t,showCollapsedView:!1,showTemplateTab:t,showFormatingTab:!1,showFullColorPalette:!1},(function(){a.state.showPersonalizationPanel&&Object(F.a)("clicked",null,"personalize","finalize")}))})),et(a,"togglePanelCollapsedView",(function(e){e.stopPropagation(),a.state.showCollapsedView?document.addEventListener("click",a.handleOutsidePanelClick,!1):document.removeEventListener("click",a.handleOutsidePanelClick,!1),a.setState((function(e){return{showCollapsedView:!e.showCollapsedView}}),(function(){var e=a.state.showTemplateTab?"edit templates":a.state.showFullColorPalette?"edit color":a.state.showFormatingTab?"edit formatting":null;Object(F.a)("clicked","personalize",a.state.showCollapsedView?"minimize tab":"maximize tab","finalize",e)}))})),et(a,"handleOutsidePanelClick",(function(e){var t=v.vb(e.target,"panel-wrapper-mob"),n=v.vb(e.target,"switch-checkbox");t||n||(document.removeEventListener("click",a.handleOutsidePanelClick,!1),a.setState({showCollapsedView:!0}))})),et(a,"getHeaderBannerText",(function(){var e="";return"1"!=(v.J(a.props.document,d.N.upSellBannerDisplayed)||"")&&(BLDR.featureSets.FinalPageV3UpsellCL&&(e=BLDR.Localization.fpv3_clupsell_Finalize_Banner_text),BLDR.featureSets.FinalPageV3UpsellLRR&&(e=BLDR.Localization.fpv3_lrrupsell_Finalize_Banner_text)),e})),et(a,"setUpsellBannerDisplayDocPref",(function(){a.headerBannerText="";var e=JSON.parse(JSON.stringify(a.props.document));L.CommonHelper.addDocumentPreference(e,d.N.upSellBannerDisplayed,"1"),a.props.documentActions.UpdateDocument(a.user.UserUID,e).then((function(){a.props.documentActions.loadDocument(e)}))})),a.refObj={},a.headerBannerText="",a.expFinalizePageIconsVariant=0,a.isFinalizePageIconRevampVariants=0,BLDR.PortalExperiments.expFinalizePageRevamp&&(Object(Ae.a)(BLDR.PortalExperiments.expFinalizePageRevamp),a.finalizePageRewampExpVariant=parseInt(Object(v.M)(BLDR.PortalExperiments.expFinalizePageRevamp))),BLDR.PortalExperiments.expFinalizeRevampMob&&(Object(Ae.a)(BLDR.PortalExperiments.expFinalizeRevampMob),a.finalizeRevampMobExpVariant=parseInt(Object(v.M)(BLDR.PortalExperiments.expFinalizeRevampMob))),BLDR.PortalExperiments.expFinalizePublishIcon&&Object(Ae.a)(BLDR.PortalExperiments.expFinalizePublishIcon),BLDR.PortalExperiments.expFinalizePageIconsRevamp&&(Object(Ae.a)(BLDR.PortalExperiments.expFinalizePageIconsRevamp),a.expFinalizePageIconsVariant=parseInt(Object(v.M)(BLDR.PortalExperiments.expFinalizePageIconsRevamp)),a.isFinalizePageIconRevampVariants=3==a.expFinalizePageIconsVariant||4==a.expFinalizePageIconsVariant||5==a.expFinalizePageIconsVariant||6==a.expFinalizePageIconsVariant),a.docSelectorQueryString="#document, .document",a.displayDesktopView=!BLDR.isIPAD()&&!BLDR.IsMobileDevice(),a.htmlClassList=document.documentElement.classList,document.body.classList.add("finalize-page"),a.displayDesktopView&&document.body.classList.add("desktop-finalize-view"),a.user=v.hb();var i=a.getSkinsObject().findIndex((function(t){return t.skinCD==e.document.skinCD}))>-1?e.document.skinCD:BLDR.defaultSkin,r=a.getSkinsObject().findIndex((function(t){return t.skinCD==e.document.skinCD})),s=!1;a.experienceLevel=v.J(a.props.document,d.N.experienceLevel)||"",a.congratulatoryPopup=v.J(a.props.document,d.N.CongratulatoryPopupFinalize)||0,a.firstName=a.getNameFromDocument(a.props.document),a.signatureSection=a.props.document.sections.find((function(e){return e.sectionTypeCD==L.TypeCodes.sectionTypeCd.Signature})),a.ppdtSection=a.props.document.sections.find((function(e){return"PPDT"==e.sectionTypeCD}));var l=L.CommonHelper.getStorageValue("common");if(null!=l&&l.length>0){var c=l.find((function(e){return e[d.nc.showSideNav]}));c&&(s=c[d.nc.showSideNav])}a.fs_EditableEnlargeResume=BLDR.featureSets.finalizePageRewamp,a.isFinalizeRevampMob=BLDR.featureSets.finalizePageRevampMob,a.GuideTourArr=BLDR.IsMobileDevice()?d.g:d.f;var u=v.U(),m=u.skinColor,p=u.docId;return a.guideTourPopup=a.isFinalizeRevampMob&&3==a.finalizeRevampMobExpVariant?v.ib(d.q.GuideTourFinalizeMobile)||0:v.ib(d.q.GuideTourPopupfinalize)||0,(BLDR.featureSets.FinalPageV3UpsellCL||BLDR.featureSets.FinalPageV3UpsellLRR)&&(a.headerBannerText=a.getHeaderBannerText()),a.state={showNav:!a.isFinalizeRevampMob&&s,skins:a.getSkinsObject(i),selectedSkin:i,selectedSkinIndex:r,selectedColor:p==e.document.id?m:v.I(a.props.document.docStyles,d.Ac.SDCL),popupName:"",showPopup:!1,showLoader:!0,showPreviewLoader:!0,showEditMyResumeToolTip:!1,formatSelection:d.ob,emailTo:d.V,emailFrom:d.T,emailSubject:d.U,emailBody:"",formattingType:a.getSelectedFormattingOption(),showDocumentPublishPopup:!1,openCongratulatoryPopup:!1,modalClass:"modal-guided-tour",openGuideTourBanner:!1,counterForTour:0,showTemplateTab:!BLDR.featureSets.publishResumeTab,showFormatingTab:!!BLDR.featureSets.publishResumeTab,showPaperSizeOption:!1,selectedPaperSize:a.paperSelectedValue(),docNameEdtMode:!1,editableTitle:a.getEditableTitle(a.props.document.name),noEditableTitle:a.getNonEditableTitle(a.props.document.name),showFullColorPalette:!1,selectedSkinRevamp:i,skinHovered:null,enableHoverState:!1,renameSection:!1,activeSectionId:null},a.isFinalizeRevampMob&&(a.state.showTemplateTab=!1,a.isDarkTheme=1==v.ib(d.q.DarkThemeEnabled),a.state=Je(Je({},a.state),{},{showPersonalizationPanel:!1,showCollapsedView:!1,isDarkMode:!!a.isDarkTheme})),a.hoverStateDocument=a.props.document?JSON.parse(JSON.stringify(a.props.document)):{},a.prevSelectedSkinCdRef=o.a.createRef(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ke(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;BLDR.featureSets.finalizePageRewamp&&window.document.body.classList.add("fs-finalize-revamp"),this.isFinalizeRevampMob&&(window.document.body.classList.add("fs-finalize-revamp","fs-finalize-revamp-mob"),this.checkThemeState(),3==this.finalizeRevampMobExpVariant&&BLDR.preload("".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour-mob/arrow-1.svg"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour-mob/arrow-2.svg"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour-mob/arrow-3.svg"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour-mob/arrow-4.svg"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour-mob/arrow-5.svg"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/guided-tour-mob/arrow-7.svg"))),BLDR.featureSets.PaperSize&&window.document.body.classList.add("fs-paper-size"),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.ib.DOCUMENT_EVENTS,et(et(et({},d.bb.Activity,"viewed"),d.bb.Page_Name,"finalize"),d.bb.Document_Type,"resumes"),BLDR.UserClaims.user_uid,v.Ib()),!this.props[d.nc.isPremium]||BLDR.isRC||window.BLDR.featureSets.publishResumTab||(window.BLDR.featureSets.publishResume=!0),(window.BLDR.featureSets.publishResume||window.BLDR.featureSets.publishResumTab)&&(window.BLDR.preload("".concat(window.BLDR.CDNHost+window.BLDR.imagePath,"/images/export-popup-bg.png")),-1==window.document.body.className.indexOf("fs-publish-resume")&&window.document.body.classList.add("fs-publish-resume")),this.livepreviewsetting(this.state.selectedSkin),Object(Ie.n)(this.props.document);var t=this.state.selectedSkin,n=this.state.skins.findIndex((function(e){return e.skinCD==t}));if(!window.BLDR.featureSets.modifyContactDetails){var a=v.mc(this.props.document);this.props.documentActions.UpdateDocument(this.user.UserUID,a,!0)}this.refObj&&this.refObj.slider&&this.refObj.slider.slickGoTo(n,!0),this.props[d.nc.isPremium]||this.initialiseScreenCaptureListeners(),this.props.saveUserStages(d.Ec.Finalize),this.saveLatestJobTitlePreference(this.props.document),this.saveJobLocationUserPreference(this.props.document),document.body.classList.remove("no-ads"),this.bindViewPortWatcher("skins-col-wrap","skin-wrapper"),this.fs_EditableEnlargeResume&&this.props.commonActions.SetCommonSetting(d.nc.fromFinalize,!0),(BLDR.featureSets.chooseTemplateNameAndSurname||BLDR.featureSets.showTemplateFilters||BLDR.featureSets.chooseTempNameAndPhotoFilter)&&(L.CommonHelper.deleteStorageValue(d.nc.nameDocData),L.CommonHelper.deleteStorageValue(d.nc.chooseTemplateFilterSkins)),this.fs_EditableEnlargeResume||0!=this.congratulatoryPopup||this.saveDocPreferenceOfCongratulatoryPopup(),!this.fs_EditableEnlargeResume&&3!=this.finalizeRevampMobExpVariant||0!=this.guideTourPopup||this.setState({openGuideTourBanner:!this.state.openGuideTourBanner}),this.fs_EditableEnlargeResume?this.setTemplatesPreviewDimension():setTimeout((function(){var t=document.querySelector(".svg-skin"),n=document.querySelector(".svg-skin #document, .svg-skin .document")?document.querySelector(".svg-skin #document, .svg-skin .document"):null;e.setResumePreviewDimension(t,n,!0)}),10)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.selectedSkin;if(n!=t.selectedSkin&&(this.displayDesktopView?this.setDesktopTemplate(n,!0):this.isFinalizeRevampMob||this.setMobileTemplate(n)),this.fs_EditableEnlargeResume||3==this.finalizeRevampMobExpVariant){var a=this.state.counterForTour;if(a!=t.counterForTour){var o=this.GuideTourArr[a-1],i=this.GuideTourArr[t.counterForTour-1];window.document.body.classList.remove(i),window.document.body.classList.add(o),0==t.counterForTour&&this.setState({modalClass:this.state.modalClass+" modal-guided-steps"})}}e.document.name!=this.props.document.name&&this.setState({docNameEdtMode:!1,editableTitle:this.getEditableTitle(this.props.document.name),noEditableTitle:this.getNonEditableTitle(this.props.document.name)}),t.showFormatingTab!=this.state.showFormatingTab&&this.fs_EditableEnlargeResume&&this.setTemplatesPreviewDimension(),3==this.finalizeRevampMobExpVariant&&t.openGuideTourBanner!=this.state.openGuideTourBanner&&(this.state.openGuideTourBanner?window.document.body.classList.add("fs-guided-mob"):window.document.body.classList.remove("fs-guided-mob")),this.isFinalizeRevampMob&&(t.showTemplateTab!=this.state.showTemplateTab&&!0===this.state.showTemplateTab&&(this.handleTemplatesRevisit(),this.state.openGuideTourBanner||this.bindViewPortWatcher("personalize-cont-wrap","skin-item")),this.checkThemeState());var r=document.querySelector(".preview-wrap");r&&r.classList&&(r.classList.remove("black-bg"),v.xb()&&r.classList.add("black-bg"))}},{key:"componentWillUnmount",value:function(){if(BLDR.featureSets.finalizePageRewamp&&window.document.body.classList.remove("fs-finalize-revamp"),this.isFinalizeRevampMob&&(window.document.body.classList.remove("fs-finalize-revamp","fs-finalize-revamp-mob","dark-theme"),3==this.finalizeRevampMobExpVariant&&(document.body.classList.remove("fs-guided-mob"),this.state.counterForTour>0&&this.GuideTourArr&&this.GuideTourArr.length>0)))for(var e=0;e<this.GuideTourArr.length;e++)document.body.classList.remove(this.GuideTourArr[e]);BLDR.featureSets.PaperSize&&window.document.body.classList.remove("fs-paper-size"),this.fireDesignUserTarits(),document.body.classList.remove("finalize-page"),document.body.classList.remove("desktop-finalize-view"),document.body.classList.remove("popup-body-no-scroll"),window.document.body.className.indexOf("fs-publish-resume")>-1&&window.document.body.classList.remove("fs-publish-resume"),window.removeEventListener("resize",this.rescaleVisibleSkins),this.removeScreenCaptureListeners()}},{key:"showEditMode",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.isFinalizeRevampMob)this.setState({showNav:t,showPreviewLoader:!1,showPersonalizationPanel:!1,showCollapsedView:!1,showTemplateTab:!1,showFormatingTab:!1,showFullColorPalette:!1});else{this.props.commonActions.SetCommonSetting(d.nc.showSideNav,!0);var n="1"===v.ib(d.q.EditResumeViewed);this.setState({showNav:t,showPreviewLoader:!0,showEditMyResumeToolTip:!n},(function(){n||BLDR.IsMobileDevice()||e.props.userActions.SaveUserPreference(e.user.UserUID,d.q.EditResumeViewed,"1",BLDR.PortalSettings.ConfigurePortalCd),setTimeout((function(){var t=document.querySelector(".svg-skin"),n=document.querySelector(".svg-skin #document, .svg-skin .document")?document.querySelector(".svg-skin #document, .svg-skin .document"):null;e.setResumePreviewDimension(t,n,!0)}),1)}))}}},{key:"showCarouselMode",value:function(){this.setState({showNav:!1,showEditMyResumeToolTip:!1}),this.props.commonActions.RemoveSettingName(d.nc.showSideNav),document.querySelector(".cancel-handler").scrollTop=0}},{key:"getEditableTitle",value:function(e){return e?L.CommonHelper.removeAngularBrackets(e,!1):""}},{key:"getNonEditableTitle",value:function(e){return e?L.CommonHelper.removeAngularBrackets(e,!1):""}},{key:"render",value:function(){this.state.showNav&&!document.body.classList.contains("popup-body-no-scroll")?document.body.classList.add("popup-body-no-scroll"):this.state.showNav||document.body.classList.remove("popup-body-no-scroll");var e=this.displayDesktopView?this.onMultipleSkinsColorClick:this.onSkinColorClick,t=this.displayDesktopView?this.onMultipleSkinsFormattingOptionClick:this.onFormattingOptionClick,n=this.getColorForColorSelector(),a=this.getSelectedFormattingOption();return o.a.createElement(o.a.Fragment,null,this.isFinalizeRevampMob?o.a.createElement(Ce,Ve({},this.props,{assignRef:this.assignRef,formattingOptionSelected:a,getPopupProps:this.getPopupProps,onEditMyResumeToolTipClose:this.onEditMyResumeToolTipClose,onNextClick:this.onNextClick,onPrintClick:this.onPrintClick,onSkinColorClick:e,openDownloadFormatPopup:this.openDownloadFormatPopup,openEmailPopup:this.openEmailPopup,skinColor:n,state:this.state,toggleSidenav:this.toggleSidenav,updateDocumentForResumePublish:this.updateDocumentForResumePublish,updateStateForDocumentPublish:this.updateStateForDocumentPublish,fs_revampFinalizeMob:this.isFinalizeRevampMob,togglePersonalizationPanel:this.togglePersonalizationPanel,onClickTemplate:this.onClickTemplate,toggleTemplatesColorsAndFormattingTab:this.toggleTemplatesColorsAndFormattingTab,togglePanelCollapsedView:this.togglePanelCollapsedView,handleChangeFormatting:this.handleChangeFormatting,onFormattingChange:this.onFormattingChange,onFontClick:this.onFontClick,resetFormatting:this.resetFormatting,onClickGuideTour:this.onClickGuideTour,onStartGuideTour:this.onStartGuideTour,closeGuideTourFinalize:this.closeGuideTourFinalize,firstName:this.firstName,dontShowNavList:this.state.openGuideTourBanner&&4==this.state.counterForTour,handleThemeToggle:this.handleThemeToggle,isDarkMode:this.state.isDarkMode,txtOnChange:this.txtOnChange,txtOnBlur:this.txtOnBlur,closeEmailSentPopup:this.closeEmailSentPopup})):o.a.createElement(se,Ve({},this.props,{context:this.context,state:this.state,user:this.user,assignRef:this.assignRef,toggleSidenav:this.toggleSidenav,onNextClick:this.onNextClick,beforeChange:this.beforeChange,openResumePreviewPopup:this.openResumePreviewPopup,closeResumePreviewPopup:this.closeResumePreviewPopup,onEditMyResumeToolTipClose:this.onEditMyResumeToolTipClose,displayDesktopView:this.displayDesktopView,skinColor:n,onSkinColorClick:e,formattingOptionSelected:a,onFormattingOptionClick:t,modalClass:this.modalClass,getPopupProps:this.getPopupProps,onSelectClick:this.onSelectClick,txtOnChange:this.txtOnChange,txtOnBlur:this.txtOnBlur,openDownloadFormatPopup:this.openDownloadFormatPopup,openEmailPopup:this.openEmailPopup,closeEmailSentPopup:this.closeEmailSentPopup,onPrintClick:this.onPrintClick,fs_EditableEnlargeResume:this.fs_EditableEnlargeResume,firstName:this.firstName,isToggleLogin:this.isToggleLogin,closePopupFinalize:this.closePopupFinalize,redirectToConfirmation:this.redirectToConfirmation,saveUserStages:this.props.saveUserStages,onFormattingChange:this.onFormattingChange,onFontClick:this.onFontClick,handleChangeFormatting:this.handleChangeFormatting,resetFormatting:this.resetFormatting,updateStateForDocumentPublish:this.updateStateForDocumentPublish,updateDocumentForResumePublish:this.updateDocumentForResumePublish,toggleTemplatesColorsAndFormattingTab:this.toggleTemplatesColorsAndFormattingTab,titleLabelOnClickHandler:this.titleLabelOnClickHandler,docNameChangeHandler:this.docNameChangeHandler,saveDocNameHandler:this.saveDocNameHandler,cancelDocNameHandler:this.cancelDocNameHandler,toggelColorPaletteDisplay:this.toggelColorPaletteDisplay,onStartGuideTour:this.onStartGuideTour,closeGuideTourFinalize:this.closeGuideTourFinalize,setResumeDimensionInCarousel:this.setResumeDimensionInCarousel,onClickGuideTour:this.onClickGuideTour,onClickTemplate:this.onClickTemplate,rescaleVisibleSkins:this.rescaleVisibleSkins,setSelectedSkinRevamp:this.setSelectedSkinRevamp,hoverStateDocument:this.hoverStateDocument,onHoverTemplate:this.onHoverTemplate,onHoverOut:this.onHoverOut,showPublishTab:4==Object(v.M)(BLDR.PortalExperiments.expFinalizePublishIcon),expFinalizePageIconsRevampVariant:this.expFinalizePageIconsVariant,isExpFinalizePageIconsRevampVariant:this.isFinalizePageIconRevampVariants,onColorHover:this.onColorHover,resetHoverState:this.resetHoverState,togglePaperSizeAction:this.togglePaperSizeAction,ChangePageSize:this.ChangePageSize,headerBannerText:this.headerBannerText,setUpsellBannerDisplayDocPref:this.setUpsellBannerDisplayDocPref},BLDR.featureSets.finalizePageRewamp&&!BLDR.isRC&&this.displayDesktopView&&{onRenameSectionClick:this.onRenameSectionClick,renameSection:this.state.renameSection,activeSectionId:this.state.activeSectionId,cancelSectionName:this.cancelSectionName,updateSectionName:this.updateSectionName,enableRenameSection:!0})))}}])&&Qe(n.prototype,a),i&&Qe(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(a.Component);et(at,"contextType",we.a);t.default=Object(Le.b)(null,null,null,{withRef:!0})(at)},1293:function(e,t,n){"use strict";n.r(t),n.d(t,"FinalizeTestBed",(function(){return b}));var a=n(0),o=n.n(a),i=n(39),r=n(1284);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,f(a.key),a)}}function u(e,t,n){return t=m(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var b=function(e){function t(e,n){var a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(o=u(this,t,[e,n]),"assignRef",(function(e,t){null!=t&&(o.refObj[e]=t)})),d(o,"pushSkinToGlobalObject",(function(e){var t,n=BLDR.Skins.find((function(t){return t.skinCD==e})),a=BLDR.getTemplateFromSkin(e),i=(null===(t=Array.from(a.querySelectorAll("container")))||void 0===t?void 0:t.length)>0;!n&&BLDR.Skins.unshift({id:e,skinCD:e,name:"New Skin HTM",skinTypeCd:"GEN",minIndent:0,maxIndent:0,blobURL:"https://qa."+o.domainObject.domainMain+"."+o.domainObject.domainExt+"/skinblob/SkinImages/"+e+".png",sortIndex:1,mSortIndex:3,htmlURL:"https://qa."+o.domainObject.domainMain+"."+o.domainObject.domainExt+"/skinblob/"+e+".htm",imageURL:"https://qa."+o.domainObject.domainMain+"."+o.domainObject.domainExt+"/skinblob/SkinImages/"+e+".png",isActive:!0,isMultiColumn:i,isPhotoSkin:!0,html:"",showLoader:!0})})),d(o,"txtOnChangeSkinTestbed",(function(e){o.setState({inputSkinCd:e.target.value?e.target.value.trim().toUpperCase():e.target.value})})),d(o,"changeSkinTestBedKeyPress",(function(e){13==(e.which||e.keyCode)&&(e.preventDefault(),e.stopPropagation(),o.setSelectedSkinInput(e))})),d(o,"checkBlob",(function(){if(o.state.inputSkinCd){var e=o,t=o.state.inputSkinCd+".htm",n=window.BLDR.configServiceBlobUrl+"".concat(t);return o.callAjaxTestBed(n,"GET",!1,!1,(function(t){404==t.status?(e.setState({invalidSkinName:"Invalid skin name . Blob does not exists"}),console.log("blob does not exists"),e.checkIfBlobExists=!1):(e.setState({invalidSkinName:""}),console.log("blob exists"),e.checkIfBlobExists=!0)}))}})),d(o,"setSelectedSkinInput",(function(){o.checkBlob();var e=o.state.inputSkinCd;if(o.checkIfBlobExists&&e){o.pushSkinToGlobalObject(e);o.refObj.finalize.setSelectedTemplate_TestBed(e,!1)}})),d(o,"onClickFile",(function(e){e&&e.stopPropagation(),document.getElementById("myFile").value=null})),d(o,"onChangeFile",(function(e){var t=o,n=e.currentTarget.files[0],a=new FileReader;a.onload=function(e){var n=e.name;if("htm"==n.substr(n.lastIndexOf(".")+1)&&8==n.length)return function(e){var a=e.target.result,o=(new DOMParser).parseFromString(a,"text/html");BLDR.skinHtmls[n]=o;var i=n.slice(0,4);t.pushSkinToGlobalObject(i);BLDR.finalizeTestBed={active:!0,skinCd:i,skinHtm:a},t.refObj.finalize.setSelectedTemplate_TestBed(i,!0),t.setState({invalidUploadedSkinName:"",inputSkinCd:i})};t.setState({invalidUploadedSkinName:"file is not htm file or code is not valid"})}(n),a.readAsText(n)})),d(o,"callAjaxTestBed",(function(e,t,n,a,o,i,r){var s;(s=new XMLHttpRequest).onload=function(){4!=s.readyState||200!=s.status&&404!=s.status||o&&(i?o(s.responseText,i):o(s))},s.open(t,e,n),a&&(s.withCredentials=!0),r?(s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),s.send(r)):s.send()})),o.finalizeComp=null,o.refObj={},o.state={inputSkinCd:(null===(a=o.props)||void 0===a||null===(a=a.document)||void 0===a?void 0:a.skinCD)||"",reload:!1},o.domainObject=BLDR.getDomainObject(),o.props.documentSkin&&o.pushSkinToGlobalObject(o.props.document.skinCD),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"testbed-control-section"},o.a.createElement("div",{className:"testbed-skin-section"},o.a.createElement("div",{className:"input-container"},o.a.createElement("label",{className:"input-label"},"Enter Skin Code:"),o.a.createElement("input",{type:"text",className:"form-control",name:"skinchange",value:this.state.inputSkinCd,onChange:this.txtOnChangeSkinTestbed,onKeyPress:this.changeSkinTestBedKeyPress})),o.a.createElement("button",{type:"button",className:"button button-primary",onClick:this.setSelectedSkinInput},o.a.createElement("i",{className:"fa fa-check"}))),o.a.createElement("div",{className:"testbed-fileUpload-section"},o.a.createElement("div",{className:"choose-file"},"Choose Skin File",o.a.createElement("input",{type:"file",id:"myFile",className:"form-control-edit",onClick:this.onClickFile,onChange:this.onChangeFile})),""!=this.state.invalidUploadedSkinName&&o.a.createElement("span",{className:"invalid-feedback1",style:{color:"red"}},this.state.invalidUploadedSkinName))),o.a.createElement(r.Finalize,l({},this.props,{ref:function(t){return e.assignRef("finalize",t)}})))}}])&&c(n.prototype,a),i&&c(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(a.Component);t.default=Object(i.b)((function(e){var t=e.Document.skinCD;return{document:e.Document,Common:e.Common,documentSkin:t}}),null,null,{withRef:!0,forwardRef:!0})(b)},1294:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(0),o=n.n(a),i=n(112),r=n(151),s=n(1),l=n(8);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,f(a.key),a)}}function m(e,t,n){return t=p(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=c(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var b=function(e){function t(e,n){var a,o,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=m(this,t,[e,n]),o=a,r=function(){window.location=l.c[s.Gb.index]},(i=f(i="onClick"))in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"oops-panel-wrapper"},o.a.createElement("div",{className:"oops-header"},o.a.createElement(i.a,{hideHamburgerIcon:!0})),o.a.createElement("div",{className:"oops-panel-container"},o.a.createElement("div",{className:"oops-panel-background"},o.a.createElement("div",{className:"oops-panel-background-text"},BLDR.Localization.errorCode_404)),o.a.createElement("div",{className:"oops-panel-text-section"},o.a.createElement("div",{className:"oops-panel-title"},BLDR.Localization.oops_not_found_title),o.a.createElement("div",{className:"oops-panel-subtitle"},BLDR.Localization.oops_not_found_sub_title),o.a.createElement("button",{onClick:this.onClick,className:"button button-primary"},BLDR.Localization.goHomeCta))),o.a.createElement(r.a,null))}}])&&u(n.prototype,a),c&&u(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,c}(a.Component)},874:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(0),o=n.n(a),i=n(6),r=function(e){var t=e.className,n=e.onClick;return o.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:n},o.a.createElement(i.X,null))},s=function(e){var t=e.className,n=e.onClick;return o.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:n},o.a.createElement(i.V,null))}}}]);