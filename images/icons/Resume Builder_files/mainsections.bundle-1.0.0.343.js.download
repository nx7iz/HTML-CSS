(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1307:function(e,t,o){"use strict";o.r(t),o.d(t,"mapStateToProps",(function(){return M})),o.d(t,"mapDispatchToProps",(function(){return G}));var n=o(0),a=o.n(n),i=o(39),r=o(22),s=o(989),c=o.n(s),l=o(112),p=o(151),u=o(874),d=o(1005),m=(o(1006),o(1)),C=o(246),f=o(4),h=o(62),g=o.n(h),D=o(6),b=o(909);function y(e){var t,o="".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/star.svg"),i=e.FS_onBoardingTemplatePicker,r=e.FS_recommendedPopupSkins,s=e.onClosePopupClick,h=e.onBoardingTemplateShowPopup,y=e.onBoardingChooseTemplateSelect,v=e.onViewAllTemplateClick,S=e.onSelectTemplateClick,T=e.onBoardingTemplateTitleAndSubHeading,L=e.templatePickerPopupClickEvent,P=e.onBoardingTemplateEmptyScreen,R=e.localization.onBoardingTemplateUseTemplate,B=T().title,w={centerMode:BLDR.isRC,centerPadding:"100px",dots:BLDR.IsMobileDevice(),slidesToScroll:1,infinite:!1,slidesToShow:1,focusOnSelect:BLDR.isRC,swipeToSlide:!0,speed:500,variableWidth:BLDR.isRC,initialSlide:7,nextArrow:a.a.createElement(u.a,null),prevArrow:a.a.createElement(u.b,null),responsive:[{breakpoint:767,settings:{arrows:!0,centerMode:!0,centerPadding:"45px",dots:!1,initialSlide:0,nextArrow:a.a.createElement(u.a,{useSolidIcon:!0}),prevArrow:a.a.createElement(u.b,{useSolidIcon:!0})}},{breakpoint:1024,settings:{centerMode:BLDR.isRC,centerPadding:"100px",slidesToShow:BLDR.IsMobileDevice()||BLDR.isIPAD()||!BLDR.isRC?1:3,adaptiveHeight:BLDR.isRC}}],appendDots:function(e){return a.a.createElement(d.a,{dots:e,numDotsToShow:8,dotWidth:20})}},k=e.skins;e.useRendererForCT&&(k=k.filter((function(t){return t.skinColor==e.selectedColorName}))),!window.BLDR.featureSets.CTSkinsformat&&BLDR.featureSets.chooseTemplateNameAndSurname&&(e.localization.default_first_name=BLDR.Localization.lkl_dummyResumeText_NAME_FNAM?BLDR.Localization.lkl_dummyResumeText_NAME_FNAM:BLDR.Localization.lkl_dummyResumeContent_NAME_FNAM,e.localization.default_last_name=BLDR.Localization.lkl_dummyResumeText_NAME_LNAM?BLDR.Localization.lkl_dummyResumeText_NAME_LNAM:BLDR.Localization.lkl_dummyResumeContent_NAME_LNAM),(BLDR.featureSets.chooseTemplateNameAndSurname||BLDR.featureSets.showTemplateFilters||BLDR.featureSets.chooseTempNameAndPhotoFilter)&&(e.localization.color_Picker_Text=BLDR.Localization.color_picker_short_alias_with_name_filter);return a.a.createElement(a.a.Fragment,null,i&&!BLDR.featureSets.chooseTempNameAndPhotoFilter&&a.a.createElement(g.a,{isOpen:h,hasHeader:!1,shouldCloseOnOverlayClick:!0,closeModal:function(){s(!0)},cssClass:{btnPrimary:"button button-default",btnSecondary:"button button-primary",modalDialog:"modal \n                  onboarding-template-modal"}},a.a.createElement("div",{className:"onboarding-template-wrapper"},a.a.createElement("button",{className:"close",onClick:function(e){e.preventDefault(),s(!0)}},a.a.createElement(D.s,null)),a.a.createElement("div",{className:"inner-content"},a.a.createElement("div",{className:"left-section"},B&&a.a.createElement("h2",{className:"title",dangerouslySetInnerHTML:{__html:B}}),BLDR.featureSets.onBoardingTemplatePicker&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"action-btns"},a.a.createElement("button",{className:"button button-primary",onClick:function(e){return y(e,r[0],!1,1)}},R),a.a.createElement("button",{className:"button button-default",onClick:function(e){e.preventDefault(),S(BLDR.Localization.choose_default_SkinCD,!0),L(BLDR.Localization.onBoardingTemplate_choose_later)}},BLDR.Localization.onBoardingTemplate_choose_later)),a.a.createElement("div",{className:"bottom-link"},a.a.createElement("a",{className:"btn-link",onClick:function(e){e.preventDefault(),v(),L(BLDR.Localization.onBoardingTemplate_view_template),s(!1)}},BLDR.Localization.onBoardingTemplate_view_template)))),a.a.createElement("div",{className:"right-section"},function(t){return t.map((function(t,i){var r,s=e.selectedColorName!=BLDR.Localization.resetColorText?e.selectedColorName:"";return r=Object(C.b)(t,s,"","",!0,!1,i),a.a.createElement(n.Fragment,{key:i},a.a.createElement("div",{className:"onb-template-view"},a.a.createElement("div",{className:"star-point"},a.a.createElement("img",{src:o,alt:"star"})),a.a.createElement("div",{className:"template-preview-onboarding"},a.a.createElement("div",{className:"svg-skin onboarding"},P&&a.a.createElement("div",{className:"empty-screen"}),r))),a.a.createElement("div",{className:"animation-icon"},a.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/animated-badge.svg"),alt:"star-outer",width:110,height:110})))}))}(r))))),!e.showAnimation&&a.a.createElement("div",{className:"choose-template-panel-wrapper ".concat(e.useRendererForCT?"html-skins":"")},BLDR.featureSets.parsingProgress&&BLDR.GPTParserData.isGPTUpload&&"1"==e.isResumeUploaded&&a.a.createElement(b.a,{message:BLDR.Localization.gpt_Work_Experience_Imported,minValue:10,maxValue:50,parseTime:null===(t=BLDR.GPTParserData)||void 0===t?void 0:t.exprSectionParseTime,sectionToUpdate:m.e.cntcSection,isChooseTemplateScreen:!0}),a.a.createElement("div",{className:"choose-template-panel-header"},a.a.createElement(l.a,{hideHamburgerIcon:!0,showHeadShotFilter:BLDR.IsMobileDevice()&&BLDR.featureSets.showTemplateFilters,Localization:e.localization,updateStateForCTComponent:e.updateStateForCTComponent,getNameDocData:e.getNameDocData})),a.a.createElement("div",{className:"choose-template-panel-main"},a.a.createElement(c.a,{GPTParsedDocument:e.GPTParsedDocument,ref:function(t){return e.assignRef("ct",t)},hidePreviewTemplateButton:!0,Localization:e.localization,skins:k,headingControl:e.headingControl,carouselSettings:w,colors:BLDR.featureSets.multiColorTemplate?Object(f.Jb)()?m.Db:m.Cb:m.E,isFs_multiColorTemplate:BLDR.featureSets.multiColorTemplate,isGFR:BLDR.isGFR,selectedColorName:e.selectedColorName,onColorPickerClick:e.onColorPickerClick,isMobileDevice:!!BLDR.IsMobileDevice(),recommendedSkinArray:e.recommendedSkinArray,allSkinArray:e.allSkinArray,onRecommenededTemplateClick:e.onRecommenededTemplateClick,isRecommendedTemplatesClicked:e.isRecommendedTemplatesClicked,onViewAllTemplateClick:e.onViewAllTemplateClick,isViewAllTemplateClicked:e.isViewAllTemplateClicked,onSelectTemplateClick:S,isChooseTemplate:e.isChooseTemplate,useRendererForCT:e.useRendererForCT,getSkinComponent:e.useRendererForCT?C.a:C.b,scaleSkinsSVGWidthHeight:e.scaleSkinsSVGWidthHeight,isMobileChooseTemplate:e.isMobileChooseTemplate,skipControl:e.skipControl,isChooseTempateTunedUp:e.Fs_chooseTempateTunedUp,hideTempateTabs:e.Fs_chooseTempateTunedUp||e.direct_UploadToChooseTemplate||BLDR.featureSets.chooseTempNameAndPhotoFilter||e.Fs_CTRecLabelsAndLayoutsMob,newTemplateLabel:e.newTemplateLabel,popularTemplateLabel:e.popularTemplateLabel,popularSkinCd:e.popularSkinCd,newSkinCd:e.newSkinCd,Fs_PantoneColorOfTheYear:e.Fs_PantoneColorOfTheYear,pantoneColor:e.pantoneColor,isSkipSticky:BLDR.isGDE,getNameDocData:e.getNameDocData,setNameDocData:e.setNameDocData,chooseTemplateNameAndSurname:BLDR.featureSets.chooseTemplateNameAndSurname,showTemplateFilters:BLDR.featureSets.showTemplateFilters,selectedSkin:e.selectedSkin,selectedSkinIndex:e.selectedSkinIndex,onBoardingStarImage:o,FS_onBoardingTemplatePicker:i,FS_recommendedPopupSkins:r,selectedFilters:e.selectedFilters,showNamesInChooseTemplateUpload:BLDR.featureSets.showNamesInChooseTemplateUpload,onColorHover:e.onColorHover,enableHoverState:e.enableHoverState,hoverColor:e.hoverColor,onColorHoverReset:e.onColorHoverReset,Fs_CTRecLabelsAndLayoutsMob:e.Fs_CTRecLabelsAndLayoutsMob,iconStar:e.iconStar,iconFile:e.iconFile,showColumnFilters:BLDR.featureSets.showColumnFilters,showGraphicsFilters:BLDR.featureSets.showGraphicsFilters,chooseTempNameAndPhotoFilter:BLDR.featureSets.chooseTempNameAndPhotoFilter,fireTrackingEvents:e.fireTrackingEvents,bindViewPortWatcher:e.bindViewPortWatcher,isFirstFocus:BLDR.IsMobileDevice(),Fs_CTRecLabelsAndLayoutsMobVariant:e.Fs_CTRecLabelsAndLayoutsMobVariant,sectionToUpdateInDummyDocument:e.sectionToUpdateInDummyDocument,GPTParser:m.e})),a.a.createElement(p.a,null)),e.showAnimation&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:" skin-loader-container"},a.a.createElement("div",{className:"skin-container loader-wrapper"},e.skinComponent,a.a.createElement("div",{className:"import-resume"},a.a.createElement("div",{className:"loader"},a.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/loader.gif"),alt:"loader",height:"31",width:"31"})),a.a.createElement("div",{className:"progress-bar"},a.a.createElement("div",{className:"bar"},a.a.createElement("span",{className:"bar-progress",id:"moveLine"})),a.a.createElement("div",{className:"progress-text"},a.a.createElement("span",null,BLDR.Localization.gpt_applying_template_text),a.a.createElement("span",{id:"movePercent"},"".concat(e.linePercent,"%")))))))))}var v=o(70),S=o(2),T=o(36),L=o(47),P=o(71),R=o(8),B=o(38),w=o(92);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,a,i,r,s=[],c=!0,l=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;c=!1}else for(;!(c=(n=i.call(o)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=o.return&&(r=o.return(),Object(r)!==r))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function N(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach((function(t){U(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function O(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function A(e,t,o){return t=F(t),function(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],F(e).constructor):t.apply(e,o))}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,o){return(t=H(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function H(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}var j=o(355),V=function(e){function t(e,o){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(n=A(this,t,[e,o]),"handleFilterStorage",(function(e){var t=S.CommonHelper.getStorageValue(m.nc.nameDocData);t&&e.forEach((function(e){return delete t[e]})),t&&Object.keys(t).length?S.CommonHelper.setStorageValue(m.nc.nameDocData,t):S.CommonHelper.deleteStorageValue(m.nc.nameDocData)})),U(n,"setSessionStorageBasedOnFS",(function(){BLDR.featureSets.chooseTemplateNameAndSurname||n.handleFilterStorage([S.TypeCodes.fieldCd.FirstName,S.TypeCodes.fieldCd.LastName]),BLDR.featureSets.showTemplateFilters||n.handleFilterStorage(["selectedFilters"]),BLDR.featureSets.showColumnFilters||n.handleFilterStorage(["selectedColumnsFilters"]),BLDR.featureSets.showGraphicsFilters||n.handleFilterStorage(["selectedGraphicsFilters"])})),U(n,"onBoardingTemplateSkins",(function(){var e=n.getRecommendedSkinCD();return BLDR.featureSets.onBoardingTemplatePicker&&e?e.slice(0,1):[]})),U(n,"onBoardingTemplateTitleAndSubHeading",(function(){return BLDR.featureSets.onBoardingTemplatePicker?{title:BLDR.Localization.onBoardingTemplate_heading,subTitle:null}:{title:null,subTitle:null}})),U(n,"ConductChooseMultiColorPickerExperimentV2",(function(){0==f.M(BLDR.PortalExperiments.expMultiChooseColorPickerV2)&&n.props.userActions.ConductSpaExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.expMultiChooseColorPickerV2)})),U(n,"scaleSkinsSVGWidthHeight",(function(e){BLDR.featureSets.useRendererForCT&&e&&e.forEach((function(e){n.setResumePreviewDimension(e),n.isSafari&&n.checkScaling(1e3,e)}))})),U(n,"checkScaling",(function(e,t){setTimeout((function(){var e=document.querySelector(n.docSelectorQueryString);if(e&&e.getBoundingClientRect()&&e.getBoundingClientRect().width&&e.offsetWidth){var o=e.getBoundingClientRect().width/e.offsetWidth;o&&1===o&&n.setResumePreviewDimension(t)}}),e)})),U(n,"getChooseTemplateLocalization",(function(){var e=N({},v.f);return n.isMobileChooseTemplate&&(e.recommended_Templates_Text=BLDR.Localization.recommended_Templates_Text_Exp,e.view_All_Templates_Text=BLDR.Localization.view_All_Templates_Text_Exp),n.Fs_chooseTempateTunedUp&&(e.color_Picker_Text=BLDR.Localization.tune_up_color_picker_text),BLDR.featureSets.pantoneColorOfTheYear&&(e.pantone_color_of_the_year=BLDR.Localization.pantone_color_of_the_year,e.pantone_color_Picker_Text=BLDR.Localization.pantone_color_Picker_Text),e})),U(n,"setAnimationResumePreviewDimension",(function(e){var t="#document, .document.skn-"+(e&&e.id?e.id.toLowerCase():""),o=document.querySelector(t),n=document.querySelector(".skin-container");if(o&&n){var a=n.offsetWidth/o.offsetWidth;a!==1/0&&(o.style.transform="scale(".concat(a,")"),o.style.transformOrigin="0 0")}})),U(n,"setScalingForOnBoardingSkins",(function(e){var t=document.querySelector("#document, .onboarding .document.skn-"+(e&&e.id?e.id.toLowerCase():"")),o=document.querySelector(".template-preview-onboarding");if(t&&o){var n=o.offsetWidth/t.offsetWidth,a=o.offsetHeight/t.offsetHeight;window.BLDR.featureSets.CTSkinsformat&&a&&n?t.style.transform="scale(".concat(n,", ").concat(a,")"):t.style.transform="scale(".concat(n,")"),t.style.transformOrigin="0 0"}})),U(n,"setResumePreviewDimension",(function(e){var t=window.BLDR.featureSets.CTSkinsformat?".template-preview":".svg-skin",o=document.querySelector("#document, .document.skn-"+(e&&e.id?e.id.toLowerCase():"")),n=document.querySelector(t);if(o&&n){var a=n.offsetWidth/o.offsetWidth;o.style.transform="scale(".concat(a,")"),o.style.transformOrigin="0 0"}})),U(n,"setScalingFactorOnResize",(function(){n.scaleSkinsSVGWidthHeight()})),U(n,"getHeadingControl",(function(){return a.a.createElement("div",{className:"choose-template-panel-title-wrapper"},n.Fs_CTRecLabelsAndLayoutsMob?a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"builder-form-layout-title"},BLDR.Localization.ct_layout_heading),a.a.createElement("p",{className:"builder-form-layout-subtitle"},BLDR.Localization.ct_layout_subheading)):a.a.createElement("h1",{className:"choose-template-panel-sub-title",dangerouslySetInnerHTML:{__html:n.getSubHeadingText()}}),n.Fs_chooseTempateTunedUp?null:n.getSkipControl())})),U(n,"getSkipControl",(function(){var e="";return e=window.BLDR.featureSets.isFunnelImprovements?n.Fs_chooseTempateTunedUp?BLDR.Localization.skip_and_choose_later:BLDR.Localization.or_Skip_This_Step_funnel:BLDR.Localization.or_Skip_This_Step,!n.isMobileChooseTemplate&&a.a.createElement("span",{className:"skip-ct-wrapper"},a.a.createElement("a",{className:"skip-choose-template",onClick:function(){return n.onSelectTemplateClick(BLDR.Localization.choose_default_SkinCD,!0)},name:"skip link"},e))})),U(n,"onBoardingChooseTemplateSelect",(function(e,t,o,a){e.preventDefault(),n.onSelectTemplateClick(t,o),Object(B.j)(BLDR.Localization.onBoardingTemplate_use_template);var i=BLDR.skins.filter((function(e){return e.skinCD===t})),r={displayPosition:a,templateName:i&&i[0].name,id:t};S.CommonHelper.isNullOrWhitespace(n.experienceLevel)||(r.experienceLevel=m.Zb[n.experienceLevel.toLowerCase().replace(/\s/g,"")]),Object(B.i)(r)})),U(n,"newTemplateLabel",(function(){return a.a.createElement("span",{className:"ct-template-label new-template-label"},a.a.createElement(D.Ob,{iconClass:"badge-icon"}),BLDR.Localization.new_badge_label)})),U(n,"popularTemplateLabel",(function(){return a.a.createElement("span",{className:"ct-template-label popular-template-label"},a.a.createElement(D.Qb,{iconClass:"badge-icon"}),BLDR.Localization.popular_badge_label)})),U(n,"iconFile",(function(){return a.a.createElement(D.jb,null)})),U(n,"iconStar",(function(){return a.a.createElement(D.Pb,null)})),U(n,"getSubHeadingText",(function(){if(n.direct_UploadToChooseTemplate)return BLDR.Localization.subHeading_ChooseTemplate_ViewAll_upload_flow;if(n.state.isRecommendedTemplatesClicked||BLDR.featureSets.chooseTempNameAndPhotoFilter){var e="",t=m.Wb.stillEnrolled,o=f.J(n.props.document,m.N.experienceLevel)||"",a=f.J(n.props.document,m.N.graduationStatus)||"";switch(o){case BLDR.Localization.zero_Exp_Level:e=a.toLowerCase()===m.Zb["".concat(t)].toLowerCase()?BLDR.Localization.current_students_Text:BLDR.IsMobileDevice()?BLDR.Localization.no_work_experience_Mobile_Choose_Template_Text_Exp:BLDR.Localization.no_work_experience_Text;break;case BLDR.Localization.zero_To_Three_Exp_Level:e=BLDR.IsMobileDevice()?BLDR.Localization.zero_to_three_Mobile_Choose_Template_Exp:BLDR.Localization.choose_template_less_than_three_Exp;break;case BLDR.Localization.three_To_Five_Exp_Level:e=BLDR.IsMobileDevice()?BLDR.Localization.three_to_five_Mobile_Choose_Template_Exp:BLDR.Localization.choose_template_three_to_five_Exp;break;case BLDR.Localization.five_To_Ten_Exp_Level:e=BLDR.IsMobileDevice()?BLDR.Localization.five_to_ten_Mobile_Choose_Template_Exp:BLDR.Localization.choose_template_five_to_ten_Exp;break;case BLDR.Localization.ten_Plus_Exp_Level:e=BLDR.IsMobileDevice()?BLDR.Localization.ten_plus_Mobile_Choose_Template_Exp:BLDR.Localization.choose_template_ten_plus_Exp;break;default:BLDR.featureSets.chooseTempNameAndPhotoFilter&&(e=n.isMobileChooseTemplate?BLDR.Localization.subHeading_ChooseTemplate_ViewAll_Mobile_Choose_Template_Text_Exp:BLDR.Localization.subHeading_ChooseTemplate_ViewAll)}return e}return n.isMobileChooseTemplate?BLDR.Localization.subHeading_ChooseTemplate_ViewAll_Mobile_Choose_Template_Text_Exp:BLDR.Localization.subHeading_ChooseTemplate_ViewAll})),U(n,"getAllSkins",(function(){var e=[],t=m.F;return BLDR.featureSets.multiColorTemplate&&(t=f.Jb()?m.pb().multiColorSelectorColorsWithResetV2:m.pb().multiColorSelectorColorsWithReset),BLDR.featureSets.pantoneColorOfTheYear&&t.push(m.i),t.forEach((function(t){BLDR.Skins.forEach((function(o){var n={};n.id=o.id,n.skinCD=o.skinCD,n.oldSkinCD=o.oldSkinCD,n.oldId=o.oldId,n.name=o.name,n.skindefaultname=o.skindefaultname?o.skindefaultname:o.name,n.skinColor="".concat(t.key),n.skinTypeCd=o.skinTypeCd,n.sortIndex=o.sortIndex,n.mSortIndex=o.mSortIndex,n.imageURL="".concat(window.BLDR.imagePath,"/images/").concat(BLDR.PortalSettings.ConfigurePortalCd.toLowerCase(),"/").concat(window.BLDR.featureSets.photoUpload&&BLDR.isRG?"skinswithpp":"skins","/").concat(t.key.replace(/\s/g,""),"/").concat(o.skinCD.toLowerCase(),".png"),n.theme="".concat(t.value),n.isCTMultiColumn=!!o.isCTMultiColumn,n.isCTGraphicSkin=!!o.isCTGraphicSkin,e.push(n)}))})),e})),U(n,"getColorForColorSelector",(function(){var e=sessionStorage.getItem(m.nc.colorCD);if(S.CommonHelper.isNullOrWhitespace(e)&&(e=f.I(n.props.document.docStyles,m.Ac.SDCL)),!S.CommonHelper.isNullOrWhitespace(e)){var t=m.F;BLDR.featureSets.multiColorTemplate&&(t=f.Jb()?m.pb().multiColorSelectorColorsWithResetV2:m.pb().multiColorSelectorColorsWithReset);var o=t.find((function(t){return t.value.toLowerCase()==e.toLowerCase()}));(o=m.i.value.toLowerCase()==e.toLowerCase()?m.i:o)?e=o.key:(e=BLDR.Localization.resetColorText,sessionStorage.removeItem(m.nc.colorCD))}return e})),U(n,"onColorPickerClick",(function(e,t){var o=m.F;BLDR.featureSets.multiColorTemplate&&(o=f.Jb()?m.pb().multiColorSelectorColorsWithResetV2:m.pb().multiColorSelectorColorsWithReset);var a=o.find((function(e){return e.value.toLowerCase()==(t&&t.toLowerCase())}));!a&&BLDR.featureSets.pantoneColorOfTheYear&&(a=t&&t.toLowerCase()===m.i.value.toLowerCase()?m.i:null),a&&a.key&&(BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(m.ib.COLOR_PICKER,U(U(U({},m.bb.Activity,"clicked"),m.bb.Page_Name,"choose template"),m.bb.Cta_Name,"reset"===a.key.toLowerCase()?"default":a.key.toLowerCase()),BLDR.UserClaims.user_uid,f.Ib()),n.setState({selectedColorName:a.key,enableHoverState:!1,hoverColor:null}))})),U(n,"bindViewPortWatcher",(function(){var e=[],t=n.getAllSkins();if(n.state.isRecommendedTemplatesClicked){if(t&&t.length>0){var o;o=t.filter((function(e){return-1!=n.getRecommendedSkinCD().indexOf(e.skinCD)})),e=n.mapOrderSkins(o,n.getRecommendedSkinCD(),"id")}}else e=t;if(e&&e.length>0){var a=0;return e.map((function(e){if(e.skinColor===n.state.selectedColorName){var t=document.querySelector("div[data-index='".concat(a,"']"));a+=1,j(t,(function(e){if(e&&e.dataset&&e.dataset.skinid&&e.dataset.skinname&&e.dataset.skincolor&&e.dataset.displayposition){var t=document.querySelector("div[data-skinid='".concat(e.dataset.skinid,"'] .recommended-label")),o=n.getTemplateFilterTxt().dropDownTxt,a=BLDR.Skins&&BLDR.Skins.filter((function(t){return t.skinCD==e.dataset.skinid})),i=a&&a.length&&a[0].isCTGraphicSkin?"TRUE":"FALSE",r=a&&a.length&&a[0].isCTMultiColumn?"TRUE":"FALSE",s=N({builderType:"resumes",screenName:"choose template",displayPosition:e.dataset.displayposition,templateName:e.dataset.skindefaultname,templateLocName:e.dataset.skinname,templateId:e.dataset.skinid,templateCategory:n.state.isRecommendedTemplatesClicked||BLDR.featureSets.chooseTempNameAndPhotoFilter&&t?"Recommended":"all",templateColor:"reset"===e.dataset.skincolor.toLowerCase()?"":e.dataset.skincolor.toLowerCase()},BLDR.featureSets.chooseTempNameAndPhotoFilter&&{templatefilter:o,isTemplateGraphicalElement:i,isTemplateTwoColumnElement:r});S.CommonHelper.isNullOrWhitespace(n.experienceLevel)||(s.experienceLevel=m.Zb[n.experienceLevel.toLowerCase().replace(/\s/g,"")]),Object(B.m)(s)}}))}}))}})),U(n,"getTemplateFilterTxt",(function(){var e=JSON.parse(sessionStorage.getItem(m.nc.chooseTemplateFilterSkins)),t=e&&e.filter((function(e){return"headshot"===e.key||"column"===e.key||"graphic"===e.key})),o=e&&e.filter((function(e){return e.key===S.TypeCodes.fieldCd.FirstName||e.key===S.TypeCodes.fieldCd.LastName}));return{dropDownTxt:t&&t.length?t.map((function(e){return e.value})).join(" + "):"default",nameTxt:o&&o.length&&o.map((function(e){return e.value})).join("").length?"TRUE":"FALSE"}})),U(n,"getRecommendedSkinCD",(function(){var e=[];if(f.yb())BLDR.isGFR?e.push(m.uc.Contemporary,m.uc.Clean,m.uc.Corporate,m.uc.Advanced,m.uc.Chicago,m.uc.Windsor):e.push(m.uc.Advanced,m.uc.Clean,m.uc.Corporate,m.uc.Chicago,m.uc.Windsor,m.uc.Milano);else switch(f.J(n.props.document,m.N.experienceLevel)||""){case BLDR.Localization.zero_Exp_Level:case BLDR.Localization.zero_To_Three_Exp_Level:e.push(m.uc.Advanced,m.uc.Milano,m.uc.Elegant,m.uc.Chicago,m.uc.Pantheon,m.uc.Corporate);break;case BLDR.Localization.three_To_Five_Exp_Level:case BLDR.Localization.five_To_Ten_Exp_Level:case BLDR.Localization.ten_Plus_Exp_Level:e.push(m.uc.Clean,m.uc.Corporate,m.uc.Chicago,m.uc.Majestic,m.uc.Windsor,m.uc.Advanced)}return e})),U(n,"getAllSkinCD",(function(){var e=[];return BLDR.Skins.forEach((function(t){e.push(t.skinCD)})),e})),U(n,"onRecommenededTemplateClick",(function(){!1===n.state.isRecommendedTemplatesClicked&&(sessionStorage.removeItem("userSelectTab"),BLDR.TrackEvents(m.ib.DOCUMENT_EVENTS,U(U(U(U({},m.bb.Activity,"clicked"),m.bb.Page_Name,"choose template"),m.bb.Document_Type,"resumes"),m.bb.Cta_Name,"recommended templates"),BLDR.UserClaims.user_uid,f.Ib()),n.setState({isRecommendedTemplatesClicked:!0,isViewAllTemplateClicked:!1},(function(){n.bindViewPortWatcher()})))})),U(n,"onViewAllTemplateClick",(function(){!0===n.state.isRecommendedTemplatesClicked&&(sessionStorage.setItem("userSelectTab",!0),BLDR.TrackEvents(m.ib.DOCUMENT_EVENTS,U(U(U(U({},m.bb.Activity,"clicked"),m.bb.Page_Name,"choose template"),m.bb.Document_Type,"resumes"),m.bb.Cta_Name,"view all templates"),BLDR.UserClaims.user_uid,f.Ib()),n.setState({isRecommendedTemplatesClicked:!1,isViewAllTemplateClicked:!0},(function(){n.bindViewPortWatcher()})))})),U(n,"moveResumeUploadScreen",(function(e){sessionStorage.setItem("gptparseerror",!0),BLDR.showParsingErrorPopup=1,e&&e.push(R.c[m.Gb.howToStart])})),U(n,"getDefaultSkin",(function(){var e=[],t=BLDR.SkinCdFromPortal||BLDR.defaultSkin;return m.F.forEach((function(o){BLDR.Skins.filter((function(e){return e.skinCD===t})).map((function(t){var n={};n.id=t.id,n.skinCD=t.skinCD,n.oldSkinCD=t.oldSkinCD,n.oldId=t.oldId,n.name=t.name,n.skinColor="".concat(o.key),n.skinTypeCd=t.skinTypeCd,n.sortIndex=t.sortIndex,n.mSortIndex=t.mSortIndex,n.imageURL="".concat(window.BLDR.imagePath,"/images/").concat(BLDR.PortalSettings.ConfigurePortalCd.toLowerCase(),"/").concat(window.BLDR.featureSets.photoUpload&&BLDR.isRG?"skinswithpp":"skins","/").concat(o.key.replace(/\s/g,""),"/").concat(t.skinCD.toLowerCase(),".png"),n.theme="".concat(o.value),e.push(n)}))})),e})),U(n,"scaleAnimationSkinsSVGWidthHeight",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getDefaultSkin();e&&e.forEach((function(e){n.setAnimationResumePreviewDimension(e),n.isSafari&&n.checkScaling(1e3,e)}))})),U(n,"animateLineWidth",(function(){n.setState({showAnimation:!0},(function(){n.scaleAnimationSkinsSVGWidthHeight();var e=document.getElementById("moveLine"),t=0;BLDR.featureSets.parsingProgress&&BLDR.GPTParserData.gptUPloadProgressPercentage>0&&(t=BLDR.GPTParserData.gptUPloadProgressPercentage);var o=setInterval((function(){BLDR.featureSets.parsingProgress&&t>60||!BLDR.featureSets.parsingProgress&&t>70?clearInterval(o):(e?(e.style.width=t+"%",t++):t++,BLDR.featureSets.parsingProgress&&(BLDR.GPTParserData.gptUPloadProgressPercentage=t-1),n.setState({linePercent:t>10?t-1:10}))}),15)}))})),U(n,"onSelectTemplateClick",(function(e,t){if(!e&&n.isMobileChooseTemplate)if(4==n.Fs_CTRecLabelsAndLayoutsMobVariant||5==n.Fs_CTRecLabelsAndLayoutsMobVariant){var o=document.getElementsByClassName("template-preview active")[0];e=o&&o.parentNode?o.parentNode.getAttribute("data-skinid"):(o=document.getElementsByClassName("template-preview")[0]).parentNode.getAttribute("data-skinid")}else{var a=document.getElementsByClassName("slick-active")[0];if(3==n.Fs_CTRecLabelsAndLayoutsMobVariant){e=a.querySelector(".card").getAttribute("data-skinid")}else{var i=a.getAttribute("data-index");e=n.state.isRecommendedTemplatesClicked?n.getRecommendedSkinCD()[i]:n.getAllSkinCD()[i]}}"undefined"!=typeof GeniMetrics&&GeniMetrics&&GeniMetrics.sendTemplateClickEvent&&GeniMetrics.sendTemplateClickEvent(e);var r,s=Object(R.b)(m.Gb.chooseTemplate),c=JSON.parse(JSON.stringify(n.props.document));c=f.oc(c,e);var l,p,u,d,C="";if(t)r="",C="skip this step";else{var h;C="next";var g=m.F;BLDR.featureSets.multiColorTemplate&&(g=f.Jb()?m.pb().multiColorSelectorColorsWithResetV2:m.pb().multiColorSelectorColorsWithReset),!(r=null===(h=g.find((function(e){return e.key.toLowerCase()==n.state.selectedColorName.toLowerCase()})))||void 0===h?void 0:h.value)&&BLDR.featureSets.pantoneColorOfTheYear&&(r=n.state.selectedColorName.toLowerCase()===m.i.key.toLowerCase()?m.i.value:null);var D=document.querySelector("div[data-skinid=".concat(e,"]"));if(D&&D.dataset&&D.dataset.displayposition&&D.dataset.skinid&&D.dataset.skinname){var b=document.querySelector("div[data-skinid='".concat(e,"'] .recommended-label")),y=n.getTemplateFilterTxt().dropDownTxt,v=BLDR.Skins&&BLDR.Skins.filter((function(e){return e.skinCD==D.dataset.skinid})),T=v&&v.length&&v[0].isCTGraphicSkin?"TRUE":"FALSE",L=v&&v.length&&v[0].isCTMultiColumn?"TRUE":"FALSE",P=N({builderType:"resumes",screenName:"choose template",displayPosition:D.dataset.displayposition,templateName:D.dataset.skindefaultname,templateLocName:D.dataset.skinname,templateId:D.dataset.skinid,templateCategory:n.state.isRecommendedTemplatesClicked||BLDR.featureSets.chooseTempNameAndPhotoFilter&&b?"Recommended":"all",templateColor:D.dataset.skincolor&&"reset"===D.dataset.skincolor.toLowerCase()?"":D.dataset.skincolor.toLowerCase()},BLDR.featureSets.chooseTempNameAndPhotoFilter&&{templatefilter:y,isTemplateGraphicalElement:T,isTemplateTwoColumnElement:L});S.CommonHelper.isNullOrWhitespace(n.experienceLevel)||(P.experienceLevel=m.Zb[n.experienceLevel.toLowerCase().replace(/\s/g,"")]),Object(B.l)(P)}}if(BLDR.TrackEvents(m.ib.DOCUMENT_EVENTS,U(U(U(U({},m.bb.Activity,"clicked"),m.bb.Page_Name,"choose template"),m.bb.Document_Type,"resumes"),m.bb.Cta_Name,C),BLDR.UserClaims.user_uid,f.Ib()),c=f.Ub(c,m.Ac.SDCL,r,BLDR.getTemplateFromSkin),BLDR.featureSets.onBoardingTemplatePicker&&(c=S.CommonHelper.addDocumentPreference(c,m.N.OnBoardingChooseTemplateEnabled,!0)),"1"==n.isResumeUploaded&&BLDR.GPTParserData&&BLDR.GPTParserData.document&&(BLDR.GPTParserData.document.skinCD=e,BLDR.GPTParserData.document=f.Ub(BLDR.GPTParserData.document,m.Ac.SDCL,r,BLDR.getTemplateFromSkin)),n.props.documentActions.UpdateDocument(n.user.UserUID,c,!1),sessionStorage.setItem("TemplateSelectedByUser","1"),f.m(),(BLDR.featureSets.chooseTemplateNameAndSurname||BLDR.featureSets.showTemplateFilters||BLDR.featureSets.chooseTempNameAndPhotoFilter)&&n.fetchValuesForSessionStorage(),n.state.isRecommendedTemplatesClicked||sessionStorage.setItem("userSelectTab",!0),n.direct_UploadToChooseTemplate)if(null!==(l=BLDR.GPTParserData)&&void 0!==l&&l.isCompleteFailed&&null!==(p=BLDR.GPTParserData)&&void 0!==p&&p.isContactFailed)n.moveResumeUploadScreen(n.props.history);else if(null!==(u=BLDR.GPTParserData)&&void 0!==u&&u.successMessage||(BLDR.GPTParserData[m.e.cntcSection]||BLDR.GPTParserData[m.e.isContactFailed]&&BLDR.GPTParserData[m.e.completeSections])&&null!==(d=BLDR.GPTParserData)&&void 0!==d&&d.exprSectionParseTime)n.isResumeUploaded==(f.J(n.props.document,m.N.resumeUploaded)||"0")||BLDR.GPTParserData[m.e.cntcSection]||BLDR.GPTParserData[m.e.completeSections]?n.props.history.push(s):n.moveResumeUploadScreen(n.props.history);else{n.animateLineWidth();var w=setInterval((function(){var e,t,o,a;null!==(e=BLDR.GPTParserData)&&void 0!==e&&e.isCompleteFailed&&null!==(t=BLDR.GPTParserData)&&void 0!==t&&t.isContactFailed?(clearInterval(w),n.moveResumeUploadScreen(n.props.history)):(null!==(o=BLDR.GPTParserData)&&void 0!==o&&o.successMessage||(BLDR.GPTParserData[m.e.cntcSection]||BLDR.GPTParserData[m.e.isContactFailed]&&BLDR.GPTParserData[m.e.completeSections])&&null!==(a=BLDR.GPTParserData)&&void 0!==a&&a.exprSectionParseTime)&&(clearInterval(w),setTimeout((function(){n.props.history.push(s)}),750))}),100)}else n.props.history.push(s)})),U(n,"fetchValuesForSessionStorage",(function(){if(n.refsObj&&n.refsObj.ct.refsObj&&n.refsObj.ct.refsObj.chooseTemplate){var e=n.refsObj.ct.refsObj.chooseTemplate.getStateOfChooseTemplateFilter(),t=e.firstName,o=e.lastName,a=e.selectedFilters,i=e.selectedColumnsFilters,r=e.selectedGraphicsFilters;BLDR.IsMobileDevice()&&(a=n.state.selectedFilters),f.wc(t&&t.value||"",o&&o.value||"",a,i,r)}})),U(n,"setUploaderNameOnChooseTemplateFeatureSets",(function(){if(BLDR.isRG){var e=S.CommonHelper.getStorageValue(m.nc.nameDocData);BLDR.featureSets.chooseTempNameAndPhotoFilter?(BLDR.featureSets.showNamesInChooseTemplateUpload=!1,BLDR.featureSets.chooseTemplateNameAndSurname=!1):"1"!=n.isResumeUploaded||3!=f.M(BLDR.PortalExperiments.expUploaderNameOnChooseTemplate)||!e||S.CommonHelper.isNullOrWhitespace(e[S.TypeCodes.fieldCd.FirstName])&&S.CommonHelper.isNullOrWhitespace(e[S.TypeCodes.fieldCd.LastName])?(BLDR.featureSets.chooseTemplateNameAndSurname=!1,BLDR.featureSets.showNamesInChooseTemplateUpload=!1):(BLDR.featureSets.chooseTemplateNameAndSurname=!0,BLDR.featureSets.showNamesInChooseTemplateUpload=!0)}})),U(n,"getNameDocData",(function(){return S.CommonHelper.getStorageValue(m.nc.nameDocData)||{}})),U(n,"setNameDocData",(function(e){S.CommonHelper.setStorageValue(m.nc.nameDocData,e)})),U(n,"assignRef",(function(e,t){null!=t&&(n.refsObj[e]=t)})),U(n,"findTemplateFromAllSkins",(function(e){return n.getAllSkinCD().findIndex((function(t){return t===e}))})),U(n,"onClosePopupClick",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&Object(B.j)("close"),n.setState((function(e){return{onBoardingTemplateShowPopup:!e.onBoardingTemplateShowPopup}}))})),U(n,"updateStateForCTComponent",(function(e){n.setState({selectedFilters:e})})),U(n,"onColorHover",(function(e){if(e){e.preventDefault();var t=e.currentTarget&&e.currentTarget.getAttribute("data-color");n.setState({enableHoverState:!0,hoverColor:t})}})),U(n,"onColorHoverReset",(function(e){e.preventDefault(),n.setState({enableHoverState:!1,hoverColor:null})})),U(n,"getSelectedSkinIndex",(function(){var e,t,o=0,a=!0;("1"!=sessionStorage.getItem("TemplateSelectedByUser")&&(a=!1),a)&&(n.state.isRecommendedTemplatesClicked?-1===(o=n.getRecommendedSkinCD().findIndex((function(e){var t;return e===(null===(t=n.props.document)||void 0===t?void 0:t.skinCD)})))&&n.isMobileChooseTemplate&&(sessionStorage.getItem("userSelectTab")?(sessionStorage.setItem("userSelectTab",!0),n.onViewAllTemplateClick(),o=n.findTemplateFromAllSkins(null===(e=n.props.document)||void 0===e?void 0:e.skinCD)):o=0):o=n.findTemplateFromAllSkins(null===(t=n.props.document)||void 0===t?void 0:t.skinCD));return o})),U(n,"fireTrackingEvents",(function(e,t){BLDR.TrackEvents(m.ib.DOCUMENT_EVENTS,N(N(U(U({},m.bb.Activity,"clicked"),m.bb.Page_Name,"choose template"),e&&U({},m.bb.Click_Option,e)),t&&U({},m.bb.Click_Section,t)),BLDR.UserClaims.user_uid,f.Ib())})),n.refsObj={},n.htmlClassList=document.documentElement.classList,n.user=f.hb(),n.skinTrackedINTL={},n.updateContactInDummyDocumentIntervalID=null,n.updateExperienceInDummyDocumentIntervalID=null,n.updateAllSectionsInDummyDocumentIntervalID=null,n.isMobileChooseTemplate=!(!window.BLDR.featureSets.chooseTemplate||!BLDR.IsMobileDevice()),n.isResumeUploaded=f.J(n.props.document,m.N.resumeUploaded)||"0",n.experienceLevel=f.J(n.props.document,m.N.experienceLevel)||"",n.isOnBoardingChooseTemplateEnabled=f.J(n.props.document,m.N.OnBoardingChooseTemplateEnabled)||!1,n.Fs_chooseTempateTunedUp=BLDR.featureSets.chooseTemplateTuneUp,"1"==n.isResumeUploaded&&BLDR.PortalExperiments.expUploadersParsingProgress?w.a(BLDR.PortalExperiments.expUploadersParsingProgress):BLDR.featureSets.parsingProgress=!1,BLDR.PortalExperiments.expChooseTemplateRecommendedLabelsAndLayouts&&n.isMobileChooseTemplate&&(w.a(BLDR.PortalExperiments.expChooseTemplateRecommendedLabelsAndLayouts),n.Fs_CTRecLabelsAndLayoutsMob=BLDR.featureSets.CTRecLabelsAndLayoutsMob,n.Fs_CTRecLabelsAndLayoutsMob&&(BLDR.featureSets.singlePageSkinContent=!0),n.Fs_CTRecLabelsAndLayoutsMobVariant=n.Fs_CTRecLabelsAndLayoutsMob?parseInt(f.M(BLDR.PortalExperiments.expChooseTemplateRecommendedLabelsAndLayouts)):0),n.direct_UploadToChooseTemplate=!BLDR.featureSets.uploadersTemplateRecommendation&&(1==n.isResumeUploaded&&!BLDR.isRC),n.setUploaderNameOnChooseTemplateFeatureSets(),n.direct_UploadToChooseTemplate){var i=sessionStorage.getItem(m.N.resumeUploaded);if(i){var r=E(i.split("_"),2),s=r[0],c=r[1];s==n.props.document.id&&(n.isResumeUploaded=c)}}else sessionStorage.removeItem(m.N.resumeUploaded);return n.isSafari=BLDR.IsMobileDevice()?!!navigator.userAgent.match(/Version\/[\d.]+.*Safari/):/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString(),n.docSelectorQueryString="#document, .document",BLDR.isRG&&"Guest"==BLDR.UserClaims.role&&BLDR.UserClaims.user_uid&&BLDR.PortalExperiments.expMultiChooseColorPickerV2&&f.k(BLDR.PortalExperiments.expMultiChooseColorPickerV2.id)&&n.ConductChooseMultiColorPickerExperimentV2(),n.state={isRecommendedTemplatesClicked:!(n.Fs_chooseTempateTunedUp||n.direct_UploadToChooseTemplate||BLDR.featureSets.chooseTempNameAndPhotoFilter),isViewAllTemplateClicked:!!(n.Fs_chooseTempateTunedUp||n.direct_UploadToChooseTemplate||BLDR.featureSets.chooseTempNameAndPhotoFilter),selectedColorName:n.getColorForColorSelector(),linePercent:10,showAnimation:!1,recommendedPopupSkins:[],onBoardingTemplateShowPopup:!1,onBoardingTemplateEmptyScreen:!0,enableHoverState:!1,hoverColor:null,sectionToUpdateInDummyDocument:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),o=t,(n=[{key:"componentWillUnmount",value:function(){if(window.document.body.classList.remove("choose-template-baseline","choose-template-baseline-rgn","choose-template-baseline-cvg"),BLDR.featureSets.useRendererForCT&&this.htmlClassList.remove("e-renderer-ct"),BLDR.featureSets.parsingProgress&&(window.document.body.className.indexOf("fs-choose-temp-upload-bar")>-1&&window.document.body.classList.remove("fs-choose-temp-upload-bar"),this.updateContactInDummyDocumentIntervalID&&clearInterval(this.updateContactInDummyDocumentIntervalID),this.updateExperienceInDummyDocumentIntervalID&&clearInterval(this.updateExperienceInDummyDocumentIntervalID),this.updateAllSectionsInDummyDocumentIntervalID&&clearInterval(this.updateAllSectionsInDummyDocumentIntervalID)),BLDR.featureSets.onBoardingTemplatePicker&&window.document.body.classList.remove("onboarding-temp-picker"),this.Fs_CTRecLabelsAndLayoutsMob){var e,t=["fs-ct-layout-mobile"];3==this.Fs_CTRecLabelsAndLayoutsMobVariant?t.push("fs-ct-layout-mobile-v1"):4==this.Fs_CTRecLabelsAndLayoutsMobVariant?t.push("fs-ct-layout-mobile-v2"):5==this.Fs_CTRecLabelsAndLayoutsMobVariant&&t.push("fs-ct-layout-mobile-v3"),(e=window.document.body.classList).remove.apply(e,t)}BLDR.featureSets.useRendererForCT&&(window.removeEventListener("resize",this.setScalingFactorOnResize),window.removeEventListener("scroll",this.setScalingFactorOnResize)),BLDR.featureSets.closeAlertPopup&&(window.removeEventListener("beforeunload",f.rb),window.removeEventListener("beforeunload",B.f))}},{key:"componentDidMount",value:function(){var e=this;window.document.body.classList.add("choose-template-baseline"),BLDR.isRG&&window.document.body.classList.add("choose-template-baseline-rgn"),(BLDR.isEUPortal||BLDR.isCVG)&&window.document.body.classList.add("choose-template-baseline-cvg"),this.Fs_CTRecLabelsAndLayoutsMob&&(window.document.body.classList.add("fs-ct-layout-mobile"),3==this.Fs_CTRecLabelsAndLayoutsMobVariant?window.document.body.classList.add("fs-ct-layout-mobile-v1"):4==this.Fs_CTRecLabelsAndLayoutsMobVariant?window.document.body.classList.add("fs-ct-layout-mobile-v2"):5==this.Fs_CTRecLabelsAndLayoutsMobVariant&&window.document.body.classList.add("fs-ct-layout-mobile-v3")),BLDR.featureSets.parsingProgress&&(-1==window.document.body.className.indexOf("fs-choose-temp-upload-bar")&&window.document.body.classList.add("fs-choose-temp-upload-bar"),BLDR.featureSets.showRealTimeDataInChooseTemplate&&(1==S.CommonHelper.getStorageValue(m.nc.gptCompleteParsed)?this.setState({sectionToUpdateInDummyDocument:m.e.completeSections}):1==S.CommonHelper.getStorageValue(m.nc.gptExperienceParsed)?this.setState({sectionToUpdateInDummyDocument:m.e.exprSection}):1==S.CommonHelper.getStorageValue(m.nc.gptContactParsed)&&this.setState({sectionToUpdateInDummyDocument:m.e.cntcSection}),this.updateAllSectionsInDummyDocumentIntervalID=setInterval((function(){1==S.CommonHelper.getStorageValue(m.nc.gptCompleteParsed)&&(clearInterval(e.updateContactInDummyDocumentIntervalID),clearInterval(e.updateExperienceInDummyDocumentIntervalID),clearInterval(e.updateAllSectionsInDummyDocumentIntervalID),e.setState({sectionToUpdateInDummyDocument:m.e.completeSections}))}),1e3),this.updateExperienceInDummyDocumentIntervalID=setInterval((function(){1==S.CommonHelper.getStorageValue(m.nc.gptExperienceParsed)&&(clearInterval(e.updateExperienceInDummyDocumentIntervalID),e.setState({sectionToUpdateInDummyDocument:m.e.exprSection}))}),1e3),this.updateContactInDummyDocumentIntervalID=setInterval((function(){1==S.CommonHelper.getStorageValue(m.nc.gptContactParsed)&&(clearInterval(e.updateContactInDummyDocumentIntervalID),e.setState({sectionToUpdateInDummyDocument:m.e.cntcSection}))}),1e3)));var t=this.getNameDocData&&this.getNameDocData();if(!BLDR.featureSets.chooseTempNameAndPhotoFilter||t&&Object.keys(t).length>0||sessionStorage.removeItem(m.nc.chooseTemplateFilterSkins),BLDR.featureSets.onBoardingTemplatePicker){window.document.body.classList.add("onboarding-temp-picker"),BLDR.preload("".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/star.svg"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/animated-badge.svg"));var o=this.onBoardingTemplateSkins();this.setState({recommendedPopupSkins:o,onBoardingTemplateShowPopup:!this.isOnBoardingChooseTemplateEnabled},(function(){e.isOnBoardingChooseTemplateEnabled||(Object(B.g)(),o.map((function(t,o){var n=BLDR.skins.filter((function(e){return e.skinCD===t})),a={displayPosition:o+1,templateName:n&&n[0].name,id:t};S.CommonHelper.isNullOrWhitespace(e.experienceLevel)||(a.experienceLevel=m.Zb[e.experienceLevel.toLowerCase().replace(/\s/g,"")]),Object(B.k)(a),setTimeout((function(){e.setScalingForOnBoardingSkins(a)}),0)})))})),setTimeout((function(){e.setState({onBoardingTemplateEmptyScreen:!1})}),300)}(BLDR.featureSets.chooseTemplateNameAndSurname||BLDR.featureSets.showTemplateFilters||BLDR.featureSets.chooseTempNameAndPhotoFilter)&&this.setSessionStorageBasedOnFS(),BLDR.featureSets.useRendererForCT&&this.htmlClassList.add("e-renderer-ct"),BLDR.featureSets.useRendererForCT&&(window.addEventListener("resize",this.setScalingFactorOnResize),window.addEventListener("scroll",this.setScalingFactorOnResize));var n=this.getAllSkins();BLDR.featureSets.useRendererForCT&&(this.isSafari?setTimeout((function(){e.scaleSkinsSVGWidthHeight(n),e.checkScaling(500,n)}),1e3):this.scaleSkinsSVGWidthHeight(n),setTimeout((function(){e.bindViewPortWatcher()}),50),BLDR.featureSets.closeAlertPopup&&(window.addEventListener("beforeunload",f.rb),window.addEventListener("beforeunload",B.f))),this.props.saveUserStages(m.Ec.Choose_Template),BLDR.TrackEvents(m.ib.DOCUMENT_EVENTS,U(U(U({},m.bb.Activity,"viewed"),m.bb.Page_Name,"choose template"),m.bb.Document_Type,"resumes"),BLDR.UserClaims.user_uid,f.Ib()),this.bindViewPortWatcher(),window.document.body.className.indexOf("fs-del-ux-bundle")>-1&&window.document.body.classList.remove("fs-del-ux-bundle")}},{key:"mapOrderSkins",value:function(e,t,o){return e.sort((function(e,n){var a=e[o],i=n[o];return t.indexOf(a)>t.indexOf(i)?1:-1})),e}},{key:"render",value:function(){var e,t=this.getHeadingControl(),o=this.Fs_chooseTempateTunedUp?m.uc.Clean:null,n=this.Fs_chooseTempateTunedUp?m.uc.Advanced:null;BLDR.isGFR&&(n=m.uc.Contemporary);var i=BLDR.SkinCdFromPortal||BLDR.defaultSkin,r=Object(C.b)(i,!0,!0,5),s=this.state,c=s.recommendedPopupSkins,l=s.onBoardingTemplateShowPopup,p=this.getSelectedSkinIndex(),u=JSON.parse(JSON.stringify(this.props.document));return a.a.createElement(y,{assignRef:this.assignRef,GPTParsedDocument:u,skins:this.getAllSkins(),localization:this.getChooseTemplateLocalization(),headingControl:t,selectedColorName:this.state.selectedColorName,onColorPickerClick:this.onColorPickerClick,recommendedSkinArray:this.getRecommendedSkinCD(),allSkinArray:this.getAllSkinCD(),onRecommenededTemplateClick:this.onRecommenededTemplateClick,isRecommendedTemplatesClicked:this.state.isRecommendedTemplatesClicked,onViewAllTemplateClick:this.onViewAllTemplateClick,isViewAllTemplateClicked:this.state.isViewAllTemplateClicked,onSelectTemplateClick:this.onSelectTemplateClick,isChooseTemplate:!!window.BLDR.featureSets.chooseTemplate,useRendererForCT:BLDR.featureSets.useRendererForCT,scaleSkinsSVGWidthHeight:this.scaleSkinsSVGWidthHeight,isMobileChooseTemplate:this.isMobileChooseTemplate,skipControl:this.getSkipControl(),Fs_chooseTempateTunedUp:this.Fs_chooseTempateTunedUp,direct_UploadToChooseTemplate:this.direct_UploadToChooseTemplate,newTemplateLabel:this.newTemplateLabel(),popularTemplateLabel:this.popularTemplateLabel(),popularSkinCd:o,newSkinCd:n,Fs_PantoneColorOfTheYear:BLDR.featureSets.pantoneColorOfTheYear,pantoneColor:m.i,getNameDocData:this.getNameDocData,setNameDocData:this.setNameDocData,skinComponent:r,linePercent:this.state.linePercent,showAnimation:this.state.showAnimation,selectedSkin:null===(e=this.props.document)||void 0===e?void 0:e.skinCD,selectedSkinIndex:p,FS_onBoardingTemplatePicker:BLDR.featureSets.onBoardingTemplatePicker&&!BLDR.IsMobileDevice(),FS_recommendedPopupSkins:c,onBoardingTemplateShowPopup:!this.direct_UploadToChooseTemplate&&l,onClosePopupClick:this.onClosePopupClick,onBoardingChooseTemplateSelect:this.onBoardingChooseTemplateSelect,onBoardingTemplateTitleAndSubHeading:this.onBoardingTemplateTitleAndSubHeading,templatePickerPopupClickEvent:B.j,onBoardingTemplateEmptyScreen:this.state.onBoardingTemplateEmptyScreen,updateStateForCTComponent:this.updateStateForCTComponent,selectedFilters:this.state.selectedFilters,onColorHover:this.onColorHover,enableHoverState:this.state.enableHoverState,hoverColor:this.state.hoverColor,onColorHoverReset:this.onColorHoverReset,iconStar:3==this.Fs_CTRecLabelsAndLayoutsMobVariant&&this.iconStar,iconFile:3==this.Fs_CTRecLabelsAndLayoutsMobVariant&&this.iconFile,Fs_CTRecLabelsAndLayoutsMob:this.Fs_CTRecLabelsAndLayoutsMob,fireTrackingEvents:this.fireTrackingEvents,bindViewPortWatcher:this.bindViewPortWatcher,Fs_CTRecLabelsAndLayoutsMobVariant:this.Fs_CTRecLabelsAndLayoutsMobVariant,isResumeUploaded:this.isResumeUploaded,sectionToUpdateInDummyDocument:BLDR.featureSets.showRealTimeDataInChooseTemplate?this.state.sectionToUpdateInDummyDocument:null})}}])&&O(o.prototype,n),i&&O(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,i}(n.Component);function M(e){return U({document:e.Document,common:e.Common,user:JSON.parse(JSON.stringify(BLDR.UserClaims))},m.nc.isPremium,JSON.parse(f.a(e.Common,m.nc.isPremium)))}function G(e){return{documentActions:Object(r.b)(L,e),commonActions:Object(r.b)(T,e),userActions:Object(r.b)(P,e)}}t.default=Object(i.b)(M,G)(V)},1308:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return J}));var n=o(0),a=o.n(n),i=o(1017),r=o.n(i),s=o(111),c=o(4),l=o(1),p=o(133),u=o(62),d=o.n(u),m=o(2),C=o(1101),f=o.n(C),h=o(70),g=o(909),D=o(837),b=o(6),y=o(246),v=o(153);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function L(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?T(Object(o),!0).forEach((function(t){P(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function P(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function R(e){var t;function o(){return L({},{backBtnText:e.isCalledFromFinalize?e.contactLocalizaion.CancelCTAText:BLDR.Localization.back,nextBtnText:e.isCalledFromFinalize?e.contactLocalizaion.SaveCTAText:e.contactLocalizaion.continueCTAText,onBackClick:e.isCalledFromFinalize?e.onCancel:e.onBackClick,onNextClick:e.onNextClick,pageName:e.pageName,match:e.match,hideProgressBar:!!e.isCalledFromFinalize})}e.state.showErrorMsgPhotoUpload?h.x.prflInvlidError=BLDR.Localization.some_error_occurred:h.x.prflInvlidError=BLDR.Localization.prflInvlidError;return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{headingText:e.contactLocalizaion.heading_text,subHeadingText:e.contactLocalizaion.sub_heading_text,panelBannerProps:l.Nb,hidePanelBanner:e.hidePanelBanner,pageNameClass:"contact-info-screen",document:e.state.document,showPreviewBtn:!1,setDocumentProps:e.setDocumentProps,currentSectionCD:m.TypeCodes.sectionTypeCd.Contact,showTabSection:!0},BLDR.GPTParserData.isGPTUpload&&"1"==e.isResumeUploaded&&!e.isCalledFromFinalize&&a.a.createElement(g.a,{message:BLDR.Localization.gpt_Work_Experience_Imported,minValue:l.e.startPercentage,maxValue:l.e.exprThreshold,parseTime:null===(t=BLDR.GPTParserData)||void 0===t?void 0:t.exprSectionParseTime,sectionToUpdate:l.e.cntcSection,isContactPage:!0}),"1"==e.isResumeUploaded&&!e.isCalledFromFinalize&&e.state.showGPTAnimation&&a.a.createElement(d.a,{isOpen:e.state.showGPTAnimation,hasHeader:!1,cssClass:{overlayClassName:" gpt-modal-overlay"}},a.a.createElement(D.a,{sectionName:BLDR.Localization.workExperience,subHeading:BLDR.Localization.gpt_parser_tile_animation_subHeading})),BLDR.featureSets.contactWelcomePopup&&e.isOpenContactWelcomePopup&&a.a.createElement(d.a,{title:BLDR.Localization.welcomePopupTitle,popupDescription:BLDR.Localization.welcomePopupTitle,isOpen:e.isOpenContactWelcomePopup,shouldCloseOnOverlayClick:!0,closeModal:function(){e.closeWelomePopup(l.db.close)},hasHeader:!1,hasFooter:!1,hideCloseIcon:!0,cssClass:{modalDialog:"fs-contact-welcome-popup"}},a.a.createElement("div",null,a.a.createElement("div",{className:"modal-header"},a.a.createElement("div",{className:"animating-div-wrapper \n                                ".concat(e.isCNTCWelcomePopupScallingApplied?"bounce":"")},a.a.createElement("div",{className:"renderer-wrapper \n                                    ".concat(e.isCNTCWelcomePopupScallingApplied?"is-visible":"is-hidden")},Object(y.b)(e.state.document.skinCD,c.A(e.state.document),null,null,!0,!1,BLDR.featureSets.photoUpload?0:1,null,null,null)),!e.isCNTCWelcomePopupScallingApplied&&a.a.createElement(v.a,null))),a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"model-body-text"},a.a.createElement("h4",{className:"modal-title heading"},3==e.expContactWelcomePopupDesktopVariant?BLDR.Localization.welcomePopupLetsBuildResume:BLDR.Localization.welcomePopupLetsMakeResume),a.a.createElement("ul",{className:"modal-text"},a.a.createElement("li",null,3==e.expContactWelcomePopupDesktopVariant?BLDR.Localization.welcomePopupStartByAdding:BLDR.Localization.welcomePopupKickThingsOff),a.a.createElement("li",null,3==e.expContactWelcomePopupDesktopVariant?BLDR.Localization.welcomePopupYourProgressSaved:BLDR.Localization.welcomePopupNoWorries),a.a.createElement("li",null,3==e.expContactWelcomePopupDesktopVariant?BLDR.Localization.welcomePopupFinishStrong:BLDR.Localization.welcomePopupWrapItWithAI)),a.a.createElement("button",{type:"button",onClick:function(){return e.closeWelomePopup(l.db.addMyContactInfo)},className:"button button-primary",id:"btnAddContactInfo"},BLDR.Localization.welcomePopupBtn,4==e.expContactWelcomePopupDesktopVariant&&a.a.createElement(b.d,null)))))),e.isFs_photoUpload&&a.a.createElement("div",{className:e.isFs_photoUpload?"photo-cv-container":e.isFs_photoUpload?"col-md-4":"col-md-12"},a.a.createElement(f.a,{ref:function(t){return e.assignRef("photoComponent",t)},photoURL:e.photoURL,skinCD:e.state.document.skinCD,skinshtml:BLDR.skinHtmls,cropperDimension:l.J,cropperStyles:l.K,uploadPhoto:e.uploadPhoto,userId:e.User.UserUid,documentId:e.state.document.id,resetTimeoutID:e.resetTimeoutID,Localization:h.x,photoClass:"",changeBtnPosition:!0,zoomInClass:"fa-search-minus",zoomOutClass:"fa-search-plus",joshuaDOMUpdate:BLDR.joshuaTreeINTL,enablePhotoUploadZoomOut:!0,trimCanvasClasses:l.Cc,isEnableFilters:!1,preventPhotoZoomOnChange:!0,imageQualityValue:BLDR.imageQualityValue?BLDR.imageQualityValue:void 0,openBrowse:!BLDR.isINTL,addPictureSection:e.addPictureSection,onDeleteClick:e.onDeleteClick,showErrorMsgPhotoUpload:e.state.showErrorMsgPhotoUpload,onUploadPhotoClick:e.onUploadPhotoClick,trackUploadPopupViewed:e.trackUploadPopupViewed,trackUploadPopupClicks:e.trackUploadPopupClicks,isMobile:e.isMobile})),a.a.createElement(r.a,{ref:function(t){return e.assignRef("contactComponent",t)},PortalCd:window.BLDR.PortalSettings.ConfigurePortalCd,onComponentChange:e.onComponentChange,ProductCd:window.BLDR.PortalSettings.ConfigureProductCd,cultureCD:BLDR.cultureCD,TTCCulture:BLDR.isCVG?"en-US":BLDR.isEUPortal?BLDR.cultureCD:null,Localization:e.contactLocalizaion,DebounceTime:window.BLDR.DebounceTime,customPhoneMasking:c.v,isFs_autoPhoneMask:BLDR.featureSets.autoPhoneMask,isFs_modifyContactDetails:window.BLDR.featureSets.modifyContactDetails,isAddressReorder:BLDR.isEUPortal,CountryCd:window.BLDR.countryDetails.countryCode||l.I.unitedSates,isCityAutosuggest:c.Tc(),validateZipOnKeyDown:!0,BaseApiUrl:window.BLDR.Paths.BaseApiUrl,Contact:e.state.contactSection,Name:e.state.nameSection,User:e.User,documentId:e.state.document.id,document:e.state.document,autoSuggestCustomTheme:L(L({},l.z),{},{container:"autosuggest-container Select"}),countries:e.countries,stateList:e.stateList,onSelectClick:e.onSelectClick,isFirstFocus:!0,useGoogleWidget:!1,isStateAutosuggest:c.Uc(),isZipAutosuggest:c.Vc(),isPlaceholderExp:e.isPlaceholderExp,hideCountryCD:e.hideCountryCD,addSpecialFieldsButton:e.addSpecialFieldsButton,addSectionControls:e.addSectionControls,changeJobTitleLable:e.changeJobTitleLable,isFs_improvedJobTitle:BLDR.featureSets.improvedJobTitle,autoSuggestStateCityZipCode:e.autoSuggestStateCityZipCode,getStateSuggestions:e.getStateSuggestions,isMobile:e.isMobile,isSkipStateCD:e.isSkipStateCD,customOptionsRenderer:e.customOptionsRenderer,customValueRenderer:e.customValueRenderer,emailAutoSuggestData:e.emailAutoSuggestData,isFs_DelUxBundle:e.isFs_DelUxBundle,setCursorOnNextField:e.setCursorOnNextField,showContactFields:e.showContactFields,showNameFields:e.showNameFields,isFs_ContactTwoStepLayout:e.isFs_ContactTwoStepLayout}),BLDR.IsMobileDevice()?!BLDR.isGDE&&a.a.createElement(p.a,o()):a.a.createElement("div",{className:"builder-form-layout-button-section back-button-layout"},e.isCalledFromFinalize?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"button button-default btn-back js-back-button",type:"button",onClick:e.onCancel},e.contactLocalizaion.CancelCTAText),a.a.createElement("button",{className:"button button-primary btn-next js-next-button",type:"button",onClick:e.onNextClick},e.contactLocalizaion.SaveCTAText)):a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},a.a.createElement("span",{className:"custom-button-text","data-title":BLDR.Localization.back})),a.a.createElement("button",{type:"button",className:"button button-primary",onClick:e.onNextClick},BLDR.Localization.contact_save_continue_text))),!BLDR.IsMobileDevice()&&c.zb()&&a.a.createElement("p",{className:"hts-disclaimer-text",dangerouslySetInnerHTML:{__html:c.C()}})),BLDR.IsMobileDevice()&&BLDR.isGDE&&a.a.createElement(p.a,o()))}var B=o(193),w=o(38),k=o(58),E=o(8),_=o(67),x=o(61),N=o(92),O=o(68),A=o(190);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(null,arguments)}function U(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function H(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?U(Object(o),!0).forEach((function(t){z(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function j(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function V(e,t,o){return t=M(t),function(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],M(e).constructor):t.apply(e,o))}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t,o){return(t=W(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function W(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}var J=function(e){function t(e,o){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),z(r=V(this,t,[e,o]),"assignRef",(function(e,t){null!=t&&(r.refObj[e]=t)})),z(r,"setStateSuggestions",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.props.commonActions.GetStateList(e,!0).then((function(e){r.setState(H(H({},t),{},{stateSuggestions:e}))})).catch((function(){r.setState(H(H({},t),{},{stateSuggestions:{}}))}))})),z(r,"closeUploadCompletedPopup",(function(){r.setState({showUploadCompletedPopup:!1})})),z(r,"handleOutsideClickContact",(function(){r.setState({showUploadCompletedPopup:!1}),document.removeEventListener("click",r.handleOutsideClickContact,!1)})),z(r,"updateQuestionnaire",(function(e){var t=JSON.parse(JSON.stringify(e)),o=l.N.experiencePresent,n=l.Wb.yes;if(t.preferences){var a=t.preferences.find((function(e){return e.docPreferenceTypeCD==o}));a?a.value!==n&&(t=Object(k.m)(t,n)):t=m.CommonHelper.addDocumentPreference(t,o,n)}r.props.documentActions.UpdateDocument(r.props.user.user_uid,t),r.setState({document:t})})),z(r,"getHeaderInitialState",(function(e){var t=m.CommonHelper.getStorageValue(l.nc.jobTitleAutoSuggest),o="";t&&t.CNTC&&(o=t.CNTC);var n=Object.assign({},e),a=e.sections.filter((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Name}))[0],i=e.sections.filter((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Contact}))[0];if(null==a||null==a){var s=BLDR.getTemplateFromSkin(n.skinCD),p=m.DocumentHelper.GetSectionContainerIndex(m.TypeCodes.sectionTypeCd.Name,s,BLDR.isMultiColumnSkin(n.skinCD));if((a=m.DocumentHelper.createDummySectionWithParagraph(m.TypeCodes.sectionTypeCd.Name,1,n.id,n.userId,p,BLDR.Definition_Tips))&&a.paragraphs&&a.paragraphs.length>0&&(a.paragraphs[0].index=1),n.sections&&n.sections.length>0)n.sections.some((function(e){return 1==e.index}))&&n.sections.forEach((function(e){e.index=e.index+1})),n.sections.unshift(a);else n.sections=[],n.sections[0]=a}if(BLDR.isRG&&o&&(a.paragraphs[0].docDatas=m.DocumentHelper.addUpdateDocDataField(a.paragraphs[0].docDatas,m.TypeCodes.fieldCd.ResumeTitle,o,e.userId,a.paragraphs[0].id)),a&&(!a.paragraphs||a.paragraphs.length<1)){var u=m.DocumentHelper.createFirstPara(a,e.userId),d=Object.assign({},a);u.index=d.paragraphs.length+1,d.paragraphs.push(u);var C=n.sections.map((function(e){return e.id})).indexOf(a.id);n.sections[C]=d}if(BLDR.featureSets.chooseTemplateNameAndSurname){var f=m.CommonHelper.getSectionByCD(n.sections,m.TypeCodes.sectionTypeCd.Name).paragraphs[0].docDatas,h=f.find((function(e){return e.fieldCD==m.TypeCodes.fieldCd.FirstName})),g=f.find((function(e){return e.fieldCD==m.TypeCodes.fieldCd.LastName})),D=m.CommonHelper.getStorageValue(l.nc.nameDocData);D&&(D[m.TypeCodes.fieldCd.FirstName]||D[m.TypeCodes.fieldCd.LastName])&&(h&&(h.charValue=D[m.TypeCodes.fieldCd.FirstName]||""),g&&(g.charValue=D[m.TypeCodes.fieldCd.LastName]||"")),r.liveResumePreview&&r.context.setDocument(c.x(n))}return{document:n,contactSection:i,nameSection:a}})),z(r,"onNextClick",(function(){var e=r.props.isCalledFromFinalize?E.c[l.Gb.finalize]:r.isStillEnrolledWithZeroExperience?Object(x.c)(r.props.document):Object(k.g)(r.props.document),t=!0;!r.props.isCalledFromFinalize&&r.expContactImprovementV4&&Object(A.a)()!=l.H.contactDetails&&(e=E.c[l.Gb.contact]+"?fields=".concat(l.G.contactDetails),t=!1),r.saveSignature(e,t),r.props.isCalledFromFinalize||BLDR.featureSets.chooseTemplateNameAndSurname&&c.Pc(r.state.document),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,z(z(z(z(z({},l.bb.Activity,"clicked"),l.bb.Page_Name,"resume heading"),l.bb.Document_Type,"resumes"),l.bb.Cta_Name,"next"),l.bb["sub screen"],r.getSubScreenEventValue()),BLDR.UserClaims.user_uid,c.Ib()),localStorage.getItem(l.zb.saveUserAgreementContact)||r.saveUserAgreement()})),z(r,"updateSessionStorageForNameDocData",(function(){var e=m.CommonHelper.getSectionByCD(r.state.document.sections,m.TypeCodes.sectionTypeCd.Name).paragraphs[0].docDatas,t=m.CommonHelper.getCharValue(e,m.TypeCodes.fieldCd.FirstName),o=m.CommonHelper.getCharValue(e,m.TypeCodes.fieldCd.LastName);c.wc(t||"",o||"")})),z(r,"redirectToBackPage",(function(){var e=Object(E.a)(l.Gb.contact,"",r.props.document);if(r.props.document.preferences&&"1"!=(c.J(r.props.document,l.N.resumeUploaded)||"0")){var t=c.J(r.props.document,l.N.experiencePresent)||"",o=c.J(r.props.document,l.N.highestEducation)||"",n=c.J(r.props.document,l.N.graduationStatus)||"",a=c.J(r.props.document,l.N.graduationDate)||"";m.CommonHelper.isNullOrWhitespace(t)&&m.CommonHelper.isNullOrWhitespace(o)&&m.CommonHelper.isNullOrWhitespace(n)&&m.CommonHelper.isNullOrWhitespace(a)&&!window.BLDR.featureSets.skipOnboardingDesktopQuestionaries&&(BLDR.isBackfromContact=!0,e=E.c[l.Gb.howToStart])}if(BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,z(z(z(z(z({},l.bb.Activity,"clicked"),l.bb.Page_Name,"resume heading"),l.bb.Document_Type,"resumes"),l.bb.Cta_Name,"back"),l.bb["sub screen"],r.getSubScreenEventValue()),BLDR.UserClaims.user_uid,c.Ib()),c.Mb(r.props.document)){var i=c.J(r.props.document,l.N.SetBackUrlForParseDoc);i?window.location=i:r.props.history.push(e)}else r.props.history.push(e)})),z(r,"onBackClick",(function(){r.redirectToBackPage()})),z(r,"onCancel",(function(){var e=r.props.nextPageUrl;r.props.history.push(e)})),z(r,"updateDocument",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.refObj.contactComponent.getUpdatedSection(t,t);if(o.isValid){var n=r.props.document.id?0:200;n>0&&BLDR.startPageLoader();var a=setInterval((function(){if(r.props.document.id){clearInterval(a);var t=c.Fc(H({},r.state.document));if("1"==r.isResumeUploaded){var o=r.refObj.contactComponent.getUpdatedSection(),n=o.Name.paragraphs[0],i=m.DocumentHelper.updateDocumentParagraph(t,r.state.nameSection.id,n),s=o.Contact.paragraphs[0],p=m.DocumentHelper.updateDocumentParagraph(i&&i.newDocument?i.newDocument:t,r.state.contactSection.id,s);t=p&&p.newDocument?p.newDocument:t}if(r.props.document.id!=r.state.document.id&&(t=r.copyDummyDocumentState()),t=r.updateDocumentName(t),r.updateUserContact(t),c.qc(t,m.TypeCodes.sectionTypeCd.Contact),window.BLDR.featureSets.modifyContactDetails||c.mc(t),c.Mb()){var u=sessionStorage.getItem("previousWPEntryUrl");u&&(t=m.CommonHelper.addDocumentPreference(t,l.N.SetBackUrlForParseDoc,u))}if(r.props.documentActions.UpdateDocument(r.props.user.user_uid,t),BLDR.isRG){var d=m.CommonHelper.getStorageValue(l.nc.jobTitleAutoSuggest);d&&r.setJobTitleInSessionStorage(m.TypeCodes.sectionTypeCd.Contact,t,d)}if(r.saveJobLocationUserPreference(t),r.saveDesiredJobTitleTrait(t),e)if(BLDR.closePageLoader(),m.CommonHelper.getStorageValue(l.nc.signUpSkipClick)||BLDR.isloggedIn)r.navigateToPage(e);else if(r.expContactImprovementV4)if(Object(A.a)()==l.G.contactDetails){var C=e.indexOf("?")<0?"?":"&",f="".concat(E.c[l.Gb.signup],"?referrer=").concat(encodeURIComponent(e)).concat(C,"fromOptionalSignup=true");r.navigateToPage(f)}else r.navigateToPage(e);else{var h=e.indexOf("?")<0?"?":"&",g="".concat(E.c[l.Gb.signup],"?referrer=").concat(encodeURIComponent(e)).concat(h,"fromOptionalSignup=true");r.navigateToPage(g)}}}),n)}})),z(r,"setJobTitleInSessionStorage",(function(e,t,o){var n=t.sections.filter((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Name}))[0],a=m.CommonHelper.getCharValue(n.paragraphs[0].docDatas,m.TypeCodes.fieldCd.ResumeTitle);o?o[e]=a:o=z({},e,a),m.CommonHelper.setStorageValue(l.nc.jobTitleAutoSuggest,o)})),z(r,"saveJobLocationUserPreference",(function(e){var t=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Contact);if(t){var o=c.N(t);m.CommonHelper.isNullOrWhitespace(o)||r.props.userActions.SaveUserPreference(r.props.document.userId,l.q.PreferenceJobLocation,o,BLDR.PortalSettings.ConfigurePortalCd)}})),z(r,"saveDesiredJobTitleTrait",(function(e){var t=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Name);if(t&&t.paragraphs&&t.paragraphs.length>0&&t.paragraphs[0]&&t.paragraphs[0].docDatas.length>0){var o=m.CommonHelper.getCharValue(t.paragraphs[0].docDatas,m.TypeCodes.fieldCd.ResumeTitle)||"";BLDR.TrackEvents("identify",z({},l.Fc.desiredJobTitle,o),r.props.document.userId,!(!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role))}})),z(r,"copyDummyDocumentState",(function(){var e=JSON.parse(JSON.stringify(r.props.document)),t=r.refObj.contactComponent.getUpdatedSection(),o=r.getHeaderInitialState(e),n=JSON.parse(JSON.stringify(o.document));if(n&&t){var a=m.CommonHelper.getSectionByCD(n.sections,m.TypeCodes.sectionTypeCd.Contact);if(a&&a.paragraphs&&a.paragraphs.length>0&&t.Contact&&t.Contact.paragraphs&&t.Contact.paragraphs.length>0){var i=c.r(t.Contact.paragraphs[0],a.paragraphs[0]);if(i)n=m.DocumentHelper.updateDocumentParagraph(n,o.contactSection.id,i).newDocument}var s=m.CommonHelper.getSectionByCD(n.sections,m.TypeCodes.sectionTypeCd.Name);if(s&&s.paragraphs&&s.paragraphs.length>0&&t.Name&&t.Name.paragraphs&&t.Name.paragraphs.length>0){var l=c.r(t.Name.paragraphs[0],s.paragraphs[0]);if(l)n=m.DocumentHelper.updateDocumentParagraph(n,o.nameSection.id,l).newDocument}}return n})),z(r,"updateUserContact",(function(e){var t=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Name).paragraphs[0].docDatas,o=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Contact).paragraphs[0].docDatas,n=new B.User;n.PortalCD=BLDR.PortalSettings.ConfigurePortalCd,n.Country=m.CommonHelper.getCharValue(o,m.TypeCodes.fieldCd.Country),n.City=m.CommonHelper.getCharValue(o,m.TypeCodes.fieldCd.City),n.State=m.CommonHelper.getCharValue(o,m.TypeCodes.fieldCd.State),n.UserUID=r.props.document.userId,n.PostalCD=m.CommonHelper.getCharValue(o,m.TypeCodes.fieldCd.ZipCode),n.PhoneNumber=m.CommonHelper.getCharValue(o,m.TypeCodes.fieldCd.HomePhone),n.CreatedOn=r.props.user.createdOn,window.BLDR.featureSets.modifyContactDetails&&(n.AddressLine1=m.CommonHelper.getCharValue(o,m.TypeCodes.fieldCd.Street)),n.EmailAddress=m.CommonHelper.getCharValue(o,m.TypeCodes.fieldCd.Email),n.FirstName=m.CommonHelper.getCharValue(t,m.TypeCodes.fieldCd.FirstName),n.LastName=m.CommonHelper.getCharValue(t,m.TypeCodes.fieldCd.LastName),r.updateUserEmailAddress(n.EmailAddress,n.FirstName),(n.FirstName||n.LastName||n.PhoneNumber)&&r.props.userActions.UpdateUserContact(n,!0)})),z(r,"updateUserEmailAddress",(function(e){if("guest"==r.props.user.role.toLowerCase()&&!m.CommonHelper.isNullOrWhitespace(e)){r.props.userActions.UpdateEmailAddress(r.props.user.user_uid,e,!0,BLDR.PortalSettings.ConfigurePortal,!1,window.BLDR.PortalSettings.ConfigureProductCd)}})),z(r,"stopLoader",(function(){var e=document.getElementsByClassName("progress-bar-cta")[0];if(e){e.parentElement.classList.remove("active"),e.classList.add("done");var t=setInterval((function(){clearInterval(t),r.refObj.photoComponent&&r.refObj.photoComponent.closeUploadPopUp()}),800)}})),z(r,"startLoader",(function(){var e=document.getElementsByClassName("progress-bar-cta")[0];e&&(e.parentElement.classList.add("active"),e.classList.add("loading"))})),z(r,"resetCTACss",(function(){var e=document.getElementsByClassName("progress-bar-cta")[0];e&&(e.textContent="Save",e.parentElement.classList.remove("active"),e.classList.remove("done"))})),z(r,"uploadPhoto",(function(e,t,o,n,a,i,s,c,l,p){return r.startLoader(),BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",91,700,!1,"%",""),BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",95,300,!1,"%",""),r.props.documentActions.uploadPhoto(e,t,o,n,a,i,s,c,l,p).then((function(e){if(e.sections.find((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Photo}))){var t=JSON.parse(JSON.stringify(r.state.document));e=r.syncDocumentWithContactComponent(e),BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",99,400,!1,"%",(function(){var o=setInterval((function(){clearInterval(o),r.stopLoader();var n=e.sections.find((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Photo})),a=t.sections.map((function(e){return e.sectionTypeCD})).indexOf(m.TypeCodes.sectionTypeCd.Photo);-1!==a?t.sections[a]=n:t.sections.unshift(n),r.context.setDocument(t),r.setState({document:t})}),500)})),BLDR.closePageLoader()}else r.setState({showErrorMsgPhotoUpload:!0})})).catch((function(){BLDR.animateJS(document.getElementsByClassName("progress-bar-running")[0],"width",0,400,!1,"%",r.resetCTACss)})),!0})),z(r,"syncDocumentWithContactComponent",(function(e){if(e){var t=r.refObj.contactComponent.getUpdatedSection(),o=t.Name.paragraphs[0],n=m.DocumentHelper.updateDocumentParagraph(e,r.state.nameSection.id,o);e=n.newDocument;var a=t.Contact.paragraphs[0];e=(n=m.DocumentHelper.updateDocumentParagraph(e,r.state.contactSection.id,a)).newDocument}return e})),z(r,"checkForNameChange",(function(e,t){var o=m.CommonHelper.getCharValue(e.docDatas,m.TypeCodes.fieldCd.FirstName)||"",n=m.CommonHelper.getCharValue(e.docDatas,m.TypeCodes.fieldCd.LastName)||"";return!(m.CommonHelper.getCharValue(t.paragraphs[0].docDatas,m.TypeCodes.fieldCd.FirstName)+m.CommonHelper.getCharValue(t.paragraphs[0].docDatas,m.TypeCodes.fieldCd.FirstName)==o+n)})),z(r,"manipulateSignatureSection",(function(e,t,o){if(e.sections.findIndex((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Signature}))>-1){var n=t.Name.paragraphs[0],a=e.sections.filter((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Signature}))[0].paragraphs[0].docDatas;if("TYPE"==a.filter((function(e){return"STYP"==e.fieldCD}))[0].charValue&&n&&n.docDatas&&r.checkForNameChange(n,o)){var i,s,l,p,u,d=m.CommonHelper.getCharValue(n.docDatas,m.TypeCodes.fieldCd.FirstName)||"",C=m.CommonHelper.getCharValue(n.docDatas,m.TypeCodes.fieldCd.LastName)||"",f=BLDR.Localization.lkl_dummyResumeText_NAME_FNAM+" "+BLDR.Localization.lkl_dummyResumeText_NAME_LNAM;(d||C)&&(f=d&&C?d+" "+C:d||C),r.props.isCalledFromFinalize&&(i=a.filter((function(e){return"SICL"==e.fieldCD}))[0].charValue,s=a.filter((function(e){return"SIFF"==e.fieldCD}))[0].charValue,l=a.filter((function(e){return"HRIG"==e.fieldCD}))[0].charValue,p=a.filter((function(e){return"HLEF"==e.fieldCD}))[0].charValue,u=a.filter((function(e){return"HMID"==e.fieldCD}))[0].charValue);var h=m.CommonHelper.getSectionByCD(e.sections,m.TypeCodes.sectionTypeCd.Signature);h&&h.paragraphs[0]&&c.lb(f,h.paragraphs[0].docDatas,r.props.user.user_uid,i,s,l,p,u)}}return e})),z(r,"onComponentChange",(function(){var e,t,o=r.refObj.contactComponent.getUpdatedSection(!0),n=JSON.parse(JSON.stringify(r.props.document)),a=null===(e=n)||void 0===e||null===(e=e.sections)||void 0===e?void 0:e.findIndex((function(e){return e.id===o.Name.id})),i=null===(t=n)||void 0===t||null===(t=t.sections)||void 0===t?void 0:t.findIndex((function(e){return e.id===o.Contact.id}));if(n.sections[a]=null==o?void 0:o.Name,n.sections[i]=null==o?void 0:o.Contact,r.fs_AddAdditionalFields){var s=o.Contact.paragraphs[0];s.docDatas.forEach((function(e){if("SOCL"==e.fieldCD){var t=[];t.push({typeCD:"ICON",value:c.ab(e.docDataInfo)}),BLDR.featureSets.hyperLink&&t.push({typeCD:"TEXT",value:e.charValue}),e.preferences=t}})),n=m.DocumentHelper.updateDocumentParagraph(n,o.Contact.id,s).newDocument}n=r.manipulateSignatureSection(n,o,r.props.document.sections[a]),r.liveResumePreview&&r.context.setDocument(c.x(n)),r.isFs_photoUpload&&"1"!=r.isResumeUploaded?r.setState({isValid:o.isValid,document:n}):r.setState({isValid:o.isValid})})),z(r,"updateDocumentName",(function(e){var t=JSON.parse(JSON.stringify(e)),o=BLDR.Localization.resume_Label+"_1";if(t.name==o){var n="",a="",i="",r=m.CommonHelper.getSectionByCD(t.sections,m.TypeCodes.sectionTypeCd.Name);if(r&&r.paragraphs&&r.paragraphs.length>0&&r.paragraphs[0].docDatas&&r.paragraphs[0].docDatas.length>0){var s=r.paragraphs[0].docDatas;a=m.CommonHelper.getCharValue(s,m.TypeCodes.fieldCd.FirstName),i=m.CommonHelper.getCharValue(s,m.TypeCodes.fieldCd.LastName)}m.CommonHelper.isNullOrWhitespace(a)&&m.CommonHelper.isNullOrWhitespace(i)||(n=c.b(a,i,BLDR.Localization.resume_Label,0),t=H(H({},t),{},{name:n}))}return t})),z(r,"onSelectClick",(function(e){e.name==m.TypeCodes.fieldCd.Country&&(e&&(e.countryCD==l.I.canada||e&&e.countryCD==l.I.unitedSates)?BLDR.States&&BLDR.States[e.countryCD]?r.setState({stateList:BLDR.States[e.countryCD]}):r.props.commonActions.GetStateList(e.countryCD).then((function(e){r.setState({stateList:e})})):r.setState({stateList:{}}))})),z(r,"onSaveResumeClick",(function(){Object(w.d)(),r.onNextClick(!0)})),z(r,"setDocumentProps",(function(e,t){var o=H({},r.state.document);o=r.resetDocumentStylesAndContainerIndexes_ForContact(o,e),null==t&&null==t||(o=c.Ub(o,l.Ac.SDCL,t,BLDR.getTemplateFromSkin)),r.setState({document:o})})),z(r,"resetDocumentStylesAndContainerIndexes_ForContact",(function(e,t){var o=e,n=o.sections,a=m.DocumentHelper.GetDefaultSectionContainerIndexes(BLDR.getTemplateFromSkin(t),n);n&&n.length>0&&a&&a.length>0&&n.forEach((function(e){var t=a.find((function(t){return t.sectionCode==e.sectionTypeCD}));t&&(e.sectionContainerIndex=t.value)})),o=m.DocumentHelper.updateDocumentWithSkinCD(o,t);var i=m.CommonHelper.resetDefaultValues(t,o.docStyles,BLDR.getTemplateFromSkin);return o.docStyles=i,!BLDR.isLite||r.props.isCalledFromFinalize||r.props.isEditMode||(o.docStyles=c.d(o)),o.sections.map((function(e){return e.sectionContainerIndex=0,e})),o&&(o.sections=n),o})),z(r,"addPictureSection",(function(){if(r.isFs_photoUpload){r.state.showErrorMsgPhotoUpload&&r.onUploadPhotoClick();var e=JSON.parse(JSON.stringify(r.props.document));e.sections.find((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Photo}))||(e=m.DocumentHelper.addSection(e,"Picture","HEAD",1,m.TypeCodes.sectionTypeCd.Photo),e=r.resetDocumentStylesAndContainerIndexes_ForContact(e,r.props.document.skinCD),r.props.documentActions.UpdateDocument(r.props.user.user_uid,e))}})),z(r,"hideCountryField",(function(){return BLDR.isLite?c.wb(BLDR.countryDetails.countryCode):m.CommonHelper.isCountryUS(BLDR.countryDetails.countryCode,!1)})),z(r,"trackUploadPopupViewed",(function(){BLDR.TrackEvents(l.ib.Notification,z(z(z({},l.bb.Activity,"Viewed"),l.bb.Notification_Name,"add photo popup"),l.bb.Page_Name,l.jc.CONTACT),BLDR.UserClaims.user_uid,c.Ib())})),z(r,"trackUploadPopupClicks",(function(e){BLDR.TrackEvents(l.ib.Notification,z(z(z(z({},l.bb.Activity,"Clicked"),l.bb.Notification_Name,"add photo popup"),l.bb.Page_Name,l.jc.CONTACT),l.bb.Cta_Name,e),BLDR.UserClaims.user_uid,c.Ib())})),z(r,"onDeleteClick",(function(){if(BLDR.startPageLoader(),!r.state.isButtonDisabled){r.setState({isButtonDisabled:!0});var e=H({},r.state.document),t=e.sections.find((function(e){return e.sectionTypeCD==m.TypeCodes.sectionTypeCd.Photo}));if(t&&t.id){var o=m.DocumentHelper.removeSection(e,t.id);r.props.documentActions.UpdateDocument(r.props.user.user_uid,o).then((function(e){e&&(r.setState({document:e}),r.context.setDocument(e),r.refObj.photoComponent.toggleDeletePopup(),setTimeout((function(){r.setState({isButtonDisabled:!1})}),1e3),BLDR.closePageLoader())}))}}})),z(r,"onClosePopupClick",(function(){r.setState({showPopup:!1})})),z(r,"onUploadPhotoClick",(function(){r.setState({showErrorMsgPhotoUpload:!1})})),z(r,"saveSignature",(function(e,t){var o=r.state.document,n=m.CommonHelper.getSectionByCD(o.sections,m.TypeCodes.sectionTypeCd.Signature);if(n&&n.paragraphs[0]){var a=m.CommonHelper.getCharValue(n.paragraphs[0].docDatas,m.TypeCodes.fieldCd.SignatureURL);if(a&&-1==a.indexOf("https")&&a.includes("base64")){var i={userId:r.props.user_uid,imgBase:a,X:"",Y:"",W:"",H:"",imgWidth:"",imgHeight:"",documentId:r.props.document.id,countryCD:BLDR.countryDetails.countryCode,photoType:l.Gb.signature};r.props.documentActions.uploadPhotoToAzure(i).then((function(o){var a=n.paragraphs[0].docDatas.find((function(e){return e.fieldCD==m.TypeCodes.fieldCd.SignatureURL}));a&&a.charValue&&null!=o&&(a.charValue=o),r.updateDocument(e,t)}))}else r.updateDocument(e,t)}else r.updateDocument(e,t)})),z(r,"getAddSectionControls",(function(e){var t=[{id:"DOB1",objKey:"birthDate",tabIndex:13,textFieldOnly:!0,trackName:"DOB",isDOBWithCalendar:!(!BLDR.isCVG&&!BLDR.isRG)},{id:"DRIV",objKey:"driving_Info",tabIndex:14,textFieldOnly:!0,trackName:"driving license"},{id:"NTLY",objKey:"nationality",tabIndex:15,textFieldOnly:!0,trackName:"nationality"},{id:"SOCL_Social_".concat(e.socialLinkLabel_Linkedin),objKey:"socialLink",tabIndex:11,multipleEntry:!1,category:"Social",trackName:e.socialLinkLabel_Linkedin,name:"SOCL_Social",socialTypeCode:e.socialLinkLabel_Linkedin,socialLabel:e.socialLinkLabel_Linkedin,socialPlaceholder:e.socialLinkPlaceholder_Linkedin,seperateField:!0,regEx:"^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$",errorMessage:e.socialLinkErrorMessage_Linkedin},{id:"SOCL_Social_".concat(e.socialLinkLabel_Twitter),objKey:"socialLink",tabIndex:11,multipleEntry:!1,category:"Social",trackName:e.socialLinkLabel_Twitter,name:"SOCL_Social",socialTypeCode:e.socialLinkLabel_Twitter,socialLabel:e.socialLinkLabel_Twitter,socialPlaceholder:e.socialLinkPlaceholder_Twitter,seperateField:!0,regEx:".*",errorMessage:""},{id:"SOCL_Social_".concat(e.socialLinkLabel_Website),objKey:"socialLink",tabIndex:11,multipleEntry:!1,category:"Social",trackName:e.socialLinkLabel_Website,name:"SOCL_Social",socialTypeCode:e.socialLinkLabel_Website,socialLabel:e.socialLinkLabel_Website,socialPlaceholder:e.socialLinkPlaceholder_Website,seperateField:!0,regEx:"^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$",errorMessage:e.socialLinkErrorMessage_Website}];return window.BLDR.featureSets.modifyContactDetails&&t.push({id:m.TypeCodes.fieldCd.Street,objKey:"streetaddress",tabIndex:15,textFieldOnly:!0,trackName:"streetaddress"}),t})),z(r,"changeJobTitleLable",(function(){return BLDR.featureSets.improvedJobTitle?BLDR.Localization.profession_Label_Label_Text_Exp:""})),z(r,"setResumePreviewDimension",(function(e){if(e)var t=setInterval((function(){var o=document.querySelector(".renderer-wrapper .document.skn-"+e.toLowerCase()),n=document.querySelector(".renderer-wrapper");if(o&&n){var a=n.offsetWidth/o.offsetWidth;o.style.transform="scale(".concat(a,")"),o.style.transformOrigin="0 0",r.setState({isCNTCWelcomePopupScallingApplied:!0}),clearInterval(t)}}),100)})),z(r,"closeWelomePopup",(function(e){r.fireEventCNTCWelcomePopup(e),r.setState({isOpenContactWelcomePopup:!1})})),z(r,"getCNTCWelcomePopupUserPreference",(function(){return c.ib(l.q.ContactPageWelcomePop)})),z(r,"setCNTCWelcomePopupUserPreference",(function(){r.props.userActions.SaveUserPreference(r.props.document.userId,l.q.ContactPageWelcomePop,"1",BLDR.PortalSettings.ConfigurePortalCd)})),z(r,"fireEventCNTCWelcomePopup",(function(e){Object(O.d)(l.Rb.contactWelcomePopup,l.ab.clicked,l.jc.CONTACT,e)})),z(r,"customOptionsRenderer",(function(e){return e.flagIcon?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"data:image/png;base64,".concat(e.flagIcon),alt:"flag"}),a.a.createElement("span",null,e.label)):a.a.createElement("span",null,e.label)})),z(r,"customValueRenderer",(function(e){return e.value&&e.value.flagIcon?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"data:image/png;base64,".concat(e.value.flagIcon),alt:"flag"}),a.a.createElement("span",null,e.value.label)):e.value&&e.value.label?a.a.createElement("span",null,e.value.label):void 0})),z(r,"getSubScreenEventValue",(function(){return r.isFs_ContactTwoStepLayout&&r.expContactImprovementV4&&!r.props.isCalledFromFinalize?l.G.contactDetails==Object(A.a)()?"contact information":"personal details":void 0})),r.refObj={},r.createDocumentClicked=!1,BLDR.PortalExperiments.expRGNEfficacyOnContact&&Object(N.a)(BLDR.PortalExperiments.expRGNEfficacyOnContact),BLDR.PortalExperiments.expRGNContactDelUxBundle&&Object(N.a)(BLDR.PortalExperiments.expRGNContactDelUxBundle),BLDR.PortalExperiments.expContactTwoStepLayout&&(Object(N.a)(BLDR.PortalExperiments.expContactTwoStepLayout),r.isFs_ContactTwoStepLayout=BLDR.featureSets.contactTwoStepLayout,r.expContactImprovementV3=3==parseInt(c.M(BLDR.PortalExperiments.expContactTwoStepLayout)),r.expContactImprovementV4=4==parseInt(c.M(BLDR.PortalExperiments.expContactTwoStepLayout))),BLDR.PortalExperiments.expGoalOrientedSidebar&&Object(N.a)(BLDR.PortalExperiments.expGoalOrientedSidebar),BLDR.PortalExperiments.expGoalOrientedSidebar&&(Object(N.a)(BLDR.PortalExperiments.expGoalOrientedSidebar),r.isFs_GoalOrientedSidebar=BLDR.featureSets.goalOrientedSidebar),r.isTemplateFlow=!m.CommonHelper.isNullOrWhitespace(BLDR.SkinCdFromPortal),r.liveResumePreview=BLDR.showLiveResumePreview,r.isResumeUploaded=c.J(r.props.document,l.N.resumeUploaded)||"0",r.fs_AddAdditionalFields=!!window.BLDR.featureSets.AddAdditionalFields,r.CNTCWelcomePopupUserPreference=r.getCNTCWelcomePopupUserPreference()||"0",BLDR.PortalExperiments&&BLDR.PortalExperiments.expContactWelcomePopupDesktop&&"1"!=r.CNTCWelcomePopupUserPreference&&(Object(N.a)(BLDR.PortalExperiments.expContactWelcomePopupDesktop),r.expContactWelcomePopupDesktopVariant=parseInt(c.M(BLDR.PortalExperiments.expContactWelcomePopupDesktop))||0),BLDR.PortalExperiments&&BLDR.PortalExperiments.expRGNOptimizeFormHierarchyDesktop&&Object(N.a)(BLDR.PortalExperiments.expRGNOptimizeFormHierarchyDesktop),r.state=H(H({},r.getHeaderInitialState(JSON.parse(JSON.stringify(r.props.document)))),{},{isValid:!1,stateList:{},stateSuggestions:[],showGPTAnimation:!1,showErrorMsgPhotoUpload:!1,isButtonDisabled:!1},BLDR.featureSets.contactWelcomePopup&&{isOpenContactWelcomePopup:!(!r.CNTCWelcomePopupUserPreference||"1"==r.CNTCWelcomePopupUserPreference),isCNTCWelcomePopupScallingApplied:!1}),r.isFs_photoUpload=window.BLDR.featureSets.photoUpload,r.isFs_DelUxBundle=window.BLDR.featureSets.delUxBundle,r.isStillEnrolledWithZeroExperience=c.Pb(r.props.document),r.isCountrySpecificPlaceholder=window.BLDR.featureSets.countrySpecificPlaceHolders,r.autoSuggestStateCityZipCode=(null===(n=BLDR.Portal)||void 0===n||null===(n=n.defaultCountryCD)||void 0===n?void 0:n.toLowerCase())===(null===(i=BLDR.countryDetails)||void 0===i||null===(i=i.countryCode)||void 0===i?void 0:i.toLowerCase()),r.noViewedEventFiredForContactDetails=0,r.noViewedEventFiredForPersonalDetails=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),o=t,(n=[{key:"componentDidMount",value:function(){var e=this;if(window.document.body.className.indexOf("fs-choose-temp-upload-bar")>-1&&window.document.body.classList.remove("fs-choose-temp-upload-bar"),sessionStorage.setItem("TemplateSelectedByUser","1"),this.autoSuggestStateCityZipCode&&this.setStateSuggestions(BLDR.countryDetails.countryCode),BLDR.isLite&&this.updateQuestionnaire(JSON.parse(JSON.stringify(this.props.document))),!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role){var t=BLDR.getQueryString("scrn"),o=BLDR.getQueryString("source");if(t&&o&&"email"==o){var n="".concat(E.c[l.Gb.signup],"?referrer=").concat(encodeURIComponent(BLDR.Paths.BasePath+BLDR.Localization.url_contact),"&source=email");return void this.props.history.replace(n)}}var a=this.props.paragraph.docDatas;if(m.CommonHelper.getCharValue(a,m.TypeCodes.fieldCd.Email)){var i={},r=m.CommonHelper.getCharValue(a,m.TypeCodes.fieldCd.Country);BLDR.States&&BLDR.States[r]?m.CommonHelper.isCountryUS(BLDR.countryDetails.countryCode,!1)||(i=BLDR.States[r]||{},this.setState({isValid:!0,stateList:BLDR.States[r]})):r==l.I.canada?this.props.commonActions.GetStateList(r).then((function(t){i=t||{},e.setState({isValid:!0,stateList:t})})).catch((function(){e.setState({isValid:!0,stateList:i})})):this.setState({isValid:!0,stateList:i})}this.props.saveUserStages(l.Ec.Contact),this.expContactImprovementV4||BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,z(z(z(z({},l.bb.Activity,"viewed"),l.bb.Page_Name,"resume heading"),l.bb.Document_Type,"resumes"),l.bb["sub screen"],this.getSubScreenEventValue()),BLDR.UserClaims.user_uid,c.Ib()),BLDR.featureSets.contactWelcomePopup&&"1"!=this.CNTCWelcomePopupUserPreference&&(this.setCNTCWelcomePopupUserPreference(),this.setResumePreviewDimension(this.state.document.skinCD),Object(O.d)(l.Rb.contactWelcomePopup,l.ab.viewed,l.jc.CONTACT)),BLDR.featureSets.delUxBundle&&window.document.body.classList.add("fs-del-ux-bundle"),BLDR.featureSets.efficacyOnContactHeader&&(window.document.body.classList.add("fs-efficacy-banner"),window.document.body.classList.add("fs-efficacy-banner-v3")),BLDR.featureSets.efficacyOnContactGraphicFF&&(window.document.body.classList.add("fs-efficacy-banner"),window.document.body.classList.add("fs-efficacy-banner-v4"))}},{key:"componentWillUnmount",value:function(){window.document.body.className.indexOf("fs-efficacy-banner")>-1&&window.document.body.classList.remove("fs-efficacy-banner"),window.document.body.className.indexOf("fs-efficacy-banner-v3")>-1&&window.document.body.classList.remove("fs-efficacy-banner-v3"),window.document.body.className.indexOf("fs-efficacy-banner-v4")>-1&&window.document.body.classList.remove("fs-efficacy-banner-v4")}},{key:"componentDidUpdate",value:function(e,t){var o=this.props.document.skinCD,n=t.document.skinCD,a=JSON.parse(JSON.stringify(this.props.document)),i=c.A(a),r=c.A(t.document);if("1"==this.isResumeUploaded&&BLDR.updateDocumentForGPT){var s=c.Nc(this.props.document,this.state.document,m.TypeCodes.sectionTypeCd.Contact);this.setState({document:s}),BLDR.updateDocumentForGPT=!1}o===n&&i===r||this.setDocumentProps(o,i);var p=Object(A.a)();this.expContactImprovementV4&&p==l.H.contactDetails&&0==this.noViewedEventFiredForContactDetails&&(BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,z(z(z(z({},l.bb.Activity,"viewed"),l.bb.Page_Name,"resume heading"),l.bb.Document_Type,"resumes"),l.bb["sub screen"],this.getSubScreenEventValue()),BLDR.UserClaims.user_uid,c.Ib()),this.noViewedEventFiredForContactDetails=this.noViewedEventFiredForContactDetails+1),this.expContactImprovementV4&&p!=l.H.contactDetails&&0==this.noViewedEventFiredForPersonalDetails&&(BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,z(z(z(z({},l.bb.Activity,"viewed"),l.bb.Page_Name,"resume heading"),l.bb.Document_Type,"resumes"),l.bb["sub screen"],this.getSubScreenEventValue()),BLDR.UserClaims.user_uid,c.Ib()),this.noViewedEventFiredForPersonalDetails=this.noViewedEventFiredForPersonalDetails+1)}},{key:"navigateToPage",value:function(e){var t,o,n,a,i=this,r=e;"1"==this.isResumeUploaded&&!this.props.isCalledFromFinalize&&e.includes(BLDR.Localization.url_experience)?BLDR.GPTParserData[l.e.exprSection]||BLDR.GPTParserData[l.e.completeSections]||null!==(t=BLDR.GPTParserData)&&void 0!==t&&t.isCompleteFailed&&null!==(o=BLDR.GPTParserData)&&void 0!==o&&o.isExpSectionFailed||null!==(n=BLDR.GPTParserData)&&void 0!==n&&n.successMessage||null!==(a=BLDR.GPTParserData)&&void 0!==a&&a.exprSectionMessage?this.props.history.push(r):this.setState({showGPTAnimation:!0},(function(){var e=setInterval((function(){var t,o,n,a;if(BLDR.GPTParserData[l.e.exprSection]||BLDR.GPTParserData[l.e.completeSections]||null!==(t=BLDR.GPTParserData)&&void 0!==t&&t.isCompleteFailed&&null!==(o=BLDR.GPTParserData)&&void 0!==o&&o.isExpSectionFailed||null!==(n=BLDR.GPTParserData)&&void 0!==n&&n.successMessage||null!==(a=BLDR.GPTParserData)&&void 0!==a&&a.exprSectionMessage){clearInterval(e);var r=Object(k.g)(BLDR.GPTParserData.document);i.props.history.push(r)}}),100)})):this.props.history.push(r)}},{key:"saveUserAgreement",value:function(){window.BLDR.UserClaims&&"Guest"!=window.BLDR.UserClaims.role||!BLDR.UserClaims.user_uid||(this.props.userActions.SaveUserAgreement(this.props.user.user_uid,BLDR.PortalSettings.ConfigurePortalCd,[{agreementCD:"PRYPCY",isAgreed:"true"},{agreementCD:"TMOUSR",isAgreed:"true"}]),localStorage.setItem(l.zb.saveUserAgreementContact,1))}},{key:"isSkipStateCDFromAutoSuggest",value:function(){return[l.I.Poland,l.I.Germany,l.I.France].includes(window.BLDR.countryDetails.countryCode)}},{key:"render",value:function(){var e=this,t={UserUid:this.props.document.userId},o=c.F(m.TypeCodes.fieldCd.Country),n=c.sc(h.h,"contact");n=c.rc(n,"contact");var i=m.CommonHelper.getSectionByCD(this.state.document.sections,m.TypeCodes.sectionTypeCd.Photo)||{},r=i&&i.paragraphs&&i.paragraphs.length>0?m.CommonHelper.getCharValue(i.paragraphs[0].docDatas,m.TypeCodes.fieldCd.PhotoURL):"";BLDR.featureSets.improvedJobTitle&&(n.jobTitleTooltipHTML=BLDR.Localization.contact_Job_Title_Tooltip_JobTitle_Exp,n.professionLabelText=BLDR.Localization.profession_Label_Text_JobTitle_Exp);var s=Object(A.a)(),p=!!(this.expContactImprovementV4&&[l.G.contactDetails].includes(s)||this.expContactImprovementV3||this.props.isCalledFromFinalize&&this.expContactImprovementV4)||!this.isFs_ContactTwoStepLayout,u=!this.isFs_ContactTwoStepLayout||![l.G.contactDetails].includes(s);return!this.props.isCalledFromFinalize&&this.expContactImprovementV4?(n.heading_text=BLDR.Localization.exp_personal_details_heading_text,n.sub_heading_text=BLDR.Localization.exp_personal_details_sub_heading_text,s==l.G.contactDetails&&(n.heading_text=BLDR.Localization.exp_contact_details_info_heading_text,n.sub_heading_text=BLDR.Localization.exp_contact_details_info_sub_heading_text)):(n.heading_text=BLDR.Localization.contact_info_heading_text,n.sub_heading_text=BLDR.Localization.exp_contact_info_sub_heading_text),a.a.createElement(a.a.Fragment,null,a.a.createElement(R,I({onDeleteClick:this.onDeleteClick,isFs_photoUpload:this.isFs_photoUpload,photoURL:r,uploadPhoto:this.uploadPhoto,state:this.state,contactLocalizaion:n,isCalledFromFinalize:this.props.isCalledFromFinalize,assignRef:this.assignRef,propsObj:this.propsObj,User:t,onCancel:this.onCancel,onNextClick:this.onNextClick,onBackClick:this.onBackClick,onComponentChange:this.onComponentChange,onSelectClick:this.onSelectClick,countries:o,stateList:this.state.stateList,hidePanelBanner:!1,match:this.props.match,pageName:this.props.pageName,isPlaceholderExp:this.isCountrySpecificPlaceholder,liveResumePreview:this.liveResumePreview,hideCountryCD:c.ub(),setDocumentProps:this.setDocumentProps,isResumeUploaded:this.isResumeUploaded,addPictureSection:this.addPictureSection,showPopup:this.state.showPopup,history:this.props.history,onClosePopupClick:this.onClosePopupClick,addSpecialFieldsButton:this.fs_AddAdditionalFields,addSectionControls:this.getAddSectionControls(n),changeJobTitleLable:this.changeJobTitleLable,onUploadPhotoClick:this.onUploadPhotoClick,autoSuggestStateCityZipCode:this.autoSuggestStateCityZipCode,getStateSuggestions:function(){return e.state.stateSuggestions},isMobile:BLDR.IsMobileDevice(),isSkipStateCD:this.isSkipStateCDFromAutoSuggest()},BLDR.featureSets.contactWelcomePopup&&{expContactWelcomePopupDesktopVariant:this.expContactWelcomePopupDesktopVariant,isOpenContactWelcomePopup:this.state.isOpenContactWelcomePopup,closeWelomePopup:this.closeWelomePopup,isCNTCWelcomePopupScallingApplied:this.state.isCNTCWelcomePopupScallingApplied},{customOptionsRenderer:this.isFs_DelUxBundle&&this.customOptionsRenderer,customValueRenderer:this.isFs_DelUxBundle&&this.customValueRenderer,emailAutoSuggestData:this.isFs_DelUxBundle&&BLDR.emailProviders,isFs_DelUxBundle:this.isFs_DelUxBundle,setCursorOnNextField:BLDR.IsMobileDevice(),showContactFields:p,showNameFields:u,trackUploadPopupViewed:this.trackUploadPopupViewed,trackUploadPopupClicks:this.trackUploadPopupClicks,isFs_ContactTwoStepLayout:this.isFs_ContactTwoStepLayout})))}}])&&j(o.prototype,n),i&&j(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,i}(n.Component);z(J,"contextType",_.a)},1309:function(e,t,o){"use strict";o.r(t),o.d(t,"mapStateToProps",(function(){return x}));var n=o(0),a=o.n(n),i=o(39),r=o(1108),s=o.n(r),c=o(111),l=o(1),p=o(4),u=o(61),d=o(6),m=o(133),C=o(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function g(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function D(e){var t,o=BLDR.getQueryString("frm"),n="",i=e.state.section&&e.state.section.paragraphs&&(0==e.state.section.paragraphs.length||1==e.state.section.paragraphs.length&&e.isAddMode),r="button-add-container";r+=i?" button-add-container-empty":" button-dotted";var f=e.screenName===l.R.details||e.screenName===l.R.overview&&p.Db();!f||o||p.Db()||(f=!1),n=i?BLDR.Localization.add_education_button_Text:BLDR.isLite?BLDR.Localization.updated_Add_School_Button_Text_Exp:BLDR.Localization.pelicano_add_education_button_Text,t=f?BLDR.Localization.cancel_Button_Text:BLDR.Localization.skip_This_Step_Button_Text;var D=f?BLDR.Localization.save_Button_Text:BLDR.Localization.continue_Button_text,b=a.a.createElement(d.cb,null);function y(){var o={backBtnText:null,nextBtnText:null,onBackClick:null,onNextClick:null,pageName:e.pageName,match:e.match,hideProgressBar:!!p.Db(),hasZeroExpAndStillEnrolled:e.hasZeroExpAndStillEnrolled};return o.nextBtnText=D,o.onNextClick=e.onContinueClick,o.backBtnText=BLDR.Localization.back,o.onBackClick=e.onBackClick,e.isSkipOrCancelButtonVisible&&p.Db()&&(o.onBackClick=e.onSkipOrCancelClick,o.backBtnText=t),function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},o)}var v=e.isSkipOrCancelButtonVisible&&e.screenName!=l.R.details&&!p.Db();return o||(v=e.isSkipOrCancelButtonVisible&&!p.Db()),a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{headingText:e.pageHeadingSubHeading.pageHeading,subHeadingText:e.pageHeadingSubHeading.pageSubHeading,panelBannerProps:e.pannelBannerProps,pageNameClass:"education-".concat(e.screenName),document:e.state.document,currentSectionCD:C.TypeCodes.sectionTypeCd.Education,showTabSection:p.Ac(e.screenName),onlyPreview:p.Zb(C.TypeCodes.sectionTypeCd.Education,e.screenName)},a.a.createElement(s.a,{ref:function(t){return e.assignRef("educationSection",t)},DebounceTime:500,PortalId:BLDR.PortalSettings.ConfigurePortal,User:e.user,Section:e.state.section,paragraphId:e.state.paragraph.id,Localization:e.localization,BaseApiUrl:BLDR.Paths.BaseApiUrl,CountryCd:BLDR.countryDetails.countryCode,ProductCd:BLDR.PortalSettings.ConfigureProductCd,PortalCd:BLDR.PortalSettings.ConfigurePortalCd,showDetails:e.showDetails,isEditMode:e.isEditMode,isAddMode:e.isAddMode,degreeList:e.state.degreeList,deleteParagraph:e.deleteParagraph,onParaSort:e.onParaSort,saveParagraph:e.saveParagraph,educationType:e.educationType,useDegreeAutosuggest:!0,useFieldOfStudyAutosuggest:!0,UseLookupApiForSchool:!0,hideSchoolLocationAutoSuggest:BLDR.isLite,showNonDescriptionEducation:!0,exactSearch:!0,avoidTab:!0,avoidEnter:!0,isGraduationYearUpdate:!0,stopAutoFocus:!1,autoSuggestCustomTheme:l.z,screenName:e.screenName,loadParagraph:e.editParagraph,getDegreeSuggestions:e.getDegreeSuggestions,educationDegreeTypeList:u.l,deleteModalIcon:b,countryList:e.countryList,stateList:e.state.stateList,graduationStatusList:u.k,getYearList:BLDR.isLite?p.jb:p.kb,onControlsValueChange:e.onControlsValueChange,showGraduationDateInSchoolLoc:!0,graduationStatus:e.graduationStatus,isPlaceholderExp:e.isPlaceholderExp,hideCountryCD:e.hideCountryCD,showAllFieldsEmptyError:!0,onComponentChange:e.onComponentChange,UseLookupApiForCity:BLDR.isCVG||BLDR.isGES,LocationApiForSchool:BLDR.isCVG||BLDR.isGES,triggerTrackEvent:p.Ic,checkAdditionalFieldHaveValue:e.checkAdditionalFieldHaveValue,updateAccordianState:e.updateAccordianState,showAccordian:e.showAccordian,customValuesForAutoSuggest:e.customValuesForAutoSuggest,isFunnelImprvmnts:!0,useContentAPI:BLDR.isLite,cultureCD:BLDR.isLite?BLDR.cultureCD:null,defaultCountryCode:BLDR.defaultCountryCode,showActivityAutoSuggest:e.showActivityAutoSuggest,showAwardsAutoSuggest:e.showAwardsAutoSuggest,showFieldOfStudyAutoSuggest:e.showFieldOfStudyAutoSuggest,showGPAScoreInput:!(!BLDR.isRG&&!BLDR.isRC),showDegreeAutoSuggest:e.showDegreeAutoSuggest,showSchoolNameAutoSuggest:e.showSchoolNameAutoSuggest,isMobile:e.isMobile,enableStartDateInEducation:BLDR.isLite,fs_graduatingDateOmission:(BLDR.isRG||BLDR.isRC)&&!(BLDR.IsMobileDevice()||BLDR.isIPAD()),isFs_DelUxBundle:e.isFs_DelUxBundle,setCursorOnNextField:e.setCursorOnNextField}),e.screenName==l.R.overview&&a.a.createElement("div",{className:r},a.a.createElement("a",{className:"add-field help-text",onClick:e.addAnotherEducation},a.a.createElement("span",{className:"add-icon"},a.a.createElement(d.J,null))," ",n)),BLDR.IsMobileDevice()?a.a.createElement(a.a.Fragment,null,v&&a.a.createElement("div",{className:"skip-link","data-cancelbutton":f,onClick:e.onSkipOrCancelClick},a.a.createElement("a",{name:"skip link"},t)),!BLDR.isGDE&&a.a.createElement(m.a,y())):a.a.createElement("div",{className:"builder-form-layout-button-section back-button-layout".concat(v?" skip-btn-layout":"")},e.isSkipOrCancelButtonVisible&&p.Db()&&a.a.createElement("button",{className:"button button-default",type:"button","data-cancelbutton":f,onClick:e.onSkipOrCancelClick},t),a.a.createElement(a.a.Fragment,null,!p.Db()&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),a.a.createElement("button",{className:"button button-primary button-continue",type:"button",onClick:e.onContinueClick},D),v&&a.a.createElement("div",{className:"skip-link","data-cancelbutton":f,onClick:e.onSkipOrCancelClick},a.a.createElement("a",{name:"skip link"},BLDR.Localization.education_skip_text))))),BLDR.IsMobileDevice()&&BLDR.isGDE&&a.a.createElement(m.a,y()))}var b=o(38),y=o(8),v=o(67);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function L(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?T(Object(o),!0).forEach((function(t){k(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function P(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function R(e,t,o){return t=B(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],B(e).constructor):t.apply(e,o))}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,o){return(t=E(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function E(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var _=function(e){function t(e,o){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(n=R(this,t,[e,o]),"assignRef",(function(e,t){null!=t&&(n.refsObj[e]=t)})),k(n,"checkAdditionalFieldHaveValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.paragraph,t=!1;e.docDatas.forEach((function(e){t=!!([C.TypeCodes.fieldCd.Award,C.TypeCodes.fieldCd.Course,C.TypeCodes.fieldCd.Activity].includes(e.fieldCD)||e.fieldCD==C.TypeCodes.fieldCd.GradePointAverage&&e.charValue.length>0)})),t?(n.state.showAccordian=!0,n.setState(n.state)):(n.state.showAccordian=!1,n.setState(n.state))})),k(n,"addAnotherEducation",(function(){BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,k(k(k(k({},l.bb.Activity,"clicked"),l.bb.Page_Name,"education overview"),l.bb.Document_Type,"resumes"),l.bb.Cta_Name,"add school"),BLDR.UserClaims.user_uid,p.Ib()),n.setState({showAccordian:!1});var e=u.e(n.state.document,l.hc.other);n.schoolTypeSelected=l.hc.other,e+="&frm="+l.R.overview,n.props.history.push(e)})),k(n,"deleteParagraph",(function(e){var t=JSON.parse(JSON.stringify(n.state.document)),o=C.DocumentHelper.getSectionById(t,n.state.section.id),a=(o&&o.paragraphs&&o.paragraphs.findIndex((function(t){return t.id==e})))>-1?C.DocumentHelper.removeParagraph(t,n.state.section.id,e):JSON.parse(JSON.stringify(t)),i=C.DocumentHelper.getSectionById(a,n.state.section.id);if(n.state.section.paragraphs.length<=1){var r=a.preferences.findIndex((function(e){return e.docPreferenceTypeCD===l.N.graduationDate}));-1!=r&&a.preferences.splice(r,1)}var s=n.state.paragraph;Object(b.a)(i),0==i.paragraphs.length&&Object(b.h)(),n.setState({document:a,section:i,paragraph:s}),n.liveResumePreview&&n.updateDocumentContext(a),n.props.documentActions.UpdateDocument(n.user.UserUID,a)})),k(n,"onParaSort",(function(e){var t=JSON.parse(JSON.stringify(n.state.document.sections)),o=t.findIndex((function(t){return t.id==e.id}));t[o]=e;var a=JSON.parse(JSON.stringify(n.state.document));a.sections=t,Object(b.a)(e),n.setState({section:e,document:a}),n.liveResumePreview&&n.updateDocumentContext(a),n.props.documentActions.UpdateDocument(n.user.UserUID,a)})),k(n,"saveParagraph",(function(e,t){n.updateDocumentState(e,t,!0)})),k(n,"getStateListFromCountry",(function(e){if(e&&e.docDatas){var t=C.CommonHelper.getCharValue(e.docDatas,C.TypeCodes.fieldCd.SchoolCountry),o=p.E(t);n.getStateList(o)}})),k(n,"getDegreeList",(function(){n.setState({degreeList:[]}),n.props.commonActions.GetDegreeList().then((function(e){var t=[];e&&e.SurveyResponses&&e.SurveyResponses.length>0&&e.SurveyResponses.forEach((function(e){var o={label:e.DisplayText,value:e.DisplayText,name:C.TypeCodes.fieldCd.DegreeEarned};t.push(o)})),n.setState({degreeList:t})}))})),k(n,"getStateList",(function(e){if(C.CommonHelper.isNullOrWhitespace(e)||e!=l.I.canada&&e!=l.I.unitedSates)n.state.stateList.length>0&&n.setState({stateList:[]});else if(BLDR.States&&BLDR.States[e]){var t=p.D(C.TypeCodes.fieldCd.SchoolState,BLDR.States[e]);n.setState({stateList:t})}else n.props.commonActions.GetStateList(e).then((function(e){if(e&&e.length>0){var t=p.D(C.TypeCodes.fieldCd.SchoolState,e);n.setState({stateList:t})}else n.state.stateList.length>0&&n.setState({stateList:[]})}))})),k(n,"getDegreeSuggestions",(function(e){var t=[];n.state.degreeList&&JSON.parse(JSON.stringify(n.state.degreeList)).forEach((function(o){o.value.toLowerCase().indexOf(e.toLowerCase())>-1&&(o.displayValue=o.value,o.selectedValue=o.value,t.push(o))}));return t})),k(n,"updateAccordianState",(function(){n.setState({showAccordian:!n.state.showAccordian})})),k(n,"onComponentChange",(function(){var e=u.i(),t=n.refsObj.educationSection.getUpdatedSection(!1);if(n.liveResumePreview&&e!==l.R.overview){var o=JSON.parse(JSON.stringify(n.state.document));o.sections[o.sections.findIndex((function(e){return e.id===t.Section.id}))]=t.Section,n.updateDocumentContext(o)}})),k(n,"updateDocumentState",(function(e,t,o){var a=JSON.parse(JSON.stringify(n.state.document)),i=a.sections.findIndex((function(t){return t.id==e.id}));BLDR.isGPL&&(e.paragraphs=e.paragraphs.map((function(e){return e.docDatas=e.docDatas.map((function(e){return[C.TypeCodes.fieldCd.GraduationEndDate,C.TypeCodes.fieldCd.GraduationStartDate,C.TypeCodes.fieldCd.GraduationYear].includes(e.fieldCD)&&(e.docDataInfo=e.charValue?p.o(e.charValue):""),e})),e}))),a.sections[i]=e;var r=p.Z();if(a=C.DocumentHelper.deleteEmptyParagrah(a,r),a=p.Fc(L({},a)),1===e.paragraphs.length){var s=n.getGraduationDate(t);C.CommonHelper.isNullOrWhitespace(s)||n.addDocPreference(a,e,s)}return n.setState({document:a,section:e,paragraph:t}),p.qc(a,C.TypeCodes.sectionTypeCd.Education),n.liveResumePreview&&n.updateDocumentContext(a),o&&n.props.documentActions.UpdateDocument(n.user.UserUID,a),a})),k(n,"getGraduationDate",(function(e){var t="",o=C.CommonHelper.getCharValue(e.docDatas,BLDR.isLite?C.TypeCodes.fieldCd.GraduationEndDate:C.TypeCodes.fieldCd.GraduationYear);if(!C.CommonHelper.isNullOrWhitespace(o)){var n=o.split("/");n&&n.length>1&&(n[0]=("0"+n[0]).slice(-2));var a=n.join("/"),i=C.CommonHelper.formatGradYearDate(a);t=l.h().monthNames[i.getMonth()]+" "+i.getFullYear()}return t})),k(n,"addDocPreference",(function(e,t,o){var n=l.N.graduationDate;if(e.preferences&&1===t.paragraphs.length){var a=e.preferences.find((function(e){return e.docPreferenceTypeCD==n}));a?a.value=o:C.CommonHelper.addDocumentPreference(e,n,o)}})),k(n,"editParagraph",(function(e,t){var o="".concat(y.c[l.Gb.education],"?paraid=").concat(t,"&frm=").concat(l.R.overview),a=C.DocumentHelper.getParagraphsById(n.state.document,e,t)||null;a&&a.docDatas&&a.docDatas.length>0&&(n.checkAdditionalFieldHaveValue(a),n.schoolTypeSelected=C.CommonHelper.getCharValue(a.docDatas,C.TypeCodes.fieldCd.EducationDegreeType),n.setState({paragraph:a})),n.props.history.push(o)})),k(n,"onControlsValueChange",(function(e){e&&e.name&&e.name==C.TypeCodes.fieldCd.SchoolCountry&&e.countryCD&&n.getStateList(e.countryCD),e&&e.name&&e.name==C.TypeCodes.fieldCd.EducationDegreeType&&e.value&&(n.schoolTypeSelected=e.value,n.forceUpdate())})),k(n,"onSkipOrCancelClick",(function(){n.schoolTypeSelected="";var e=u.i();if(u.n(e)&&!p.Db()){var t=Object(b.e)();t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,k(k(k(k({},l.bb.Activity,"clicked"),l.bb.Page_Name,t),l.bb.Document_Type,"resumes"),l.bb.Cta_Name,"skip this step"),BLDR.UserClaims.user_uid,p.Ib())}n.context.setDocument(p.x(n.props.document));var o=u.e(n.state.document);n.props.history.push(o)})),k(n,"onBackClick",(function(){var e=Object(b.e)();e&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,k(k(k(k({},l.bb.Activity,"clicked"),l.bb.Page_Name,e),l.bb.Document_Type,"resumes"),l.bb.Cta_Name,"back"),BLDR.UserClaims.user_uid,p.Ib()),n.noEducation_OverviewUserStage=0;var t=u.b(n.state.document);n.context.setDocument(p.x(n.props.document)),n.props.history.push(t)})),k(n,"onContinueClick",(function(){n.noEducation_OverviewUserStage=0;var e=Object(b.e)();e&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,k(k(k(k({},l.bb.Activity,"clicked"),l.bb.Page_Name,e),l.bb.Document_Type,"resumes"),l.bb.Cta_Name,"next"),BLDR.UserClaims.user_uid,p.Ib());var t=u.i(),o=u.e(n.state.document);if(t===l.R.overview){n.schoolTypeSelected="";var a=JSON.parse(JSON.stringify(n.state.document)),i=a.sections.find((function(e){return e.sectionTypeCD===C.TypeCodes.sectionTypeCd.Education})),r=n.props.document.sections.find((function(e){return e.sectionTypeCD===C.TypeCodes.sectionTypeCd.Education}));i.paragraphs=r.paragraphs,a=p.Fc(L({},a)),n.props.documentActions.UpdateDocument(n.user.UserUID,a),n.navigateToPage(o)}else if(n.refsObj.educationSection.areAllFieldsBlank()&&!n.props.isEditMode)n.navigateToPage(o);else{var s=[l.R.details].includes(t)&&n.props.isAddMode,c=n.refsObj.educationSection.getUpdatedSection(!0);if(c.Section.paragraphs=u.a(c.Section.paragraphs),c.isValid){var d=n.updateDocumentState(c.Section,c.Paragraph,!0);o=u.e(d),s&&(o=y.c[l.Gb.education]),n.navigateToPage(o,s)}}})),n.refsObj={},n.user=p.hb(),n.schoolTypeSelected=u.h(n.props.document),n.state=u.d(n.props,n.user),n.liveResumePreview=BLDR.showLiveResumePreview,n.noEducation_OverviewUserStage=0,n.isCountrySpecificPlaceHolders=window.BLDR.featureSets.countrySpecificPlaceHolders,n.hasZeroExpAndStillEnrolled=p.Pb(n.props.document),n.customValuesForAutoSuggest=BLDR.isRG||BLDR.isRC?BLDR.isEUPortal?l.yc:l.xc:[],(BLDR.isGIT||BLDR.isGES||BLDR.isGDE||BLDR.isCVG)&&(n.customValuesForAutoSuggest=[]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),o=t,(n=[{key:"componentDidMount",value:function(){this.checkAdditionalFieldHaveValue(),this.getStateListFromCountry(this.state.paragraph),this.getDegreeList(),u.i()!=l.R.overview&&this.props.saveUserStages(l.Ec.Education),BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,k(k(k({},l.bb.Activity,"viewed"),l.bb.Page_Name,"education"),l.bb.Document_Type,"resumes"),BLDR.UserClaims.user_uid,p.Ib())}},{key:"componentDidUpdate",value:function(e){var t=p.Ab(this.state.document,this.props.document);(this.props.paragraph&&this.state.paragraph&&this.props.paragraph.id!=this.state.paragraph.id||t)&&(t||this.getStateListFromCountry(this.props.paragraph),this.setState({document:this.props.document,section:this.props.section,paragraph:this.props.paragraph})),e.document&&this.props.document&&JSON.stringify(this.props.document)!=JSON.stringify(e.document)&&p.J(this.props.document,l.N.WelcomeUxDisplayed)!=p.J(e.document,l.N.WelcomeUxDisplayed)&&(this.setState({document:this.props.document}),this.liveResumePreview&&this.updateDocumentContext(this.props.document)),u.i()===l.R.overview&&this.noEducation_OverviewUserStage<1&&(BLDR.TrackEvents(l.ib.DOCUMENT_EVENTS,k(k(k({},l.bb.Activity,"viewed"),l.bb.Page_Name,"education overview"),l.bb.Document_Type,"resumes"),BLDR.UserClaims.user_uid,p.Ib()),this.props.saveUserStages(l.Ec.Education_Overview),Object(b.a)(this.state.section),this.noEducation_OverviewUserStage=this.noEducation_OverviewUserStage+1)}},{key:"updateDocumentContext",value:function(e){this.context.setDocument(p.x(e))}},{key:"navigateToPage",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=u.i(),t=u.f(e,this.schoolTypeSelected,this.props.isEditMode),o=e!==l.R.overview,n=this.schoolTypeSelected;C.CommonHelper.isNullOrWhitespace(n)&&(n=C.CommonHelper.getCharValue(this.props.paragraph.docDatas,C.TypeCodes.fieldCd.EducationDegreeType),this.schoolTypeSelected=n);var i=u.j(this.schoolTypeSelected),r=u.n(e),s=p.F(C.TypeCodes.fieldCd.SchoolCountry),c=p.J(this.props.document,l.N.graduationStatus);c&&(c=c.replace(" ","").toLowerCase());var d=u.g(e);return i.EDUCATION_LOCALIZATION.dergreeNameHSD=BLDR.Localization.dergreeNameHSD,i.EDUCATION_LOCALIZATION.dergreeNameGED=BLDR.Localization.dergreeNameGED,i.EDUCATION_LOCALIZATION.schoolName=BLDR.Localization.school_name_label_Exp,i.EDUCATION_LOCALIZATION.schoolNameErr=BLDR.Localization.school_error_message_text_Exp,i={EDUCATION_LOCALIZATION:p.sc(i.EDUCATION_LOCALIZATION,"education")},this.isCountrySpecificPlaceHolders&&(i={EDUCATION_LOCALIZATION:p.sc(i.EDUCATION_LOCALIZATION,"education")}),a.a.createElement(D,{assignRef:this.assignRef,screenName:e,state:this.state,user:this.user,localization:i,addAnotherEducation:this.addAnotherEducation,onSkipOrCancelClick:this.onSkipOrCancelClick,onContinueClick:this.onContinueClick,showDetails:o,pageHeadingSubHeading:t,educationType:this.schoolTypeSelected,editParagraph:this.editParagraph,deleteParagraph:this.deleteParagraph,onParaSort:this.onParaSort,saveParagraph:this.saveParagraph,getDegreeSuggestions:this.getDegreeSuggestions,isSkipOrCancelButtonVisible:r,countryList:s,isEditMode:this.props.isEditMode,isAddMode:this.props.isAddMode,onBackClick:this.onBackClick,onControlsValueChange:this.onControlsValueChange,graduationStatus:c,pannelBannerProps:d,match:this.props.match,pageName:this.props.pageName,onComponentChange:this.onComponentChange,isPlaceholderExp:!0,hideCountryCD:p.ub(),checkAdditionalFieldHaveValue:this.checkAdditionalFieldHaveValue,updateAccordianState:this.updateAccordianState,showAccordian:this.state.showAccordian,customValuesForAutoSuggest:this.customValuesForAutoSuggest,showActivityAutoSuggest:!BLDR.isEUPortal,showAwardsAutoSuggest:!BLDR.isEUPortal,showFieldOfStudyAutoSuggest:!BLDR.isEUPortal,showSchoolNameAutoSuggest:!BLDR.isGIT&&!BLDR.isGDE&&!BLDR.isGPL,showDegreeAutoSuggest:!(BLDR.isGIT||BLDR.isGES||BLDR.isGDE||BLDR.isGPL),useRMCCalendar:!1,isMobile:BLDR.IsMobileDevice(),isFs_DelUxBundle:BLDR.featureSets.delUxBundle,setCursorOnNextField:BLDR.IsMobileDevice(),hasZeroExpAndStillEnrolled:this.hasZeroExpAndStillEnrolled})}}])&&P(o.prototype,n),i&&P(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,i}(n.Component);function x(e){return{document:e.Document}}k(_,"contextType",v.a);t.default=Object(i.b)(x,null)(_)},1310:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return Z}));var n=o(0),a=o.n(n),i=o(1124),r=o.n(i),s=o(111),c=o(1),l=o(4),p=o(834),u=o(6),d=o(62),m=o.n(d),C=o(70),f=o(133),h=o(2),g=o(837),D=o(350);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){S(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function S(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function T(e){var t,o,n,i,d,b=!!(e.isFunnelImprvmnts&&e.state.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Community_Service||e.state.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Volunteer),y=C.m;e.isFunnelImprvmnts&&((null===(i=e.state)||void 0===i||null===(i=i.section)||void 0===i?void 0:i.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Volunteer&&(y=C.C),(null===(d=e.state)||void 0===d||null===(d=d.section)||void 0===d?void 0:d.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Community_Service&&(y=C.g));var S=BLDR.featureSets.writingHelp&&e.state.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Experience,T=h.CommonHelper.getCharValue(null===(t=e.state.paragraph)||void 0===t?void 0:t.docDatas,h.TypeCodes.fieldCd.JobTitle),L=BLDR.Localization.auto_Add_TTC_Popup_Heading_new,P=BLDR.Localization.auto_Add_TTC_Popup_Heading_with_for;y.EXAMPLE_EDITOR_LOCALIZATION.autoAddTTCPopupHeading=T?P.replace("<--jobtitle--\x3e",T):L;var R="".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/auto-add-exp-ttc.png"),B=e.state.section&&e.state.section.paragraphs&&(0==e.state.section.paragraphs.length||1==e.state.section.paragraphs.length&&e.isAddMode),w="button-add-container";w+=B?" button-add-container-empty":" button-dotted";var k,E,_=c.Ob,x="";B?x=(null===(k=e.state)||void 0===k||null===(k=k.section)||void 0===k?void 0:k.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Volunteer?BLDR.Localization.add_Volunteer_Button_Text:(null===(E=e.state)||void 0===E||null===(E=E.section)||void 0===E?void 0:E.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Community_Service?BLDR.Localization.add_Community_Service_Button_Text:BLDR.Localization.add_Work_Experience_Button_Text:x=!b||BLDR.IsMobileDevice()||BLDR.isLite?BLDR.Localization.Company_heading_text:BLDR.Localization.Add_Another_Experience;var N=e.screenName===c.kb.position||e.screenName===c.kb.company||e.screenName===c.kb.overview&&l.Db(),O=N||e.isFunnelImprvmnts&&l.Db()?BLDR.Localization.save_Button_Text:BLDR.Localization.continue_Button_text,A=e.screenName==c.kb.experienceExists?"builder-form-layout-content-section radio-buttons-align-center":void 0,F=e.screenName==c.kb.overview,I=a.a.createElement(u.cb,null),U=c.Kb;if(e.isFunnelImprvmnts)switch(e.screenName){case c.kb.experienceExists:U=_;break;case c.kb.details:case c.kb.company:case c.kb.position:e.screenName==c.kb.company&&e.isEditMode&&h.CommonHelper.isNullOrWhitespace(BLDR.getQueryString("add_experience_type"))||(U=c.Ob)}else switch(e.screenName){case c.kb.experienceExists:U=_;break;case c.kb.details:U=c.Ob}var H=e.screenName==c.kb.responsibilities?" ttceditor-btnwrap ":"";if(y.addPositionBtnText=BLDR.Localization.updated_Add_Position_Button_Text,BLDR.IsMobileDevice()&&(y.addPositionBtnText=BLDR.Localization.mobile_add_heading_text),BLDR.IsMobileDevice()||(e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Community_Service||BLDR.isLite?e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Volunteer||BLDR.isLite?y.addPositionBtnText=BLDR.Localization.add_heading_text:y.addPositionBtnText=BLDR.Localization.Add_Additional_Vol_Experience:y.addPositionBtnText=BLDR.Localization.Add_Another_Experience_At_This_Organization),e.enableJobTitleAutoSuggest){y.EXAMPLE_EDITOR_LOCALIZATION.searchFieldSearchResultHtml=BLDR.Localization.ttc_Example_Titles_Related_To_Html,y.EXAMPLE_EDITOR_LOCALIZATION.searchFieldPlaceholder=BLDR.Localization.no_searchtitle;var j=BLDR.Definition_Tips.find((function(e){return e.sectionTypeCd==h.TypeCodes.sectionTypeCd.Experience}));j&&(j.defaultText=BLDR.Localization.defaultText_New)}function V(){var t={backBtnText:BLDR.Localization.back,onBackClick:e.onBackClick,nextBtnText:null,onNextClick:null,pageName:e.pageName,match:e.match,hideProgressBar:!!l.Db(),nextBtnClass:""};return N&&l.Db()&&(t.backBtnText=BLDR.Localization.cancel_Button_Text,t.onBackClick=e.onCancelClick),e.screenName!=c.kb.experienceExists&&(t.onNextClick=e.onContinueClick,t.nextBtnText=O,t.nextBtnClass=""),v({},t)}(null===(o=e.state)||void 0===o||null===(o=o.section)||void 0===o?void 0:o.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Experience&&(y=l.sc(y,"experience"));var M={isOpen:!0,btnPrimaryLabel:y.experinceConfirmationPopupBtnPrimaryLabel,btnPrimaryId:"btn".concat(y.experinceConfirmationPopupBtnPrimaryLabel),btnSecondaryLabel:y.experinceConfirmationPopupBtnSecondaryLabel,continueToEducButtonId:"btn".concat(y.experinceConfirmationPopupBtnSecondaryLabel),onPrimaryClick:function(){return e.onClosePopupClick("back")},onSecondaryClick:e.onPopupNextClick,closeModal:function(){return e.onClosePopupClick("close")},shouldCloseOnOverlayClick:!0,hasHeader:!1,cssClass:{btnPrimary:"button button-default",btnSecondary:"button button-primary",modalDialog:"modal-delete-paragraph experience-confirmation-modal"}};b&&(M={isOpen:e.state.showPopup,btnPrimaryLabel:y.delEntryBtnSecondaryLabel,btnSecondaryLabel:y.delEntryBtnPrimaryLabel,btnPrimaryId:"btnExpDeleteSection",continueToEducButtonId:"btnExpSectionCancel",onPrimaryClick:e.closeDeleteSectionPopup,onSecondaryClick:e.deleteSectionPopupConfirm,shouldCloseOnOverlayClick:!0,closeModal:e.closeDeleteSectionPopup,hasHeader:!1,cssClass:{btnPrimary:"button button-default",btnSecondary:"button button-primary",modalDialog:"modal-delete-paragraph"}});var G=!(!S||4!=l.M(BLDR.PortalExperiments.expSGPwithinWorkExperience)&&5!=l.M(BLDR.PortalExperiments.expSGPwithinWorkExperience));return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{showDeleteButton:b&&!B&&F,onDeleteButtonClick:e.onDeleteSectionClick,headingText:e.pageHeadingSubHeading.pageHeading,subHeadingText:e.pageHeadingSubHeading.pageSubHeading,hidePanelBanner:!!e.isFunnelImprvmnts&&(!(!e.state.section||e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Community_Service&&e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Volunteer||e.screenName==c.kb.overview)||!(e.state.section.sectionTypeCD!=h.TypeCodes.sectionTypeCd.Experience||e.screenName!=c.kb.company||!e.companyId)),panelBannerProps:U,contentSectionClass:A,pageNameClass:"experience-".concat(e.screenName),document:e.state.document,currentSectionCD:null===(n=e.state)||void 0===n||null===(n=n.section)||void 0===n?void 0:n.sectionTypeCD,showTabSection:l.Ac(e.state.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Volunteer||e.state.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Community_Service?e.state.section.sectionTypeCD:e.screenName,e.state.paragraph.id&&e.companyId),onlyPreview:l.Zb(e.state.section.sectionTypeCD,e.screenName),showLivePreviewBtn:l.Nb(e.screenName,e.state.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Volunteer||e.state.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Community_Service)},"1"==e.isResumeUploaded&&!e.isCalledFromFinalize&&e.state.showGPTAnimation&&a.a.createElement(m.a,{isOpen:e.state.showGPTAnimation,hasHeader:!1,cssClass:{overlayClassName:" gpt-modal-overlay"}},a.a.createElement(g.a,{sectionName:BLDR.Localization.education,subHeading:BLDR.Localization.gpt_parser_tile_animation_subHeading})),e.screenName==c.kb.experienceExists?a.a.createElement(p.a,{options:c.cc.options,screenName:e.screenName,onNextClick:e.onExperienceAddOptionSelected,selectedOption:e.haveExperienceSelectedOption}):a.a.createElement(a.a.Fragment,null,a.a.createElement(r.a,{ref:function(t){return e.assignRef("experienceSection",t)},ttcSearchEnhancement:!0,animateJS:BLDR.animateJS,allowFutureEndDate:!1,onParaSort:e.onParaSort,isSortable:!0,DebounceTime:window.BLDR.DebounceTime,portalCd:BLDR.PortalSettings.ConfigurePortalCd,cultureCD:BLDR.cultureCD,PortalId:BLDR.PortalSettings.ConfigurePortal,Section:e.state.section,paragraphId:e.state.paragraph.id,UserUID:e.user.UserUID,documentId:e.state.document.id,ApiUrl:BLDR.Paths.BaseApiUrl,countryCode:BLDR.countryDetails.countryCode,CountryCd:BLDR.countryDetails.countryCode,productCd:BLDR.PortalSettings.ConfigureProductCd,TTCCulture:BLDR.isCVG?"en-US":BLDR.cultureCD,showNonDescriptionExperience:!0,showJobTitleWithNotFoundMsg:!0,noJobTitleFoundMsgInHead:!0,hightLightSearchKeyword:!0,exactSearch:!0,showAllFieldsEmptyError:!0,validateAllFields:!0,hideEmployerLocation:!0,hideStateField:BLDR.isGDE,usePassedParagraphId:!0,showFreeForm:!0,Localization:y,isCollapsed:F,showExpanded:e.isEditMode,isAddMode:e.isAddMode,UpdateExperienceParent:e.onComponentChange,deletePopupConfirm:e.deleteParagraph,CurrentStep:e.screenName,autoSuggestCustomTheme:v(v({},c.z),{},{container:"autosuggest-container Select"}),countryList:e.countryList,stateList:e.state.stateList,getYearList:l.jb,getMonthOptions:l.Q,companyId:e.companyId,addAnotherParagraph:e.addAnotherPosition,deleteModalIcon:I,loadParagraph:e.editPositionOrCompany,editCompanyTTC:e.editCompanyTTC,enableJobTitleAutoSuggest:e.enableJobTitleAutoSuggest,graySuggestionForAutosuggest:e.graySuggestionForAutosuggest,defaultJobtitleSearch:e.enableJobTitleAutoSuggest?window.BLDR.defaultJobtitleForSearch:"",isContentAPITracking:!0,noOfAutoAddTTCItems:e.noOfAutoAddTTCItems,trackingPlacement:e.trackingPlacement,trackAllTTCEvents:!b&&e.trackAllTTCEvents,Definition_Tips:BLDR.Definition_Tips,showTTCExamples:!0,isMobile:BLDR.IsMobileDevice(),showExampleContentView:!1,isEditMode:e.isEditMode,displayFormatingOption:!0,showSpellCheckPosition:!0,hideBulletingOption:!1,displayUndoRedo:!0,isHideSpellCheck:!!S||(BLDR.IsMobileDevice()||BLDR.isInternetExplorer()),handleCursorOnPaste:!0,isCheckForBlueText:!0,isSpellCheckActive:!S&&(!BLDR.isInternetExplorer()&&!BLDR.IsMobileDevice()),useBrowserNativeSpellCheck:G,isSpellCheckPositionDynamic:!0,writingHelp:S,showWritingHelpToggleButton:S&&5==l.M(BLDR.PortalExperiments.expSGPwithinWorkExperience),setToggleSGPPreference:e.setToggleSGPPreference,getToggleSGPPreference:e.getToggleSGPPreference,getSGPTooltipUserPrefference:e.getSGPTooltipUserPrefference,setSGPTooltipUserPrefference:e.setSGPTooltipUserPrefference,userCreatedOn:BLDR.UserClaims&&BLDR.UserClaims.createdOn,sgpToolTipPopupPosFix:S,getReplacedSentences:D.getItem("replacedSentences").then((function(e){return h.CommonHelper.isNullOrWhitespace(e)?[]:JSON.parse(e)})),setReplacedSentences:function(e){return D.setItem("replacedSentences",JSON.stringify(e))},enableFuzzyLogic:e.enableJobTitleAutoSuggest,isPlaceholderExp:e.isPlaceholderExp,isFirstFocus:!0,paraInitialize:e.paraInitialize,hideCountryCD:e.hideCountryCD,ttcHighlightColor:BLDR.isRC?"#128ee7":"#2b2d2f",useRMCCalendar:e.useRMCCalendar,setLimitForCalender:e.setLimitForCalender,txtOnFocus:e.txtOnFocus,txtOnBlur:e.txtOnBlur,TrackEventsData:!b&&e.trackEventsData,triggerTrackEvent:l.Ic,fireRemoveAndModifiedEvent:!b,getTTCFromSection:!b&&e.getTTCFromSection,storeTTCForSection:!b&&e.storeTTCForSection,useNewCodeToAddTTC:!b&&!0,showGPTContent:BLDR.showGPTContent,isFunnelImprvmnts:e.isFunnelImprvmnts,showPositionDescriptionView:!e.isFunnelImprvmnts,sectionTypeCD:b?h.TypeCodes.sectionTypeCd.Experience:e.state.section.sectionTypeCD,pelicanoTTCImagePath:R,editorAutoBulletPointsInMobileFix:!1,jobEmployer:e.jobEmployer,isIpad:BLDR.isIPAD(),setCursorOnNextField:e.setCursorOnNextField,clearSelect:!b,isSkipStateCD:e.isSkipStateCD,fs_AIWritingHelpRefineFeature:e.fs_AIWritingHelpRefineFeature,fs_AIWritingHelpEnhanceFeature:e.fs_AIWritingHelpEnhanceFeature,isAIWritingHelpToggleEnabled:e.isAIWritingHelpToggleEnabled,getAIWritingHelpPreference:e.getAIWritingHelpPreference,setAIWritingHelpPreference:e.setAIWritingHelpPreference,getAIWHTooltipUserPrefference:e.getAIWHTooltipUserPrefference,setAIWHTooltipUserPrefference:e.setAIWHTooltipUserPrefference,improveAnythingLoc:e.improveAnythingLoc,isHorizontalLayout:e.isHorizontalLayout,aiWritingAnimationV1ImagePath:["".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/aiwritinghelp-animation-v1.gif")],aiWritingAnimationV2ImagePath:["".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/aiwritinghelp-animation-v2.gif")],customOptionsRenderer:e.customOptionsRenderer,customValueRenderer:e.customValueRenderer,isFs_DelUxBundle:e.isFs_DelUxBundle,setAutoAddDocPreference:e.setAutoAddDocPreference,getAutoAddDocPreference:e.getAutoAddDocPreference}),F&&a.a.createElement("div",{className:w,onClick:e.addAnotherCompany},a.a.createElement("button",{className:"add-field help-text"},a.a.createElement("span",{className:"add-icon"},a.a.createElement(u.K,null))," ",x)),BLDR.IsMobileDevice()?!BLDR.isGDE&&a.a.createElement(f.a,V()):a.a.createElement("div",{className:"builder-form-layout-button-section back-button-layout"+H},N&&l.Db()&&!e.isInAdditionalSection&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onCancelClick},BLDR.Localization.cancel_Button_Text),e.isFunnelImprvmnts&&l.Db()&&e.screenName==c.kb.responsibilities&&!e.isInAdditionalSection&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),e.screenName!=c.kb.experienceExists&&a.a.createElement(a.a.Fragment,null,(!l.Db()||e.isInAdditionalSection)&&a.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),a.a.createElement("button",{className:"button button-primary",type:"button",onClick:e.onContinueClick},O))),e.showPopup&&a.a.createElement(m.a,M,b?a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"modal-icon"},a.a.createElement(u.cb,null)),a.a.createElement("div",{className:"modal-body-content",dangerouslySetInnerHTML:{__html:y.delSectionPopupBody}})):a.a.createElement("div",{className:"modal-body experience-confirmation"},a.a.createElement("div",{className:"modal-header",onClick:function(){return e.onClosePopupClick("close")}},a.a.createElement("button",{className:"close-btn"},a.a.createElement(u.s,null))),a.a.createElement("div",{className:"modal-icon"}),a.a.createElement("div",{className:"modal-body-content"},a.a.createElement("div",null,a.a.createElement("h3",{className:"modal-title"},y.experinceConfirmationPopupHeadingText),a.a.createElement("p",{className:"model-body-text"},y.experinceConfirmationPopupBodyText))))))),BLDR.IsMobileDevice()&&BLDR.isGDE&&a.a.createElement(f.a,V()))}var L=o(38),P=o(250),R=o(8),B=o(58),w=o(61),k=o(67),E=o(154),_=o(92);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(o,n,a,i){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return O(l,"_invoke",function(o,n,a){var i,s,c,l=0,p=a||[],u=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,o){return i=t,s=0,c=e,d.n=o,r}};function m(o,n){for(s=o,c=n,t=0;!u&&l&&!a&&t<p.length;t++){var a,i=p[t],m=d.p,C=i[2];o>3?(a=C===n)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=m&&((a=o<2&&m<i[1])?(s=0,d.v=n,d.n=i[1]):m<C&&(a=o<3||i[0]>n||n>C)&&(i[4]=o,i[5]=n,d.n=C,s=0))}if(a||o>1)return r;throw u=!0,n}return function(a,p,C){if(l>1)throw TypeError("Generator is already running");for(u&&1===p&&m(p,C),s=p,c=C;(t=s<2?e:c)||!u;){i||(s?s<3?(s>1&&(d.n=-1),m(s,c)):d.n=c:d.v=c);try{if(l=2,i){if(s||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),s=1);i=e}else if((t=(u=d.n<0)?c:o.call(n,d))!==r)break}catch(t){i=e,s=1,c=t}finally{l=1}}return{value:t,done:u}}}(o,a,i),!0),l}var r={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(O(t={},n,(function(){return this})),t),u=l.prototype=s.prototype=Object.create(p);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,O(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=l,O(u,"constructor",l),O(l,"constructor",c),c.displayName="GeneratorFunction",O(l,a,"GeneratorFunction"),O(u),O(u,a,"Generator"),O(u,n,(function(){return this})),O(u,"toString",(function(){return"[object Generator]"})),(N=function(){return{w:i,m:d}})()}function O(e,t,o,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(O=function(e,t,o,n){if(t)a?a(e,t,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[t]=o;else{var i=function(t,o){O(e,t,(function(e){return this._invoke(t,o,e)}))};i("next",0),i("throw",1),i("return",2)}})(e,t,o,n)}function A(e,t,o,n,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void o(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function F(e){return function(){var t=this,o=arguments;return new Promise((function(n,a){var i=e.apply(t,o);function r(e){A(i,n,a,r,s,"next",e)}function s(e){A(i,n,a,r,s,"throw",e)}r(void 0)}))}}function I(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return U(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?U(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw i}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function H(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?H(Object(o),!0).forEach((function(t){W(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):H(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function V(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function M(e,t,o){return t=G(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],G(e).constructor):t.apply(e,o))}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,o){return(t=J(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function J(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}var Z=function(e){function t(e,o){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(i=M(this,t,[e,o]),"assignRef",(function(e,t){null!=t&&(i.refsObj[e]=t)})),W(i,"popStateListener",(function(){i.setState({document:i.props.document,section:i.props.section,paragraph:i.props.paragraph})})),W(i,"conductInlineResumeUploadForScratchUserExp",(function(){var e=l.Pb(i.props.document);if(BLDR.isRG&&BLDR.PortalExperiments.expInlineResumeUploadForScratchDesktop&&l.isExpInlineResumeScratchFlowUser()&&0==l.M(BLDR.PortalExperiments.expInlineResumeUploadForScratchDesktop)&&void 0!==window&&window.Profile&&!sessionStorage.getItem("isStartFromImport")&&!e){var t=BLDR.PortalExperiments.expInlineResumeUploadForScratchDesktop,o=l.y(BLDR.PortalExperiments.expInlineResumeUploadForScratchDesktop.id),n=l.Wb(t);if(o.isNeedToGetOrConduct){var a=window.Profile.ConductExperiment(n);a>0&&(l.bc(t,a),BLDR.featureSets.inLineResumeScratchFlow=a>=3)}}})),W(i,"handleInlineResumePopup",(function(){if(i.setState((function(e){return{showInlineResumePopup:!e.showInlineResumePopup}})),i.state.showInlineResumePopup){i.onCancelPopup({preventDefault:function(){}})}})),W(i,"onCancelPopup",(function(e){e.preventDefault(),i.setState({browseFile:!1,showError:!1,fileName:"",fileType:"",fileBytes:[],errorMessage:"",showInlineResumePopup:!1,showPasteResume:!1,showPasteError:!1,pasteErrorMessage:"",pastedValue:""})})),W(i,"handleFileOnInlineResume",(function(e,t,o,n,a){if(e&&e.name){var r="",s=e.name.split(".");s.length>0&&(r=s[s.length-1]);["DOC","DOCX","PDF","ODT","HTML","HTM","RTF","TXT"].indexOf(r.toUpperCase())<0?i.handleUploadError("Invalid File Type",e.name):e.size<=0?i.handleUploadError("File is empty.",e.name):e.size>0&&e.size/1048576>BLDR.maxAllowedSize?i.handleUploadError("File is too large.",e.name):e.size>0&&e.name&&(i.setState({fileName:e.name,browseFile:!a,showError:!1,fileBytes:[],fileType:r}),1==o||1==n?i.readBinaryStringFromGoogleDriveOrDropbox(e,t,o):(i.readBinaryStringFromFile(e),a&&setTimeout((function(){i.onContinueClickInlineResume({stopPropagation:function(){}})}),1e3)))}})),W(i,"onContinueClickInlineResume",(function(e){if(e.stopPropagation(),sessionStorage.removeItem("inlineResumePara"),!i.createDocumentClicked){i.createDocumentClicked=!0,i.setState({isUploadInProgress:i.createDocumentClicked,isLoaderOnClick:!0});var t=!0===i.fileDownloadComplete?0:200,o=setInterval((function(){if(i.fileDownloadComplete){clearInterval(o);var e=i.props.document;e.fileData=i.state.fileBytes;var t=h.CommonHelper.getStorageValue(c.nc.skinCD)||BLDR.defaultSkin;if(null!=e.fileData&&e.fileData.length>1){var n,a=["EXPR","EDUC","VLTR","COMS","CERT"],r=Object.values(h.TypeCodes.sectionTypeCd).filter((function(e){return!new Set(a).has(e)})),s=e&&e.preferences,p=i.props.document.id,u={userId:i.props.user.user_uid,document:e,skinCD:t,portalId:BLDR.PortalSettings.ConfigurePortal,fileExtension:i.state.fileType,templateId:BLDR.templateId,cultureCd:BLDR.liteFlowCultureCD?BLDR.liteFlowCultureCD:BLDR.cultureCD,flowName:"",portalCd:BLDR.PortalSettings.ConfigurePortalCd,localizedDocumentText:BLDR.Localization.resume_Label,isINTLDocument:!1,skinColor:"",uploadMethod:"device",docStyles:[],country:{LocationCD:null===(n=BLDR.countryDetails)||void 0===n?void 0:n.countryCode},preference:"add",nonSupportedSections:r},d=i.props.document;i.refsObj&&i.refsObj.experienceSection.clearFields(),i.props.documentActions.CreateInitialDocumentWithFile(u).then((function(e){e?(BLDR.createCookie("DocumentID",e),i.parseDocPostDocCreation(s,d).then((function(t){i.setState({isLoaderOnClick:!1});var o=l.l(t,[h.TypeCodes.sectionTypeCd.Education]),n=j({},o.sections.filter((function(e){return e.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience}))[0]),a=j({},o.sections.filter((function(e){return e.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience}))[0].paragraphs[0]),r=c.Gb.experience+"&"+e;localStorage.setItem(c.zb.lastScreen,r),i.setState({document:j({},o),uploadedFileName:i.state.fileName,section:n,paragraph:a}),i.context.setDocument(l.x(t)),i.props.documentActions.deleteDocument(i.props.user.user_uid,p),i.createDocumentClicked=!1,i.setState({isUploadComplete:!0}),setTimeout((function(){i.resetInlineResumeState(),i.setState({showInlineResumePopup:!1,isUploadInProgress:i.createDocumentClicked,isUploadComplete:!1,section:n,paragraph:a})}),1e3)})).catch((function(){i.createDocumentClicked=!1,i.setState({isUploadInProgress:i.createDocumentClicked}),i.handleUploadError("Something went wrong",i.state.fileName)}))):(i.createDocumentClicked=!1,i.setState({isUploadInProgress:i.createDocumentClicked}),i.handleUploadError("",i.state.fileName))})).catch((function(){i.createDocumentClicked=!1,i.setState({isUploadInProgress:i.createDocumentClicked}),i.handleUploadError("Something went wrong",i.state.fileName)}))}else i.createDocumentClicked=!1,i.setState({isUploadInProgress:i.createDocumentClicked}),i.handleUploadError("",i.state.fileName)}}),t)}})),W(i,"resetInlineResumeState",(function(){i.setState({fileName:"",fileType:"",errorMessage:"",fileBytes:[],showError:!1,browseFile:!1,showPasteResume:!1,showPasteError:!1,pasteErrorMessage:"",pastedValue:"",isPastedValueValid:!1,isPasteTextareaFocus:!1})})),W(i,"parseDocPostDocCreation",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0,n=E.b(i.props.document,i.props.user.user_uid,i.isFunnelImprvmnts),a=I(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;r.docPreferenceTypeCD!=c.N.experiencePresent&&r.docPreferenceTypeCD!=c.N.experienceLevel&&r.docPreferenceTypeCD!=c.N.highestEducation&&r.docPreferenceTypeCD!=c.N.graduationStatus||h.CommonHelper.addDocumentPreference(n,r.docPreferenceTypeCD,r.value)}}catch(e){a.e(e)}finally{a.f()}h.CommonHelper.addDocumentPreference(n,c.N.resumeUploadedName,i.state.fileName),h.CommonHelper.addDocumentPreference(n,c.N.resumeUploadPopupShown,"1"),h.CommonHelper.addDocumentPreference(n,c.N.resumeInlineUploadProgress,"1");var s=o.sections.filter((function(e){return"NAME"===e.sectionTypeCD})),l=o.sections.filter((function(e){return"CNTC"===e.sectionTypeCD})),p=n.sections.findIndex((function(e){return"NAME"===e.sectionTypeCD})),u=n.sections.findIndex((function(e){return"CNTC"===e.sectionTypeCD}));return n.sections[p]=s[0],n.sections[u]=l[0],i.props.documentActions.UpdateDocument(i.props.user.user_uid,n,!1),new Promise((function(e){return e(n)}))})),W(i,"pasteDocLinkClicked",(function(e){e.preventDefault(),i.setState({showPasteResume:!0,showPasteError:!1,pasteErrorMessage:""})})),W(i,"onPasteAreaChange",(function(e){i.setState({pastedValue:h.CommonHelper.removeAngularBrackets(e.target.value)},(function(){}))})),W(i,"onPasteAreaBlur",(function(e){var t=h.CommonHelper.removeAngularBrackets(e.target.value,i.props.isAngularBracketRequired),o=!h.CommonHelper.isNullOrWhitespace(t);i.setState({pastedValue:t,isPastedValueValid:o,isPasteTextareaFocus:!1})})),W(i,"onPasteAreaFocus",(function(){i.setState({isPasteTextareaFocus:!0,showPasteError:!1,pasteErrorMessage:""})})),W(i,"pasteDocBackButtonClicked",(function(e){e&&(e.stopPropagation(),e.preventDefault()),i.setState({showPasteResume:!1,showPasteError:!1,pasteErrorMessage:""})})),W(i,"onPasteContinueClick",(function(e){e&&(e.stopPropagation(),e.preventDefault());try{var t=i.state.pastedValue?i.state.pastedValue:"",o=new Blob([t],{type:"text/plain"}),n=new File([o],"pastedRsmFile.txt",{type:"text/plain;charset=utf-8;"});if(n.size<=0)i.setState({showPasteError:!0,pasteErrorMessage:BLDR.Localization.pasteYourResume_Blank_Error_Message||""});else try{i.handleFileOnInlineResume(n,"",!1,!1,!0),i.setState({showPasteError:!1,pasteErrorMessage:""})}catch(e){i.setState({showPasteError:!0,pasteErrorMessage:BLDR.Localization.somethingWentWrong})}}catch(e){i.setState({showPasteError:!0,pasteErrorMessage:BLDR.Localization.somethingWentWrong})}})),W(i,"goToUploadScreen",(function(e){e&&e.stopPropagation(),i.createDocumentClicked||i.setState({browseFile:!1,showError:!1,fileName:"",fileType:"",fileBytes:[],errorMessage:""})})),W(i,"onBackClickPopup",(function(e){e&&e.stopPropagation(),i.setState({browseFile:!1,showError:!1,fileName:"",fileType:"",fileBytes:[],errorMessage:""})})),W(i,"dragFileHandler",(function(){})),W(i,"addAnotherPosition",(function(e){if(e){var t;BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent("work history overview","add position","clicked","resumes");var o="".concat(B.e(null===(t=i.props)||void 0===t||null===(t=t.section)||void 0===t?void 0:t.sectionTypeCD),"?add_experience_type=").concat(c.kb.position,"&companyid=").concat(e,"&hidesidebar=").concat(!i.isFunnelImprvmnts);i.props.history.push(o)}})),W(i,"getToggleSGPPreference",(function(){return l.J(i.state.document,c.N.SpellingGrammerPunctuationEnabled)})),W(i,"setToggleSGPPreference",(function(e){var t=JSON.parse(JSON.stringify(i.state.document)),o=c.N.SpellingGrammerPunctuationEnabled,n=e?"1":"0";if(t.preferences){var a=t.preferences.find((function(e){return e.docPreferenceTypeCD==o}));t=a?l.Lc(t,o,n):h.CommonHelper.addDocumentPreference(t,o,n)}return i.setState({document:t}),t})),W(i,"getAIWritingHelpPreference",(function(){return l.J(i.state.document,c.N.AIWritingHelp)})),W(i,"setAIWritingHelpPreference",(function(e){var t=JSON.parse(JSON.stringify(i.state.document)),o=c.N.AIWritingHelp,n=e?"1":"0";if(t.preferences){var a=t.preferences.find((function(e){return e.docPreferenceTypeCD==o}));t=a?l.Lc(t,o,n):h.CommonHelper.addDocumentPreference(t,o,n)}return i.setState({document:t}),t})),W(i,"setAIWHTooltipUserPrefference",(function(){i.props.userActions.SaveUserPreference(i.user.UserUID,c.q.AIWritingHelpTooltip,"1",BLDR.PortalSettings.ConfigurePortalCd)})),W(i,"getAIWHTooltipUserPrefference",(function(){return l.ib(c.q.AIWritingHelpTooltip)})),W(i,"getSGPTooltipUserPrefference",(function(){return l.ib(c.q.SpellingGrammarPunctuationTooltip)})),W(i,"setSGPTooltipUserPrefference",(function(){i.props.userActions.SaveUserPreference(i.user.UserUID,c.q.SpellingGrammarPunctuationTooltip,"1",BLDR.PortalSettings.ConfigurePortalCd)})),W(i,"addAnotherCompany",(function(){var e,t="work history overview",o="add company";i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?(t="additional sections community service",o="add community service"):i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(t="additional section volunteer experience",o="add volunteer experience"),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent(t,o,"clicked","resumes");var n="".concat(B.e(null===(e=i.props)||void 0===e||null===(e=e.section)||void 0===e?void 0:e.sectionTypeCD),"?add_experience_type=").concat(c.kb.company,"&hidesidebar=").concat(!i.isFunnelImprvmnts);i.props.history.push(n)})),W(i,"deleteParagraph",(function(e,t){var o=JSON.parse(JSON.stringify(i.state.document)),n=h.DocumentHelper.removeParagraph(o,e,t),a=l.Z();n=h.DocumentHelper.deleteEmptyParagrah(n,a);var r=h.DocumentHelper.getSectionById(n,e),s=i.state.paragraph;(r&&r.paragraphs&&r.paragraphs.length>0?B.c(r,i.props.document.id):Object(P.a)(),i.setState({document:n,section:r,paragraph:s}),i.liveResumePreview)&&(0,i.context.setDocument)(l.x(n));i.props.documentActions.UpdateDocument(i.user.UserUID,n),i.saveLatestJobTitlePreference(n)})),W(i,"getStateListFromCountry",(function(e){if(e&&e.docDatas){var t=h.CommonHelper.getCharValue(e.docDatas,h.TypeCodes.fieldCd.JobCountry),o=l.E(t);i.getStateList(o)}})),W(i,"getStateList",(function(e){if(h.CommonHelper.isNullOrWhitespace(e)||e!=c.I.canada&&e!=c.I.unitedSates)i.state.stateList.length>0&&i.setState({stateList:[]});else if(BLDR.States&&BLDR.States[e]){var t=l.D(h.TypeCodes.fieldCd.JobState,BLDR.States[e]);i.setState({stateList:t})}else i.props.commonActions.GetStateList(e).then((function(e){if(e&&e.length>0){var t=l.D(h.TypeCodes.fieldCd.JobState,e);i.setState({stateList:t})}else i.state.stateList.length>0&&i.setState({stateList:[]})}))})),W(i,"updateDocumentState",(function(e,t,o){var n=JSON.parse(JSON.stringify(i.state.document)),a=n.sections.findIndex((function(t){return t.id==e.id}));if(BLDR.isGPL&&(e.paragraphs=e.paragraphs.map((function(e){var t=e.docDatas.find((function(e){return e.fieldCD==h.TypeCodes.fieldCd.JobStartDate}));t&&(t.docDataInfo=t.charValue?l.o(t.charValue," "):"");var o=e.docDatas.find((function(e){return e.fieldCD==h.TypeCodes.fieldCd.JobEndDate}));return o&&(o.docDataInfo=o.charValue?l.o(o.charValue," "):""),e}))),e&&e.sectionTypeCD&&(e.paragraphs=e.paragraphs.map((function(e){var t=e.docDatas.find((function(e){return e.fieldCD==h.TypeCodes.fieldCd.JobEndDate}));return t&&t.charValue&&t.charValue==C.m.current_Text?(t.charValueENG=t.charValue,t.dateTimeValue=new Date):"charValueENG"in t?(delete t.charValueENG,delete t.dateTimeValue):"charValueEng"in t&&(delete t.charValueEng,delete t.dateTimeValue),e}))),n.sections[a]=e,o){var r=l.Z();n=h.DocumentHelper.deleteEmptyParagrah(n,r),l.qc(n,h.TypeCodes.sectionTypeCd.Experience),n=l.Fc(j({},n)),i.props.documentActions.UpdateDocument(i.user.UserUID,n),i.saveLatestJobTitlePreference(n),i.setState({document:n,section:e,paragraph:t},(function(){i.liveResumePreview&&(0,i.context.setDocument)(l.x(n))}))}return n})),W(i,"saveLatestJobTitlePreference",(function(e){var t="";if(e&&e.sections){var o=h.CommonHelper.getSectionByCD(e.sections,h.TypeCodes.sectionTypeCd.Experience);null!=o&&null!=o.paragraphs&&o.paragraphs.length>0&&o.paragraphs[0].docDatas&&o.paragraphs[0].docDatas.length>0&&(t=h.CommonHelper.getCharValue(o.paragraphs[0].docDatas,h.TypeCodes.fieldCd.JobTitle))}h.CommonHelper.isNullOrWhitespace(t)||i.props.userActions.SaveUserPreference(i.user.UserUID,c.q.PreferenceJobtitle,t,BLDR.PortalSettings.ConfigurePortalCd)})),W(i,"editPositionOrCompany",(function(e,t){var o="";if(t){var n;o="".concat(B.e(null===(n=i.props)||void 0===n||null===(n=n.section)||void 0===n?void 0:n.sectionTypeCD),"?companyid=").concat(t,"&paraid=").concat(e,"&hidesidebar=").concat(!i.isFunnelImprvmnts)}else{var a,r=BLDR.getQueryString("add_experience_type"),s=!i.isFunnelImprvmnts;o="".concat(B.e(null===(a=i.props)||void 0===a||null===(a=a.section)||void 0===a?void 0:a.sectionTypeCD),"?").concat(i.isFunnelImprvmnts&&r?"add_experience_type="+r+"&":"","paraid=").concat(e,"&hidesidebar=").concat(s)}i.props.history.push(o)})),W(i,"editCompanyTTC",(function(e,t){var o;t&&t.stopPropagation();var n,a=B.j();n="".concat(B.e(null===(o=i.props)||void 0===o||null===(o=o.section)||void 0===o?void 0:o.sectionTypeCD),"?paraid=").concat(e,"&frm=").concat(a,"&fields=responsibilities"),i.props.history.push(n)})),W(i,"onComponentChange",(function(e){var t=i.refsObj.experienceSection.getUpdatedSection(),o=i.updateDocumentState(t.Section,t.paragraph,!1);if(i.state.document=o,i.state.section=t.Section,i.state.paragraph=t.paragraph,e&&e.fieldCds&&e.fieldCds.length>0){e.fieldCds[0].fieldCd==h.TypeCodes.fieldCd.JobCountry&&i.getStateList(e.fieldCds[0].value);var n=h.TypeCodes.fieldCd;if([n.JobTitle,n.Company,n.JobCountry,n.JobState,n.JobCity,n.JobStartDate,n.JobEndDate,n.JobDescription].includes(e.fieldCds[0].fieldCd))(0,i.context.setDocument)(l.x(o))}})),W(i,"onExperienceAddOptionSelected",(function(e){var t,o="";e&&e.toLowerCase()==c.Wb.yes?o="yes add work experience":e&&e.toLowerCase()==c.Wb.no&&(o="no do not add work experience"),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&o&&i.fireEvent("add work experience",o,"clicked","resumes"),i.addHaveExperiencePreferences(e);var n,a=B.h(i.props.document,null===(t=i.props.section)||void 0===t?void 0:t.sectionTypeCD,e);i.props.isCalledFromFinalize&&(a=e===c.Wb.no?R.c[c.Gb.finalize]:B.e(null===(n=i.props)||void 0===n||null===(n=n.section)||void 0===n?void 0:n.sectionTypeCD));i.showTileAnimationforGPT(a)})),W(i,"addHaveExperiencePreferences",(function(e){var t=JSON.parse(JSON.stringify(i.state.document)),o=c.N.experiencePresent,n=c.Wb.no;t.preferences&&(t.preferences.find((function(e){return e.docPreferenceTypeCD==o}))||h.CommonHelper.addDocumentPreference(t,o,n));if(e&&e.toLowerCase()==c.Wb.yes){t=B.m(t,e);var a=l.Z();t=h.DocumentHelper.deleteEmptyParagrah(t,a)}else if(e&&e.toLowerCase()==c.Wb.no){var r=l.Z();t=h.DocumentHelper.deleteEmptyParagrah(t,r),t=B.m(t,e)}i.props.documentActions.UpdateDocument(i.user.UserUID,t)})),W(i,"checkAndSaveHaveExperiencePrefrences",(function(){var e=JSON.parse(JSON.stringify(i.state.document));if(e&&e.sections){var t=B.f(e),o=c.Wb.no,n=h.CommonHelper.getSectionByCD(e.sections,h.TypeCodes.sectionTypeCd.Experience);if(null!=n&&null!=n.paragraphs&&n.paragraphs.length>0)h.DocumentHelper.isParagraphEmpty(n.paragraphs[0])||(o=c.Wb.yes);t!=o&&i.addHaveExperiencePreferences(o)}})),W(i,"onBackClick",(function(){var e,t="";switch(B.j()){case c.kb.details:t="work history";break;case c.kb.responsibilities:t="work history details editor";break;case c.kb.overview:t="work history overview",i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?t="additional sections community service":i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(t="additional section volunteer experience")}BLDR.UserClaims&&BLDR.UserClaims.user_uid&&t&&i.fireEvent(t,"back","clicked","resumes"),i.noExperienceOverviewUserStage=0,i.noExperience_DescriptionUserStage=0;var o=i.refsObj&&i.refsObj.experienceSection&&i.refsObj.experienceSection.getUpdatedSection(!0);(o&&o.Section&&o.paragraph&&i.updateTTCConsumed(o.Section,o.paragraph),i.setState({document:i.props.document,section:i.props.section,paragraph:i.props.paragraph}),i.liveResumePreview)&&(0,i.context.setDocument)(l.x(i.props.document));var n=B.d(i.props.document,null===(e=i.props.section)||void 0===e?void 0:e.sectionTypeCD);i.props.history.push(n)})),W(i,"showTileAnimationforGPT",(function(e){var t,o;"1"==i.isResumeUploaded&&!i.props.isCalledFromFinalize&&e.includes(BLDR.Localization.url_education)?BLDR.GPTParserData[c.e.completeSections]||null!==(t=BLDR.GPTParserData)&&void 0!==t&&t.isCompleteFailed||null!==(o=BLDR.GPTParserData)&&void 0!==o&&o.successMessage?i.props.history.push(e):i.setState({showGPTAnimation:!0},(function(){var e=setInterval((function(){var t,o;if(BLDR.GPTParserData[c.e.completeSections]||null!==(t=BLDR.GPTParserData)&&void 0!==t&&t.isCompleteFailed||null!==(o=BLDR.GPTParserData)&&void 0!==o&&o.successMessage){clearInterval(e);var n=Object(w.c)(BLDR.GPTParserData.document);i.props.history.push(n)}}),100)})):i.props.history.push(e)})),W(i,"onCancelClick",(function(){var e,t="";i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?t="additional sections community service":i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(t="additional section volunteer experience"),t&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent(t,"cancel","clicked","resumes"),i.setState({document:i.props.document,section:i.props.section,paragraph:i.props.paragraph});var o=B.h(i.props.document,null===(e=i.props.section)||void 0===e?void 0:e.sectionTypeCD);i.props.history.push(o)})),W(i,"updateTTCConsumed",(function(e,t){if(i.refsObj&&i.refsObj.experienceSection&&i.refsObj.experienceSection.refs&&i.refsObj.experienceSection.refs.freeForm&&i.refsObj.experienceSection.refs.freeForm.getFreeFormEditorContentArray){var o=i.refsObj.experienceSection.refs.freeForm.getFreeFormEditorContentArray();if(o&&o.length>0){var n={docId:i.state.document.id,sectionName:h.TypeCodes.sectionTypeCd.Experience,searchedText:i.searchedText,companyName:h.CommonHelper.getCharValue(t.docDatas,h.TypeCodes.fieldCd.Company)||"",resumeSection:"work history",productCD:window.BLDR.PortalSettings.ConfigureProductCd,cultureCD:window.BLDR.cultureCD,jobExpInMonths:B.l(t)};L.c(o,n);var a=o.filter((function(e){return 1!=e.isRemoved&&1!=e.isModified&&1!=e.isBlueModified}));e=i.storeTTCForSection(e,t,a)}}})),W(i,"getTTCFromSection",(function(e,t){var o=[];return e&&e.ttcContentArray&&e.ttcContentArray[t]&&(o=e.ttcContentArray[t]),o})),W(i,"isfsMobileTTCEngagementButtonClick",(function(){var e=!1;if(BLDR.featureSets.mobileTTCEngagement){var t=document.getElementsByClassName("btn-wrap-mob");if(t&&t.length>0){var o=t[0].getElementsByClassName("js-next-button");if(o&&o.length>0)o[0].classList.value.indexOf("fsMobileTTCEngagement")>0&&(e=!0)}}return e})),W(i,"onContinueClick",F(N().m((function e(){var t,o,n,a,r,s,p,u,d,m,C,f,g,D,b,y,v,S,T,L,P,R,w,k,E,_,x,O,A,F,I,U,H,V;return N().w((function(e){for(;;)switch(e.n){case 0:if(!i.isfsMobileTTCEngagementButtonClick()){e.n=1;break}if(BLDR.featureSets.mobileTTCEngagement&&i.props.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Experience&&i.fireEvent("work history details","save","clicked","resumes","work history details ttc section"),!(i.refsObj&&i.refsObj.experienceSection&&i.refsObj.experienceSection.refs&&i.refsObj.experienceSection.refs.freeForm&&i.refsObj.experienceSection.refs.freeForm.toggleExampleEditorVisiblity)){e.n=1;break}return i.refsObj.experienceSection.refs.freeForm.toggleExampleEditorVisiblity(),e.a(2,!0);case 1:i.noExperienceOverviewUserStage=0,i.noExperience_DescriptionUserStage=0,i.noViewedEventFiredForOverview=0,o=B.j(),n=B.h(i.props.document,null===(t=i.props.section)||void 0===t?void 0:t.sectionTypeCD),a="work history overview",i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?a="additional sections community service":i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer&&(a="additional section volunteer experience"),o===c.kb.overview?(BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent(a,"next","clicked","resumes"),i.checkAndSaveHaveExperiencePrefrences(),r=JSON.parse(JSON.stringify(i.state.document)),s=l.Z(),r=h.DocumentHelper.deleteEmptyParagrah(r,s),p=JSON.parse(JSON.stringify(i.state.section)),(p=h.DocumentHelper.DeleteAllEmptyParagrahFromSection(p))&&p.paragraphs&&0===p.paragraphs.length&&i.props.section.sectionTypeCD!==h.TypeCodes.sectionTypeCd.Experience&&(r=h.DocumentHelper.removeSection(r,p&&p.id)),r=l.Fc(j({},r)),i.props.documentActions.UpdateDocument(i.user.UserUID,r),i.navigateToPage(n)):(u=i.refsObj.experienceSection.getUpdatedSection(!0),d=sessionStorage.getItem("inlineResumePara"),BLDR.featureSets.inLineResumeScratchFlow&&i.props.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Experience&&!d&&(sessionStorage.setItem("inlineResumePara",!0),u.Section.paragraphs.forEach((function(e){e.docDatas.forEach((function(e){e.fieldCD===h.TypeCodes.fieldCd.JobDescription&&(e.charValue="")}))}))),u&&u.enableSorting&&(u.Section.paragraphs=B.a(u.Section.paragraphs)),u.isValid?(BLDR.isRG&&i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&(h.CommonHelper.deleteStorageValue(c.nc.jobTitleAutoSuggest),i.isFs_DelUxBundle&&h.CommonHelper.deleteStorageValue(c.nc.userCountry)),i.updateTTCConsumed(u.Section,u.paragraph),i.updateDocumentState(u.Section,u.paragraph,!0),i.refsObj&&i.refsObj.experienceSection&&i.refsObj.experienceSection.refs&&i.refsObj.experienceSection.refs.freeForm&&i.refsObj.experienceSection.refs.freeForm.getEventDetails&&(b=i.refsObj.experienceSection.refs.freeForm.getEventDetailsArray())&&b.length>0&&i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&i.trackAllTTCEvents(b),y=[c.kb.details,c.kb.responsibilities],v=!y.includes(o)&&i.props.isAddMode,i.isFunnelImprvmnts&&(o===c.kb.company&&i.props.isAddMode||o===c.kb.position)&&(T=B.e(null===(S=i.props)||void 0===S||null===(S=S.section)||void 0===S?void 0:S.sectionTypeCD),L=i.state.paragraph.id,P=L?"paraid=".concat(L,"&"):"",P+="frm=".concat(o),n="".concat(T,"?").concat(P,"&fields=").concat(c.jb.responsibilities)),R=h.CommonHelper.getCharValue(null==u||null===(m=u.paragraph)||void 0===m?void 0:m.docDatas,h.TypeCodes.fieldCd.JobDescription),(null===(C=i.props)||void 0===C||null===(C=C.section)||void 0===C?void 0:C.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Experience&&(o==c.kb.details||i.isFunnelImprvmnts&&h.CommonHelper.isNullOrWhitespace(R)&&(o==c.kb.position||o==c.kb.company))?i.noOfAutoAddTTCItems=3:i.noOfAutoAddTTCItems=0,(null===(f=i.props)||void 0===f||null===(f=f.section)||void 0===f?void 0:f.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Experience?(o==c.kb.details&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent("work history","continue","clicked","resumes"),o==c.kb.responsibilities&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent("work history details","next","clicked","resumes")):(null===(g=i.props)||void 0===g||null===(g=g.section)||void 0===g?void 0:g.sectionTypeCD)!=h.TypeCodes.sectionTypeCd.Volunteer&&(null===(D=i.props)||void 0===D||null===(D=D.section)||void 0===D?void 0:D.sectionTypeCD)!=h.TypeCodes.sectionTypeCd.Community_Service||BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent(a,"save","clicked","resumes"),BLDR.featureSets.inLineResumeScratchFlow&&i.props.section.sectionTypeCD==h.TypeCodes.sectionTypeCd.Experience&&(w=JSON.parse(JSON.stringify(i.state.document)),i.props.documentActions.UpdateDocument(i.user.UserUID,w)),i.navigateToPage(n,v)):o==c.kb.company?!u.isValid&&i.refsObj&&i.refsObj.experienceSection&&i.refsObj.experienceSection.areAllFieldsBlank()?i.navigateToPage(n):BLDR.getQueryString("companyid")&&(k=h.DocumentHelper.getParagraphsByIdFromSection(u.Section,i.state.paragraph.id))&&k.docDatas&&k.docDatas.length>0&&(E=h.CommonHelper.getCharValue(k.docDatas,h.TypeCodes.fieldCd.Company),h.CommonHelper.isNullOrWhitespace(E)||(i.updateDocumentState(u.Section,u.paragraph,!0),i.navigateToPage(n))):o==c.kb.position?(_=h.DocumentHelper.getParagraphsByIdFromSection(u.Section,i.state.paragraph.id))&&_.docDatas&&_.docDatas.length>0&&(x=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.Company),O=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.JobTitle),A=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.JobStartDate),F=h.CommonHelper.getCharValue(_.docDatas,h.TypeCodes.fieldCd.JobEndDate),h.CommonHelper.isNullOrWhitespace(x)&&!h.CommonHelper.isNullOrWhitespace(O)&&(h.CommonHelper.isNullOrWhitespace(A)&&h.CommonHelper.isNullOrWhitespace(F)?(i.updateDocumentState(u.Section,u.paragraph,!0),i.navigateToPage(n)):(I=A.split(" "),U=F.split(" "),H=new Date(Date.parse(I[0]+" 1, "+I[1])),V=new Date(Date.parse(U[0]+" 1, "+U[1])),H<=new Date&&(F==c.M||V<=new Date&&H<=V)&&(i.updateDocumentState(u.Section,u.paragraph,!0),i.navigateToPage(n))))):o==c.kb.details&&(i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&i.fireEvent("work history","continue","clicked","resumes"),!u.isValid&&u.Section&&u.Section.paragraphs&&1==u.Section.paragraphs.length&&i.refsObj&&i.refsObj.experienceSection&&i.refsObj.experienceSection.areAllFieldsBlank()&&h.DocumentHelper.isParagraphEmpty(u.Section.paragraphs[0])&&i.setState({showPopup:!0},(function(){BLDR.TrackEvents(c.ib.Notification,W(W(W({},c.bb.Activity,"viewed"),c.bb.Page_Name,"work history"),c.bb.Notification_Name,"work experience missing modal"),BLDR.UserClaims.user_uid,l.Ib())}))));case 2:return e.a(2)}}),e)})))),W(i,"onClosePopupClick",(function(e){e&&BLDR.TrackEvents(c.ib.Notification,W(W(W(W({},c.bb.Activity,"clicked"),c.bb.Page_Name,"work history"),c.bb.Notification_Name,"work experience missing modal"),c.bb.Cta_Name,e),BLDR.UserClaims.user_uid,l.Ib()),i.setState({showPopup:!1})})),W(i,"onPopupNextClick",(function(){var e;BLDR.TrackEvents(c.ib.Notification,W(W(W(W({},c.bb.Activity,"clicked"),c.bb.Page_Name,"work history"),c.bb.Notification_Name,"work experience missing modal"),c.bb.Cta_Name,"next"),BLDR.UserClaims.user_uid,l.Ib());var t=BLDR.isLite?c.Wb.yes:c.Wb.no;i.addHaveExperiencePreferences(t),i.setState({showPopup:!1});var o=B.h(i.props.document,null===(e=i.props.section)||void 0===e?void 0:e.sectionTypeCD,null,!0);BLDR.isRG&&i.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&(h.CommonHelper.deleteStorageValue(c.nc.jobTitleAutoSuggest),i.isFs_DelUxBundle&&h.CommonHelper.deleteStorageValue(c.nc.userCountry)),i.navigateToPage(o)})),W(i,"fireEvent",(function(e,t,o,n,a){var i={};o&&(i[c.bb.Activity]=o),e&&(i[c.bb.Page_Name]=e),n&&(i[c.bb.Document_Type]=n),t&&(i[c.bb.Cta_Name]=t),a&&(i[c.bb.Click_Location]=a),BLDR.TrackEvents(c.ib.DOCUMENT_EVENTS,i,BLDR.UserClaims.user_uid,l.Ib())})),W(i,"onSaveResumeClick",(function(e){L.d(),e===c.kb.experienceExists?i.redirectToLoginWithoutValidations(!0):i.onContinueClick(!0)})),W(i,"trackAllTTCEvents",(function(e){if(e&&e.length>0){var t=h.DocumentHelper.trackTTCEvents(i.user.UserUID,BLDR.PortalSettings.ConfigurePortalCd,e);i.props.documentActions.trackTTCEvents(t)}})),W(i,"onParaSort",(function(e){var t=JSON.parse(JSON.stringify(i.state.document.sections)),o=t.findIndex((function(t){return t.id==e.id}));t[o]=e;var n=JSON.parse(JSON.stringify(i.state.document));n.sections=t,e&&e.paragraphs&&e.paragraphs.length>0&&n&&(B.c(e,i.state.document.id),i.setState({section:e,document:n}),i.liveResumePreview&&i.updateDocumentContext(i.state.document),i.props.documentActions.UpdateDocument(i.user.UserUID,n))})),W(i,"trackEventsData",(function(e,t,o,n){switch(e){case"automatic content":var a={activity:t,"resume section":"work history",resumeid:i.state.document.id},r="",s="";i.state.paragraph&&i.state.paragraph.docDatas&&(r=h.CommonHelper.getCharValue(i.state.paragraph.docDatas,h.TypeCodes.fieldCd.JobTitle)||"",s=h.CommonHelper.getCharValue(i.state.paragraph.docDatas,h.TypeCodes.fieldCd.Company)||""),n["resume job title"]=r.toLowerCase(),delete n["click option"],(a=j(j({},a),n))["brand name"]=window.BLDR.PortalSettings.ConfigureProductCd,a["user language"]=BLDR.isCVG?"en-US":window.BLDR.cultureCD,a.language=BLDR.isCVG?"en-US":window.BLDR.cultureCD,a["work experience"]=B.l(i.state.paragraph),"search"==t?(a["user input"]=o.toLowerCase(),i.searchedText=o.toLowerCase(),i.searchedText&&BLDR.TrackEvents(e,a,i.user.UserUID,i.isLoggedIn)):(a["content value"]=o,a.company=s,BLDR.TrackEvents(e,a,i.user.UserUID,i.isLoggedIn))}})),W(i,"onDeleteSectionClick",(function(e){e&&(e.preventDefault(),e.stopPropagation()),i.setState({showPopup:!0})})),W(i,"deleteSection",(function(){var e=JSON.parse(JSON.stringify(i.state.document));if(!h.DocumentHelper.isEmptyParagraphExists(i.state.section)&&i.state.section.paragraphs.length>0){var t=h.DocumentHelper.removeSection(e,i.state.section.id);i.props.documentActions.UpdateDocument(i.user.UserUID,t)}})),W(i,"deleteSectionPopupConfirm",(function(){i.deleteSection(),i.closeDeleteSectionPopup(),i.onCancelClick()})),W(i,"closeDeleteSectionPopup",(function(){i.setState({showPopup:!1})})),W(i,"isfirstPara",(function(e){return!!(e&&e.length>=1&&e[0].id===i.state.paragraph.id)})),W(i,"customOptionsRenderer",(function(e){return e.flagIcon?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"data:image/png;base64,".concat(e.flagIcon),alt:"flag"}),a.a.createElement("span",null,e.label)):a.a.createElement("span",null,e.label)})),W(i,"customValueRenderer",(function(e){return e.value&&e.value.flagIcon?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"data:image/png;base64,".concat(e.value.flagIcon),alt:"flag"}),a.a.createElement("span",null,e.value.label)):e.value&&e.value.label?a.a.createElement("span",null,e.value.label):void 0})),W(i,"setAutoAddDocPreference",(function(){var e=JSON.parse(JSON.stringify(i.state.document)),t=c.N.autoAddDocPreBulletPoints;e.preferences&&(e.preferences.find((function(e){return e.docPreferenceTypeCD==t}))||(e=h.CommonHelper.addDocumentPreference(e,t,"1")));i.setState({document:e})})),W(i,"getAutoAddDocPreference",(function(){return l.J(i.state.document,c.N.autoAddDocPreBulletPoints)})),i.refsObj={},i.liveResumePreview=BLDR.showLiveResumePreview,i.isFs_DelUxBundle=window.BLDR.featureSets.delUxBundle,i.user=l.hb(),i.isResumeUploaded=l.J(i.props.document,c.N.resumeUploaded)||"0",i.state={document:B.b(e.document,e.section).document,section:B.b(e.document,e.section).section,paragraph:e.paragraph?e.paragraph:{},stateList:[],showPopup:!1,showGPTAnimation:!1,reRender:!1,showInlineResumePopup:!1,showErrorMsgPhotoUpload:!1,isUploadInProgress:!1,isUploadComplete:!1,fileName:"",fileType:"",errorMessage:"",fileBytes:[],showError:!1,browseFile:!1,showPasteResume:!1,showPasteError:!1,pasteErrorMessage:"",pastedValue:"",isPastedValueValid:!1,isPasteTextareaFocus:!1},i.fileDownloadComplete=!1,i.noOfAutoAddTTCItems=c.kb.responsibilities==B.j()&&(null===(n=i.props)||void 0===n||null===(n=n.section)||void 0===n?void 0:n.sectionTypeCD)==h.TypeCodes.sectionTypeCd.Experience?3:0,i.isInAdditionalSection=l.Gb(e),i.noExperienceOverviewUserStage=0,i.noExperience_DescriptionUserStage=0,i.noViewedEventFiredForOverview=0,i.noViewedEventFiredForResponsibility=0,i.isLoggedIn=!(!window.BLDR.UserClaims||"Guest"==window.BLDR.UserClaims.role),i.searchedText="",i.isFunnelImprvmnts=!0,i.isCountrySpecificPlaceholder=window.BLDR.featureSets.countrySpecificPlaceHolders,i.isResumeUploaded=l.J(i.props.document,c.N.resumeUploaded)||"0";return i.dropBoxOptions={success:function(e){e.forEach((function(e){(e=j(j({},e),{},{size:e.bytes})).link&&i.handleFileOnInlineResume(e,e.link,!1,!0)}))},cancel:function(){},linkType:"direct",multiselect:!1,extensions:[".doc",".docx",".pdf",".html",".htm",".txt",".rtf"]},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(t,e),o=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){if(B.j()==c.kb.responsibilities){var o=document.getElementsByClassName("builder-panel-content");o.length>0&&(o[0].scrollTop=0)}return e.paragraph&&t.paragraph.id!=e.paragraph.id?{document:e.document,paragraph:e.paragraph,section:e.section}:null}}],(n=[{key:"componentDidMount",value:function(){window.addEventListener("popstate",this.popStateListener),window.addEventListener("click",this.handleClickOutside),window.document.body.classList.add("ttc-editor");var e=B.j();if(this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&e===c.kb.details&&this.conductInlineResumeUploadForScratchUserExp(),this.getStateListFromCountry(this.state.paragraph),this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service||this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Volunteer){var t=this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Community_Service?"additional sections community service":"additional section volunteer experience";t&&e===c.kb.overview&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&this.fireEvent(t,"","viewed","resumes")}else{var o="";switch(e){case c.kb.experienceExists:o="add work experience";break;case c.kb.details:o="work history"}o&&this.fireEvent(o,"","viewed","resumes"),e!=c.kb.overview&&e!=c.kb.responsibilities&&this.props.saveUserStages(c.Ec.Work_History),e===c.kb.overview&&this.noExperienceOverviewUserStage<1&&(B.c(this.state.section,this.props.document.id),this.props.saveUserStages(c.Ec.Experience_Overview),this.noExperienceOverviewUserStage=this.noExperienceOverviewUserStage+1),BLDR.preload("".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/Illustration.png")),BLDR.isRG&&BLDR.preload("".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttcpopupwh-horizoontal-img.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/auto-add-exp-ttc1.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttc2modal-animation/leaves.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttc2modal-animation/img-template-shadow.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttc2modal-animation/template.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttc2modal-animation/empty-text.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttc2modal-animation/filled-text.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttc2modal-animation/anim-text.png"),"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/rgn/ttc2modal-animation/mouse.png"))}}},{key:"componentWillUnmount",value:function(){window.document.body.classList.remove("ttc-editor"),window.removeEventListener("popstate",this.popStateListener),window.removeEventListener("click",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e){var t=B.f(e.document),o=B.f(this.props.document),n=l.Ab(this.state.document,this.props.document);if(this.props.paragraph&&this.state.paragraph&&(this.props.paragraph.id!=this.state.paragraph.id||t!=o)||n?(n||this.getStateListFromCountry(this.props.paragraph),this.setState({document:this.props.document,section:this.props.section,paragraph:this.props.paragraph})):this.props.paragraph&&this.state.paragraph&&e.paragraph&&e.paragraph.id!=this.props.paragraph.id&&this.getStateListFromCountry(this.props.paragraph),e.document&&this.props.document&&JSON.stringify(this.props.document)!=JSON.stringify(e.document)&&l.J(this.props.document,c.N.WelcomeUxDisplayed)!=l.J(e.document,c.N.WelcomeUxDisplayed)&&(this.setState({document:this.props.document}),this.liveResumePreview&&(0,this.context.setDocument)(this.props.document)),"1"==this.isResumeUploaded&&BLDR.updateDocumentForGPT){var a=l.Nc(this.props.document,this.state.document,h.TypeCodes.sectionTypeCd.Experience);this.setState({document:a}),BLDR.updateDocumentForGPT=!1}var i=B.j();this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&i===c.kb.overview&&(this.noExperienceOverviewUserStage<1&&(B.c(this.state.section,this.props.document.id),this.props.saveUserStages(c.Ec.Experience_Overview),this.noExperienceOverviewUserStage=this.noExperienceOverviewUserStage+1),this.noViewedEventFiredForOverview<1&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&(this.fireEvent("work history overview","","viewed","resumes"),this.noViewedEventFiredForOverview=this.noViewedEventFiredForOverview+1)),this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&i===c.kb.responsibilities&&(this.noExperience_DescriptionUserStage<1&&(this.props.saveUserStages(c.Ec.Experience_Description),this.noExperience_DescriptionUserStage=this.noExperience_DescriptionUserStage+1),this.noViewedEventFiredForResponsibility<1&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&(this.fireEvent("work history details","","viewed","resumes"),this.noViewedEventFiredForResponsibility=this.noViewedEventFiredForResponsibility+1)),"responsibilities"!=i||this.props.section.sectionTypeCD!==h.TypeCodes.sectionTypeCd.Community_Service&&this.props.section.sectionTypeCD!==h.TypeCodes.sectionTypeCd.Volunteer||(document.body.classList.add("no-ads"),document.body.classList.remove("keep-ads"))}},{key:"handleUploadError",value:function(e,t){this.setState({showError:!0,browseFile:!0,fileBytes:[],fileName:t,errorMessage:e})}},{key:"readBinaryStringFromGoogleDriveOrDropbox",value:function(e,t,o){var n=this;if(t){this.fileDownloadComplete=!1;var a=new XMLHttpRequest;a.open("GET",t,!0),o&&a.setRequestHeader("Authorization","Bearer "+this.ObjGDrive.oauthToken),a.responseType="arraybuffer",a.onerror=function(){n.setState({showError:!0,browseFile:!0,fileBytes:[],fileName:e.name,errorMessage:"Something went wrong"})},a.onload=function(){var e=a.response,t=window.btoa(new Uint8Array(e).reduce((function(e,t){return e+String.fromCharCode(t)}),""));n.setState({fileBytes:t},(function(){n.fileDownloadComplete=!0}))},a.send()}}},{key:"readBinaryStringFromFile",value:function(e){this.fileDownloadComplete=!1;var t=new FileReader;t.readAsBinaryString?(t.readAsBinaryString(e),t.onload=function(){var e=this,o=window.btoa(t.result);this.setState({fileBytes:o},(function(){e.fileDownloadComplete=!0}))}.bind(this)):(t.readAsArrayBuffer(e),t.onload=function(){for(var e=this,o="",n=new Uint8Array(t.result),a=n.byteLength,i=0;i<a;i++)o+=String.fromCharCode(n[i]);if(o.length>0){var r=window.btoa(o);this.setState({fileBytes:r},(function(){e.fileDownloadComplete=!0}))}}.bind(this))}},{key:"storeTTCForSection",value:function(e,t,o){return e&&t&&t.id&&(e.ttcContentArray||(e.ttcContentArray={}),e.ttcContentArray[t.id]=o),e}},{key:"navigateToPage",value:function(e){this.props.section.sectionTypeCD===h.TypeCodes.sectionTypeCd.Experience&&e.includes(c.jb.responsibilities)&&(BLDR.PortalExperiments.expAIWritingHelpwithinWorkExperience&&_.a(BLDR.PortalExperiments.expAIWritingHelpwithinWorkExperience),BLDR.PortalExperiments.expSGPwithinWorkExperience&&_.a(BLDR.PortalExperiments.expSGPwithinWorkExperience)),this.showTileAnimationforGPT(e)}},{key:"redirectToLoginWithoutValidations",value:function(){var e,t=c.N.experiencePresent,o=c.Wb.no,n=this.props.document.preferences.find((function(e){return e.docPreferenceTypeCD==t}));n&&n.value===c.Wb.yes&&(o=n.value);var a=B.h(this.props.document,null===(e=this.props.section)||void 0===e?void 0:e.sectionTypeCD,o);this.navigateToPage(a)}},{key:"updateDocumentContext",value:function(e){this.context.setDocument(l.x(e))}},{key:"isSkipStateCDFromAutoSuggest",value:function(){return[c.I.Poland,c.I.Germany,c.I.France].includes(window.BLDR.countryDetails.countryCode)}},{key:"render",value:function(){var e,t=B.j(),o=l.P(this.props.document),n=B.i(t,this.props.isEditMode,o,null===(e=this.props)||void 0===e||null===(e=e.section)||void 0===e?void 0:e.sectionTypeCD),i=l.F(h.TypeCodes.fieldCd.JobCountry),r=BLDR.getQueryString("companyid"),s="",p=B.f(this.props.document);p&&(p==c.Wb.yes?s=BLDR.Localization.yes_Text:p==c.Wb.no&&(s=BLDR.Localization.no_Text));var u=l.eb(this.state.section.sectionTypeCD),d=l.M(BLDR.PortalExperiments.expAIWritingHelpwithinWorkExperience);return a.a.createElement(a.a.Fragment,null,a.a.createElement(T,{assignRef:this.assignRef,screenName:t,onParaSort:this.onParaSort,state:this.state,user:this.user,isEditMode:this.props.isEditMode,isAddMode:this.props.isAddMode,onCancelClick:this.onCancelClick,onContinueClick:this.onContinueClick,getTTCFromSection:this.getTTCFromSection,storeTTCForSection:this.storeTTCForSection,companyId:r,addAnotherPosition:this.addAnotherPosition,addAnotherCompany:this.addAnotherCompany,pageHeadingSubHeading:n,editPositionOrCompany:this.editPositionOrCompany,editCompanyTTC:this.editCompanyTTC,onExperienceAddOptionSelected:this.onExperienceAddOptionSelected,deleteParagraph:this.deleteParagraph,countryList:i,onComponentChange:this.onComponentChange,haveExperienceSelectedOption:s,onBackClick:this.onBackClick,enableJobTitleAutoSuggest:!0,noOfAutoAddTTCItems:this.noOfAutoAddTTCItems,graySuggestionForAutosuggest:!0,showPopup:this.state.showPopup,onClosePopupClick:this.onClosePopupClick,onClosesAutoAddTTCPopupClick:this.onClosesAutoAddTTCPopupClick,onPopupNextClick:this.onPopupNextClick,onPreviewRecommendationsClick:this.onPreviewRecommendationsClick,onStartFromScratchClick:this.onStartFromScratchClick,trackingPlacement:u,trackAllTTCEvents:this.trackAllTTCEvents,match:this.props.match,pageName:this.props.pageName,paraInitialize:this.liveResumePreview&&this.refsObj&&this.refsObj.experienceSection&&!this.refsObj.experienceSection.areAllFieldsBlank()&&t==c.kb.details,hideCountryCD:l.ub(),isPlaceholderExp:this.isCountrySpecificPlaceholder,useRMCCalendar:!1,setLimitForCalender:!0,txtOnFocus:null,txtOnBlur:null,trackEventsData:this.trackEventsData,showGPTContent:BLDR.showGPTContent,isFunnelImprvmnts:this.isFunnelImprvmnts,onDeleteSectionClick:this.onDeleteSectionClick,deleteSectionPopupConfirm:this.deleteSectionPopupConfirm,closeDeleteSectionPopup:this.closeDeleteSectionPopup,document:this.props.document,isInAdditionalSection:this.isInAdditionalSection,isCalledFromFinalize:this.props.isCalledFromFinalize,isResumeUploaded:this.isResumeUploaded,handleInlineResumePopup:this.handleInlineResumePopup,onCancelPopup:this.onCancelPopup,handleFile:this.handleFileOnInlineResume,onContinueClickInlineResume:this.onContinueClickInlineResume,pasteDocLinkClicked:this.pasteDocLinkClicked,onPasteAreaChange:this.onPasteAreaChange,onPasteAreaBlur:this.onPasteAreaBlur,onPasteAreaFocus:this.onPasteAreaFocus,pasteDocBackButtonClicked:this.pasteDocBackButtonClicked,onPasteContinueClick:this.onPasteContinueClick,goToUploadScreen:this.goToUploadScreen,dragFileHandler:this.dragFileHandler,onBackClickPopup:this.onBackClickPopup,setToggleSGPPreference:this.setToggleSGPPreference,getToggleSGPPreference:this.getToggleSGPPreference,setSGPTooltipUserPrefference:this.setSGPTooltipUserPrefference,getSGPTooltipUserPrefference:this.getSGPTooltipUserPrefference,jobEmployer:l.O(this.props.document),isMobile:BLDR.IsMobileDevice(),setCursorOnNextField:BLDR.IsMobileDevice(),isSkipStateCD:this.isSkipStateCDFromAutoSuggest(),fs_AIWritingHelpRefineFeature:"3"==d,fs_AIWritingHelpEnhanceFeature:"4"==d,isAIWritingHelpToggleEnabled:"4"==d,showAIWritingHelpToolTip:!0,getAIWritingHelpPreference:this.getAIWritingHelpPreference,setAIWritingHelpPreference:this.setAIWritingHelpPreference,getAIWHTooltipUserPrefference:this.getAIWHTooltipUserPrefference,setAIWHTooltipUserPrefference:this.setAIWHTooltipUserPrefference,improveAnythingLoc:c.vb,isFs_DelUxBundle:this.isFs_DelUxBundle,customOptionsRenderer:this.isFs_DelUxBundle&&this.customOptionsRenderer,customValueRenderer:this.isFs_DelUxBundle&&this.customValueRenderer,setAutoAddDocPreference:this.setAutoAddDocPreference,getAutoAddDocPreference:this.getAutoAddDocPreference}))}}])&&V(o.prototype,n),i&&V(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,i}(n.Component);W(Z,"contextType",k.a)},834:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var n=o(0),a=o.n(n),i=o(4),r=o(133);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(e){return a.a.createElement(a.a.Fragment,null,function(t,o,n){if(t&&t.length>0)return t.map((function(t,r){var s=t.value||t,c=t.label||t;return a.a.createElement("div",{key:r,onClick:function(){e.onNextClick(s,n)},className:i.Vb(o,s)?"radio-button-container active":"radio-button-container",role:"link"},a.a.createElement("div",{className:"radio-button-content"},a.a.createElement("span",{className:"radio-button-text"},c||"")))}))}(e.options,e.selectedOption,e.screenName),BLDR.IsMobileDevice()&&a.a.createElement(r.a,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},{backBtnText:null,nextBtnText:null,onBackClick:null,onNextClick:null,pageName:e.pageName,match:e.match,hideProgressBar:!0})))}},837:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(0),a=o.n(n);function i(e){var t=e.subHeading;return t=t.replace("{0}",e.sectionName.toLowerCase()),a.a.createElement("div",{className:"section-loader"},a.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/loader.gif"),alt:"loader",height:"31",width:"31"}),a.a.createElement("p",{className:"section-title"},e.sectionName),a.a.createElement("p",{className:"section-text"},t))}},874:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return s}));var n=o(0),a=o.n(n),i=o(6),r=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},a.a.createElement(i.X,null))},s=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},a.a.createElement(i.V,null))}},909:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o(0),a=o.n(n),i=o(1);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,a,i,r,s=[],c=!0,l=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;c=!1}else for(;!(c=(n=i.call(o)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=o.return&&(r=o.return(),Object(r)!==r))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function c(e){var t,o,s,c,l,p=0;BLDR.featureSets.parsingProgress&&BLDR.GPTParserData.gptUPloadProgressPercentage?p=BLDR.GPTParserData.gptUPloadProgressPercentage>0?BLDR.GPTParserData.gptUPloadProgressPercentage:e.maxValue:p=(null===(c=BLDR.GPTParserData)||void 0===c?void 0:c.currentProgress)>=e.maxValue?e.maxValue:null===(l=BLDR.GPTParserData)||void 0===l?void 0:l.currentProgress;var u,d,m,C,f,h,g=r(Object(n.useState)(p),2),D=g[0],b=g[1],y=Object(n.useRef)(null),v=e.parseTime/(e.maxValue==i.e.maxPercentage?100:e.maxValue-e.minValue),S="";e.isChooseTemplateScreen?null!==(u=BLDR.GPTParserData)&&void 0!==u&&u.successMessage?S=BLDR.GPTParserData.successMessage:null!==(d=BLDR.GPTParserData)&&void 0!==d&&d.exprSectionMessage&&BLDR.featureSets.showRealTimeDataInChooseTemplate?S=BLDR.GPTParserData.exprSectionMessage:null!==(m=BLDR.GPTParserData)&&void 0!==m&&m.cntcSectionMessage&&BLDR.featureSets.showRealTimeDataInChooseTemplate&&(S=BLDR.GPTParserData.cntcSectionMessage):S=null!==(C=BLDR.GPTParserData)&&void 0!==C&&C.successMessage?BLDR.GPTParserData.successMessage:null!==(f=BLDR.GPTParserData)&&void 0!==f&&f.exprSectionMessage&&e.sectionToUpdate!=i.e.completeSections?null===(h=BLDR.GPTParserData)||void 0===h?void 0:h.exprSectionMessage:"";var T=null;null===(t=BLDR.GPTParserData)||void 0===t||t.restParseTime,i.e.maxPercentage,e.maxValue;return Object(n.useEffect)((function(){return[i.e.cntcSection,i.e.exprSection,i.e.completeSections].includes(e.sectionToUpdate)&&(T=setInterval((function(){b((function(t){return BLDR.GPTParserData.gptUPloadProgressPercentage=t,t>=e.maxValue?(clearInterval(T),t):t+1}))}),v)),function(){clearInterval(T)}}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"import-resume",ref:y},a.a.createElement("div",{className:"loader"},a.a.createElement("img",{src:"".concat(BLDR.CDNHost+window.BLDR.imagePath,"/images/loader.gif"),alt:"loader",height:"31",width:"31"})),a.a.createElement("div",{className:"progress-bar"},a.a.createElement("div",{className:"bar"},a.a.createElement("span",{className:"bar-progress",style:{width:"".concat(null!==(o=BLDR.GPTParserData)&&void 0!==o&&o.successMessage?"100":D,"%")}})),a.a.createElement("div",{className:"progress-text"},a.a.createElement("span",null,S||BLDR.Localization.gpt_import_text),a.a.createElement("span",null,"".concat(null!==(s=BLDR.GPTParserData)&&void 0!==s&&s.successMessage?"100":D).concat(BLDR.Localization.gpt_percentage))))))}}}]);